function LA(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(r,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var DA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function PA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tp={exports:{}},qa={},ep={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=Symbol.for("react.element"),IA=Symbol.for("react.portal"),OA=Symbol.for("react.fragment"),BA=Symbol.for("react.strict_mode"),FA=Symbol.for("react.profiler"),NA=Symbol.for("react.provider"),MA=Symbol.for("react.context"),jA=Symbol.for("react.forward_ref"),zA=Symbol.for("react.suspense"),WA=Symbol.for("react.memo"),_A=Symbol.for("react.lazy"),Gf=Symbol.iterator;function VA(e){return e===null||typeof e!="object"?null:(e=Gf&&e[Gf]||e["@@iterator"],typeof e=="function"?e:null)}var np={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rp=Object.assign,ip={};function Di(e,t,n){this.props=e,this.context=t,this.refs=ip,this.updater=n||np}Di.prototype.isReactComponent={};Di.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Di.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function op(){}op.prototype=Di.prototype;function bd(e,t,n){this.props=e,this.context=t,this.refs=ip,this.updater=n||np}var Ad=bd.prototype=new op;Ad.constructor=bd;rp(Ad,Di.prototype);Ad.isPureReactComponent=!0;var Qf=Array.isArray,sp=Object.prototype.hasOwnProperty,xd={current:null},ap={key:!0,ref:!0,__self:!0,__source:!0};function lp(e,t,n){var r,o={},a=null,u=null;if(t!=null)for(r in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)sp.call(t,r)&&!ap.hasOwnProperty(r)&&(o[r]=t[r]);var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){for(var f=Array(d),m=0;m<d;m++)f[m]=arguments[m+2];o.children=f}if(e&&e.defaultProps)for(r in d=e.defaultProps,d)o[r]===void 0&&(o[r]=d[r]);return{$$typeof:ts,type:e,key:a,ref:u,props:o,_owner:xd.current}}function UA(e,t){return{$$typeof:ts,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ts}function $A(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xf=/\/+/g;function cu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$A(""+e.key):t.toString(36)}function Qs(e,t,n,r,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case ts:case IA:u=!0}}if(u)return u=e,o=o(u),e=r===""?"."+cu(u,0):r,Qf(o)?(n="",e!=null&&(n=e.replace(Xf,"$&/")+"/"),Qs(o,t,n,"",function(m){return m})):o!=null&&(Cd(o)&&(o=UA(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(Xf,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=r===""?".":r+":",Qf(e))for(var d=0;d<e.length;d++){a=e[d];var f=r+cu(a,d);u+=Qs(a,t,n,f,o)}else if(f=VA(e),typeof f=="function")for(e=f.call(e),d=0;!(a=e.next()).done;)a=a.value,f=r+cu(a,d++),u+=Qs(a,t,n,f,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Rs(e,t,n){if(e==null)return e;var r=[],o=0;return Qs(e,r,"","",function(a){return t.call(n,a,o++)}),r}function HA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ee={current:null},Xs={transition:null},qA={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:Xs,ReactCurrentOwner:xd};function up(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Rs,forEach:function(e,t,n){Rs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rs(e,function(){t++}),t},toArray:function(e){return Rs(e,function(t){return t})||[]},only:function(e){if(!Cd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=Di;G.Fragment=OA;G.Profiler=FA;G.PureComponent=bd;G.StrictMode=BA;G.Suspense=zA;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qA;G.act=up;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rp({},e.props),o=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=xd.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(f in t)sp.call(t,f)&&!ap.hasOwnProperty(f)&&(r[f]=t[f]===void 0&&d!==void 0?d[f]:t[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){d=Array(f);for(var m=0;m<f;m++)d[m]=arguments[m+2];r.children=d}return{$$typeof:ts,type:e.type,key:o,ref:a,props:r,_owner:u}};G.createContext=function(e){return e={$$typeof:MA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:NA,_context:e},e.Consumer=e};G.createElement=lp;G.createFactory=function(e){var t=lp.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:jA,render:e}};G.isValidElement=Cd;G.lazy=function(e){return{$$typeof:_A,_payload:{_status:-1,_result:e},_init:HA}};G.memo=function(e,t){return{$$typeof:WA,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=Xs.transition;Xs.transition={};try{e()}finally{Xs.transition=t}};G.unstable_act=up;G.useCallback=function(e,t){return ee.current.useCallback(e,t)};G.useContext=function(e){return ee.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return ee.current.useDeferredValue(e)};G.useEffect=function(e,t){return ee.current.useEffect(e,t)};G.useId=function(){return ee.current.useId()};G.useImperativeHandle=function(e,t,n){return ee.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return ee.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return ee.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return ee.current.useMemo(e,t)};G.useReducer=function(e,t,n){return ee.current.useReducer(e,t,n)};G.useRef=function(e){return ee.current.useRef(e)};G.useState=function(e){return ee.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return ee.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return ee.current.useTransition()};G.version="18.3.1";ep.exports=G;var mt=ep.exports;const KA=PA(mt),Yf=LA({__proto__:null,default:KA},[mt]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA=mt,GA=Symbol.for("react.element"),QA=Symbol.for("react.fragment"),XA=Object.prototype.hasOwnProperty,YA=JA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ZA={key:!0,ref:!0,__self:!0,__source:!0};function cp(e,t,n){var r,o={},a=null,u=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)XA.call(t,r)&&!ZA.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:GA,type:e,key:a,ref:u,props:o,_owner:YA.current}}qa.Fragment=QA;qa.jsx=cp;qa.jsxs=cp;tp.exports=qa;var me=tp.exports,dp={exports:{}},Se={},hp={exports:{}},fp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,U){var K=z.length;z.push(U);t:for(;0<K;){var ht=K-1>>>1,ut=z[ht];if(0<o(ut,U))z[ht]=U,z[K]=ut,K=ht;else break t}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var U=z[0],K=z.pop();if(K!==U){z[0]=K;t:for(var ht=0,ut=z.length,jr=ut>>>1;ht<jr;){var re=2*(ht+1)-1,Ne=z[re],qe=re+1,Ke=z[qe];if(0>o(Ne,K))qe<ut&&0>o(Ke,Ne)?(z[ht]=Ke,z[qe]=K,ht=qe):(z[ht]=Ne,z[re]=K,ht=re);else if(qe<ut&&0>o(Ke,K))z[ht]=Ke,z[qe]=K,ht=qe;else break t}}return U}function o(z,U){var K=z.sortIndex-U.sortIndex;return K!==0?K:z.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],m=[],b=1,v=null,x=3,T=!1,R=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(z){for(var U=n(m);U!==null;){if(U.callback===null)r(m);else if(U.startTime<=z)r(m),U.sortIndex=U.expirationTime,t(f,U);else break;U=n(m)}}function k(z){if(w=!1,S(z),!R)if(n(f)!==null)R=!0,_(D);else{var U=n(m);U!==null&&we(k,U.startTime-z)}}function D(z,U){R=!1,w&&(w=!1,C(F),F=-1),T=!0;var K=x;try{for(S(U),v=n(f);v!==null&&(!(v.expirationTime>U)||z&&!N());){var ht=v.callback;if(typeof ht=="function"){v.callback=null,x=v.priorityLevel;var ut=ht(v.expirationTime<=U);U=e.unstable_now(),typeof ut=="function"?v.callback=ut:v===n(f)&&r(f),S(U)}else r(f);v=n(f)}if(v!==null)var jr=!0;else{var re=n(m);re!==null&&we(k,re.startTime-U),jr=!1}return jr}finally{v=null,x=K,T=!1}}var O=!1,I=null,F=-1,H=5,p=-1;function N(){return!(e.unstable_now()-p<H)}function V(){if(I!==null){var z=e.unstable_now();p=z;var U=!0;try{U=I(!0,z)}finally{U?q():(O=!1,I=null)}}else O=!1}var q;if(typeof A=="function")q=function(){A(V)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,rt=pt.port2;pt.port1.onmessage=V,q=function(){rt.postMessage(null)}}else q=function(){j(V,0)};function _(z){I=z,O||(O=!0,q())}function we(z,U){F=j(function(){z(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){R||T||(R=!0,_(D))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(z){switch(x){case 1:case 2:case 3:var U=3;break;default:U=x}var K=x;x=U;try{return z()}finally{x=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,U){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var K=x;x=z;try{return U()}finally{x=K}},e.unstable_scheduleCallback=function(z,U,K){var ht=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ht+K:ht):K=ht,z){case 1:var ut=-1;break;case 2:ut=250;break;case 5:ut=1073741823;break;case 4:ut=1e4;break;default:ut=5e3}return ut=K+ut,z={id:b++,callback:U,priorityLevel:z,startTime:K,expirationTime:ut,sortIndex:-1},K>ht?(z.sortIndex=K,t(m,z),n(f)===null&&z===n(m)&&(w?(C(F),F=-1):w=!0,we(k,K-ht))):(z.sortIndex=ut,t(f,z),R||T||(R=!0,_(D))),z},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(z){var U=x;return function(){var K=x;x=U;try{return z.apply(this,arguments)}finally{x=K}}}})(fp);hp.exports=fp;var tx=hp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ex=mt,Ce=tx;function B(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gp=new Set,Po={};function Or(e,t){xi(e,t),xi(e+"Capture",t)}function xi(e,t){for(Po[e]=t,e=0;e<t.length;e++)gp.add(t[e])}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ac=Object.prototype.hasOwnProperty,nx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zf={},tg={};function rx(e){return ac.call(tg,e)?!0:ac.call(Zf,e)?!1:nx.test(e)?tg[e]=!0:(Zf[e]=!0,!1)}function ix(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ox(e,t,n,r){if(t===null||typeof t>"u"||ix(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ne(e,t,n,r,o,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var Ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ut[e]=new ne(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ut[t]=new ne(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ut[e]=new ne(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ut[e]=new ne(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ut[e]=new ne(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ut[e]=new ne(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ut[e]=new ne(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ut[e]=new ne(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ut[e]=new ne(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sd=/[\-:]([a-z])/g;function kd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sd,kd);Ut[t]=new ne(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sd,kd);Ut[t]=new ne(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sd,kd);Ut[t]=new ne(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ut[e]=new ne(e,1,!1,e.toLowerCase(),null,!1,!1)});Ut.xlinkHref=new ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ut[e]=new ne(e,1,!1,e.toLowerCase(),null,!0,!0)});function wd(e,t,n,r){var o=Ut.hasOwnProperty(t)?Ut[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ox(t,n,o,r)&&(n=null),r||o===null?rx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var En=ex.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ts=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),ti=Symbol.for("react.fragment"),Ed=Symbol.for("react.strict_mode"),lc=Symbol.for("react.profiler"),mp=Symbol.for("react.provider"),pp=Symbol.for("react.context"),Rd=Symbol.for("react.forward_ref"),uc=Symbol.for("react.suspense"),cc=Symbol.for("react.suspense_list"),Td=Symbol.for("react.memo"),On=Symbol.for("react.lazy"),vp=Symbol.for("react.offscreen"),eg=Symbol.iterator;function Ki(e){return e===null||typeof e!="object"?null:(e=eg&&e[eg]||e["@@iterator"],typeof e=="function"?e:null)}var At=Object.assign,du;function so(e){if(du===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);du=t&&t[1]||""}return`
`+du+e}var hu=!1;function fu(e,t){if(!e||hu)return"";hu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var r=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){r=m}e.call(t.prototype)}else{try{throw Error()}catch(m){r=m}e()}}catch(m){if(m&&r&&typeof m.stack=="string"){for(var o=m.stack.split(`
`),a=r.stack.split(`
`),u=o.length-1,d=a.length-1;1<=u&&0<=d&&o[u]!==a[d];)d--;for(;1<=u&&0<=d;u--,d--)if(o[u]!==a[d]){if(u!==1||d!==1)do if(u--,d--,0>d||o[u]!==a[d]){var f=`
`+o[u].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=u&&0<=d);break}}}finally{hu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?so(e):""}function sx(e){switch(e.tag){case 5:return so(e.type);case 16:return so("Lazy");case 13:return so("Suspense");case 19:return so("SuspenseList");case 0:case 2:case 15:return e=fu(e.type,!1),e;case 11:return e=fu(e.type.render,!1),e;case 1:return e=fu(e.type,!0),e;default:return""}}function dc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ti:return"Fragment";case Zr:return"Portal";case lc:return"Profiler";case Ed:return"StrictMode";case uc:return"Suspense";case cc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pp:return(e.displayName||"Context")+".Consumer";case mp:return(e._context.displayName||"Context")+".Provider";case Rd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Td:return t=e.displayName||null,t!==null?t:dc(e.type)||"Memo";case On:t=e._payload,e=e._init;try{return dc(e(t))}catch{}}return null}function ax(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dc(t);case 8:return t===Ed?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lx(e){var t=yp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ls(e){e._valueTracker||(e._valueTracker=lx(e))}function bp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=yp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ga(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hc(e,t){var n=t.checked;return At({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ng(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ap(e,t){t=t.checked,t!=null&&wd(e,"checked",t,!1)}function fc(e,t){Ap(e,t);var n=Gn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gc(e,t.type,n):t.hasOwnProperty("defaultValue")&&gc(e,t.type,Gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gc(e,t,n){(t!=="number"||ga(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ao=Array.isArray;function di(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function mc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(B(91));return At({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ig(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(B(92));if(ao(n)){if(1<n.length)throw Error(B(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gn(n)}}function xp(e,t){var n=Gn(t.value),r=Gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function og(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Cp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Cp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ds,Sp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ds=Ds||document.createElement("div"),Ds.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ds.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Io(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ux=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(e){ux.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),go[t]=go[e]})});function kp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||go.hasOwnProperty(e)&&go[e]?(""+t).trim():t+"px"}function wp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=kp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var cx=At({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vc(e,t){if(t){if(cx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(B(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(B(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(B(61))}if(t.style!=null&&typeof t.style!="object")throw Error(B(62))}}function yc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=null;function Ld(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ac=null,hi=null,fi=null;function sg(e){if(e=rs(e)){if(typeof Ac!="function")throw Error(B(280));var t=e.stateNode;t&&(t=Xa(t),Ac(e.stateNode,e.type,t))}}function Ep(e){hi?fi?fi.push(e):fi=[e]:hi=e}function Rp(){if(hi){var e=hi,t=fi;if(fi=hi=null,sg(e),t)for(e=0;e<t.length;e++)sg(t[e])}}function Tp(e,t){return e(t)}function Lp(){}var gu=!1;function Dp(e,t,n){if(gu)return e(t,n);gu=!0;try{return Tp(e,t,n)}finally{gu=!1,(hi!==null||fi!==null)&&(Lp(),Rp())}}function Oo(e,t){var n=e.stateNode;if(n===null)return null;var r=Xa(n);if(r===null)return null;n=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var xc=!1;if(xn)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){xc=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{xc=!1}function dx(e,t,n,r,o,a,u,d,f){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(b){this.onError(b)}}var mo=!1,ma=null,pa=!1,Cc=null,hx={onError:function(e){mo=!0,ma=e}};function fx(e,t,n,r,o,a,u,d,f){mo=!1,ma=null,dx.apply(hx,arguments)}function gx(e,t,n,r,o,a,u,d,f){if(fx.apply(this,arguments),mo){if(mo){var m=ma;mo=!1,ma=null}else throw Error(B(198));pa||(pa=!0,Cc=m)}}function Br(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ag(e){if(Br(e)!==e)throw Error(B(188))}function mx(e){var t=e.alternate;if(!t){if(t=Br(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return ag(o),e;if(a===r)return ag(o),t;a=a.sibling}throw Error(B(188))}if(n.return!==r.return)n=o,r=a;else{for(var u=!1,d=o.child;d;){if(d===n){u=!0,n=o,r=a;break}if(d===r){u=!0,r=o,n=a;break}d=d.sibling}if(!u){for(d=a.child;d;){if(d===n){u=!0,n=a,r=o;break}if(d===r){u=!0,r=a,n=o;break}d=d.sibling}if(!u)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function Ip(e){return e=mx(e),e!==null?Op(e):null}function Op(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Op(e);if(t!==null)return t;e=e.sibling}return null}var Bp=Ce.unstable_scheduleCallback,lg=Ce.unstable_cancelCallback,px=Ce.unstable_shouldYield,vx=Ce.unstable_requestPaint,Tt=Ce.unstable_now,yx=Ce.unstable_getCurrentPriorityLevel,Dd=Ce.unstable_ImmediatePriority,Fp=Ce.unstable_UserBlockingPriority,va=Ce.unstable_NormalPriority,bx=Ce.unstable_LowPriority,Np=Ce.unstable_IdlePriority,Ka=null,on=null;function Ax(e){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Ka,e,void 0,(e.current.flags&128)===128)}catch{}}var Ue=Math.clz32?Math.clz32:Sx,xx=Math.log,Cx=Math.LN2;function Sx(e){return e>>>=0,e===0?32:31-(xx(e)/Cx|0)|0}var Ps=64,Is=4194304;function lo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ya(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,u=n&268435455;if(u!==0){var d=u&~o;d!==0?r=lo(d):(a&=u,a!==0&&(r=lo(a)))}else u=n&~o,u!==0?r=lo(u):a!==0&&(r=lo(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ue(t),o=1<<n,r|=e[n],t&=~o;return r}function kx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Ue(a),d=1<<u,f=o[u];f===-1?(!(d&n)||d&r)&&(o[u]=kx(d,t)):f<=t&&(e.expiredLanes|=d),a&=~d}}function Sc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Mp(){var e=Ps;return Ps<<=1,!(Ps&4194240)&&(Ps=64),e}function mu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function es(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ue(t),e[t]=n}function Ex(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Ue(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}function Pd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ue(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var nt=0;function jp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zp,Id,Wp,_p,Vp,kc=!1,Os=[],_n=null,Vn=null,Un=null,Bo=new Map,Fo=new Map,Nn=[],Rx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ug(e,t){switch(e){case"focusin":case"focusout":_n=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(t.pointerId)}}function Gi(e,t,n,r,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},t!==null&&(t=rs(t),t!==null&&Id(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Tx(e,t,n,r,o){switch(t){case"focusin":return _n=Gi(_n,e,t,n,r,o),!0;case"dragenter":return Vn=Gi(Vn,e,t,n,r,o),!0;case"mouseover":return Un=Gi(Un,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Bo.set(a,Gi(Bo.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Fo.set(a,Gi(Fo.get(a)||null,e,t,n,r,o)),!0}return!1}function Up(e){var t=mr(e.target);if(t!==null){var n=Br(t);if(n!==null){if(t=n.tag,t===13){if(t=Pp(n),t!==null){e.blockedOn=t,Vp(e.priority,function(){Wp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bc=r,n.target.dispatchEvent(r),bc=null}else return t=rs(n),t!==null&&Id(t),e.blockedOn=n,!1;t.shift()}return!0}function cg(e,t,n){Ys(e)&&n.delete(t)}function Lx(){kc=!1,_n!==null&&Ys(_n)&&(_n=null),Vn!==null&&Ys(Vn)&&(Vn=null),Un!==null&&Ys(Un)&&(Un=null),Bo.forEach(cg),Fo.forEach(cg)}function Qi(e,t){e.blockedOn===t&&(e.blockedOn=null,kc||(kc=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,Lx)))}function No(e){function t(o){return Qi(o,e)}if(0<Os.length){Qi(Os[0],e);for(var n=1;n<Os.length;n++){var r=Os[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_n!==null&&Qi(_n,e),Vn!==null&&Qi(Vn,e),Un!==null&&Qi(Un,e),Bo.forEach(t),Fo.forEach(t),n=0;n<Nn.length;n++)r=Nn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)Up(n),n.blockedOn===null&&Nn.shift()}var gi=En.ReactCurrentBatchConfig,ba=!0;function Dx(e,t,n,r){var o=nt,a=gi.transition;gi.transition=null;try{nt=1,Od(e,t,n,r)}finally{nt=o,gi.transition=a}}function Px(e,t,n,r){var o=nt,a=gi.transition;gi.transition=null;try{nt=4,Od(e,t,n,r)}finally{nt=o,gi.transition=a}}function Od(e,t,n,r){if(ba){var o=wc(e,t,n,r);if(o===null)wu(e,t,r,Aa,n),ug(e,r);else if(Tx(o,e,t,n,r))r.stopPropagation();else if(ug(e,r),t&4&&-1<Rx.indexOf(e)){for(;o!==null;){var a=rs(o);if(a!==null&&zp(a),a=wc(e,t,n,r),a===null&&wu(e,t,r,Aa,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else wu(e,t,r,null,n)}}var Aa=null;function wc(e,t,n,r){if(Aa=null,e=Ld(r),e=mr(e),e!==null)if(t=Br(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Pp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Aa=e,null}function $p(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yx()){case Dd:return 1;case Fp:return 4;case va:case bx:return 16;case Np:return 536870912;default:return 16}default:return 16}}var zn=null,Bd=null,Zs=null;function Hp(){if(Zs)return Zs;var e,t=Bd,n=t.length,r,o="value"in zn?zn.value:zn.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var u=n-e;for(r=1;r<=u&&t[n-r]===o[a-r];r++);return Zs=o.slice(e,1<r?1-r:void 0)}function ta(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bs(){return!0}function dg(){return!1}function ke(e){function t(n,r,o,a,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(a):a[d]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Bs:dg,this.isPropagationStopped=dg,this}return At(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bs)},persist:function(){},isPersistent:Bs}),t}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fd=ke(Pi),ns=At({},Pi,{view:0,detail:0}),Ix=ke(ns),pu,vu,Xi,Ja=At({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xi&&(Xi&&e.type==="mousemove"?(pu=e.screenX-Xi.screenX,vu=e.screenY-Xi.screenY):vu=pu=0,Xi=e),pu)},movementY:function(e){return"movementY"in e?e.movementY:vu}}),hg=ke(Ja),Ox=At({},Ja,{dataTransfer:0}),Bx=ke(Ox),Fx=At({},ns,{relatedTarget:0}),yu=ke(Fx),Nx=At({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Mx=ke(Nx),jx=At({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zx=ke(jx),Wx=At({},Pi,{data:0}),fg=ke(Wx),_x={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ux={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $x(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ux[e])?!!t[e]:!1}function Nd(){return $x}var Hx=At({},ns,{key:function(e){if(e.key){var t=_x[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ta(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nd,charCode:function(e){return e.type==="keypress"?ta(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ta(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qx=ke(Hx),Kx=At({},Ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gg=ke(Kx),Jx=At({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nd}),Gx=ke(Jx),Qx=At({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xx=ke(Qx),Yx=At({},Ja,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zx=ke(Yx),t1=[9,13,27,32],Md=xn&&"CompositionEvent"in window,po=null;xn&&"documentMode"in document&&(po=document.documentMode);var e1=xn&&"TextEvent"in window&&!po,qp=xn&&(!Md||po&&8<po&&11>=po),mg=" ",pg=!1;function Kp(e,t){switch(e){case"keyup":return t1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ei=!1;function n1(e,t){switch(e){case"compositionend":return Jp(t);case"keypress":return t.which!==32?null:(pg=!0,mg);case"textInput":return e=t.data,e===mg&&pg?null:e;default:return null}}function r1(e,t){if(ei)return e==="compositionend"||!Md&&Kp(e,t)?(e=Hp(),Zs=Bd=zn=null,ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qp&&t.locale!=="ko"?null:t.data;default:return null}}var i1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!i1[e.type]:t==="textarea"}function Gp(e,t,n,r){Ep(r),t=xa(t,"onChange"),0<t.length&&(n=new Fd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vo=null,Mo=null;function o1(e){sv(e,0)}function Ga(e){var t=ii(e);if(bp(t))return e}function s1(e,t){if(e==="change")return t}var Qp=!1;if(xn){var bu;if(xn){var Au="oninput"in document;if(!Au){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),Au=typeof yg.oninput=="function"}bu=Au}else bu=!1;Qp=bu&&(!document.documentMode||9<document.documentMode)}function bg(){vo&&(vo.detachEvent("onpropertychange",Xp),Mo=vo=null)}function Xp(e){if(e.propertyName==="value"&&Ga(Mo)){var t=[];Gp(t,Mo,e,Ld(e)),Dp(o1,t)}}function a1(e,t,n){e==="focusin"?(bg(),vo=t,Mo=n,vo.attachEvent("onpropertychange",Xp)):e==="focusout"&&bg()}function l1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ga(Mo)}function u1(e,t){if(e==="click")return Ga(t)}function c1(e,t){if(e==="input"||e==="change")return Ga(t)}function d1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var He=typeof Object.is=="function"?Object.is:d1;function jo(e,t){if(He(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ac.call(t,o)||!He(e[o],t[o]))return!1}return!0}function Ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xg(e,t){var n=Ag(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Ag(n)}}function Yp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zp(){for(var e=window,t=ga();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ga(e.document)}return t}function jd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function h1(e){var t=Zp(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Yp(n.ownerDocument.documentElement,n)){if(r!==null&&jd(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=xg(n,a);var u=xg(n,r);o&&u&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var f1=xn&&"documentMode"in document&&11>=document.documentMode,ni=null,Ec=null,yo=null,Rc=!1;function Cg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rc||ni==null||ni!==ga(r)||(r=ni,"selectionStart"in r&&jd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yo&&jo(yo,r)||(yo=r,r=xa(Ec,"onSelect"),0<r.length&&(t=new Fd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ni)))}function Fs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ri={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionend:Fs("Transition","TransitionEnd")},xu={},tv={};xn&&(tv=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function Qa(e){if(xu[e])return xu[e];if(!ri[e])return e;var t=ri[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tv)return xu[e]=t[n];return e}var ev=Qa("animationend"),nv=Qa("animationiteration"),rv=Qa("animationstart"),iv=Qa("transitionend"),ov=new Map,Sg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tr(e,t){ov.set(e,t),Or(t,[e])}for(var Cu=0;Cu<Sg.length;Cu++){var Su=Sg[Cu],g1=Su.toLowerCase(),m1=Su[0].toUpperCase()+Su.slice(1);tr(g1,"on"+m1)}tr(ev,"onAnimationEnd");tr(nv,"onAnimationIteration");tr(rv,"onAnimationStart");tr("dblclick","onDoubleClick");tr("focusin","onFocus");tr("focusout","onBlur");tr(iv,"onTransitionEnd");xi("onMouseEnter",["mouseout","mouseover"]);xi("onMouseLeave",["mouseout","mouseover"]);xi("onPointerEnter",["pointerout","pointerover"]);xi("onPointerLeave",["pointerout","pointerover"]);Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Or("onBeforeInput",["compositionend","keypress","textInput","paste"]);Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),p1=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function kg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,gx(r,t,void 0,e),e.currentTarget=null}function sv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;t:{var a=void 0;if(t)for(var u=r.length-1;0<=u;u--){var d=r[u],f=d.instance,m=d.currentTarget;if(d=d.listener,f!==a&&o.isPropagationStopped())break t;kg(o,d,m),a=f}else for(u=0;u<r.length;u++){if(d=r[u],f=d.instance,m=d.currentTarget,d=d.listener,f!==a&&o.isPropagationStopped())break t;kg(o,d,m),a=f}}}if(pa)throw e=Cc,pa=!1,Cc=null,e}function ct(e,t){var n=t[Ic];n===void 0&&(n=t[Ic]=new Set);var r=e+"__bubble";n.has(r)||(av(t,e,2,!1),n.add(r))}function ku(e,t,n){var r=0;t&&(r|=4),av(n,e,r,t)}var Ns="_reactListening"+Math.random().toString(36).slice(2);function zo(e){if(!e[Ns]){e[Ns]=!0,gp.forEach(function(n){n!=="selectionchange"&&(p1.has(n)||ku(n,!1,e),ku(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ns]||(t[Ns]=!0,ku("selectionchange",!1,t))}}function av(e,t,n,r){switch($p(t)){case 1:var o=Dx;break;case 4:o=Px;break;default:o=Od}n=o.bind(null,t,n,e),o=void 0,!xc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function wu(e,t,n,r,o){var a=r;if(!(t&1)&&!(t&2)&&r!==null)t:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var d=r.stateNode.containerInfo;if(d===o||d.nodeType===8&&d.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var f=u.tag;if((f===3||f===4)&&(f=u.stateNode.containerInfo,f===o||f.nodeType===8&&f.parentNode===o))return;u=u.return}for(;d!==null;){if(u=mr(d),u===null)return;if(f=u.tag,f===5||f===6){r=a=u;continue t}d=d.parentNode}}r=r.return}Dp(function(){var m=a,b=Ld(n),v=[];t:{var x=ov.get(e);if(x!==void 0){var T=Fd,R=e;switch(e){case"keypress":if(ta(n)===0)break t;case"keydown":case"keyup":T=qx;break;case"focusin":R="focus",T=yu;break;case"focusout":R="blur",T=yu;break;case"beforeblur":case"afterblur":T=yu;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=Bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=Gx;break;case ev:case nv:case rv:T=Mx;break;case iv:T=Xx;break;case"scroll":T=Ix;break;case"wheel":T=Zx;break;case"copy":case"cut":case"paste":T=zx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=gg}var w=(t&4)!==0,j=!w&&e==="scroll",C=w?x!==null?x+"Capture":null:x;w=[];for(var A=m,S;A!==null;){S=A;var k=S.stateNode;if(S.tag===5&&k!==null&&(S=k,C!==null&&(k=Oo(A,C),k!=null&&w.push(Wo(A,k,S)))),j)break;A=A.return}0<w.length&&(x=new T(x,R,null,n,b),v.push({event:x,listeners:w}))}}if(!(t&7)){t:{if(x=e==="mouseover"||e==="pointerover",T=e==="mouseout"||e==="pointerout",x&&n!==bc&&(R=n.relatedTarget||n.fromElement)&&(mr(R)||R[Cn]))break t;if((T||x)&&(x=b.window===b?b:(x=b.ownerDocument)?x.defaultView||x.parentWindow:window,T?(R=n.relatedTarget||n.toElement,T=m,R=R?mr(R):null,R!==null&&(j=Br(R),R!==j||R.tag!==5&&R.tag!==6)&&(R=null)):(T=null,R=m),T!==R)){if(w=hg,k="onMouseLeave",C="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(w=gg,k="onPointerLeave",C="onPointerEnter",A="pointer"),j=T==null?x:ii(T),S=R==null?x:ii(R),x=new w(k,A+"leave",T,n,b),x.target=j,x.relatedTarget=S,k=null,mr(b)===m&&(w=new w(C,A+"enter",R,n,b),w.target=S,w.relatedTarget=j,k=w),j=k,T&&R)e:{for(w=T,C=R,A=0,S=w;S;S=qr(S))A++;for(S=0,k=C;k;k=qr(k))S++;for(;0<A-S;)w=qr(w),A--;for(;0<S-A;)C=qr(C),S--;for(;A--;){if(w===C||C!==null&&w===C.alternate)break e;w=qr(w),C=qr(C)}w=null}else w=null;T!==null&&wg(v,x,T,w,!1),R!==null&&j!==null&&wg(v,j,R,w,!0)}}t:{if(x=m?ii(m):window,T=x.nodeName&&x.nodeName.toLowerCase(),T==="select"||T==="input"&&x.type==="file")var D=s1;else if(vg(x))if(Qp)D=c1;else{D=l1;var O=a1}else(T=x.nodeName)&&T.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(D=u1);if(D&&(D=D(e,m))){Gp(v,D,n,b);break t}O&&O(e,x,m),e==="focusout"&&(O=x._wrapperState)&&O.controlled&&x.type==="number"&&gc(x,"number",x.value)}switch(O=m?ii(m):window,e){case"focusin":(vg(O)||O.contentEditable==="true")&&(ni=O,Ec=m,yo=null);break;case"focusout":yo=Ec=ni=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,Cg(v,n,b);break;case"selectionchange":if(f1)break;case"keydown":case"keyup":Cg(v,n,b)}var I;if(Md)t:{switch(e){case"compositionstart":var F="onCompositionStart";break t;case"compositionend":F="onCompositionEnd";break t;case"compositionupdate":F="onCompositionUpdate";break t}F=void 0}else ei?Kp(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(qp&&n.locale!=="ko"&&(ei||F!=="onCompositionStart"?F==="onCompositionEnd"&&ei&&(I=Hp()):(zn=b,Bd="value"in zn?zn.value:zn.textContent,ei=!0)),O=xa(m,F),0<O.length&&(F=new fg(F,e,null,n,b),v.push({event:F,listeners:O}),I?F.data=I:(I=Jp(n),I!==null&&(F.data=I)))),(I=e1?n1(e,n):r1(e,n))&&(m=xa(m,"onBeforeInput"),0<m.length&&(b=new fg("onBeforeInput","beforeinput",null,n,b),v.push({event:b,listeners:m}),b.data=I))}sv(v,t)})}function Wo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function xa(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Oo(e,n),a!=null&&r.unshift(Wo(e,a,o)),a=Oo(e,t),a!=null&&r.push(Wo(e,a,o))),e=e.return}return r}function qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wg(e,t,n,r,o){for(var a=t._reactName,u=[];n!==null&&n!==r;){var d=n,f=d.alternate,m=d.stateNode;if(f!==null&&f===r)break;d.tag===5&&m!==null&&(d=m,o?(f=Oo(n,a),f!=null&&u.unshift(Wo(n,f,d))):o||(f=Oo(n,a),f!=null&&u.push(Wo(n,f,d)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var v1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function Eg(e){return(typeof e=="string"?e:""+e).replace(v1,`
`).replace(y1,"")}function Ms(e,t,n){if(t=Eg(t),Eg(e)!==t&&n)throw Error(B(425))}function Ca(){}var Tc=null,Lc=null;function Dc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pc=typeof setTimeout=="function"?setTimeout:void 0,b1=typeof clearTimeout=="function"?clearTimeout:void 0,Rg=typeof Promise=="function"?Promise:void 0,A1=typeof queueMicrotask=="function"?queueMicrotask:typeof Rg<"u"?function(e){return Rg.resolve(null).then(e).catch(x1)}:Pc;function x1(e){setTimeout(function(){throw e})}function Eu(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),No(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);No(t)}function $n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ii=Math.random().toString(36).slice(2),en="__reactFiber$"+Ii,_o="__reactProps$"+Ii,Cn="__reactContainer$"+Ii,Ic="__reactEvents$"+Ii,C1="__reactListeners$"+Ii,S1="__reactHandles$"+Ii;function mr(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tg(e);e!==null;){if(n=e[en])return n;e=Tg(e)}return t}e=n,n=e.parentNode}return null}function rs(e){return e=e[en]||e[Cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ii(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(B(33))}function Xa(e){return e[_o]||null}var Oc=[],oi=-1;function er(e){return{current:e}}function dt(e){0>oi||(e.current=Oc[oi],Oc[oi]=null,oi--)}function lt(e,t){oi++,Oc[oi]=e.current,e.current=t}var Qn={},Qt=er(Qn),le=er(!1),Sr=Qn;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Qn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ue(e){return e=e.childContextTypes,e!=null}function Sa(){dt(le),dt(Qt)}function Lg(e,t,n){if(Qt.current!==Qn)throw Error(B(168));lt(Qt,t),lt(le,n)}function lv(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(B(108,ax(e)||"Unknown",o));return At({},n,r)}function ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qn,Sr=Qt.current,lt(Qt,e),lt(le,le.current),!0}function Dg(e,t,n){var r=e.stateNode;if(!r)throw Error(B(169));n?(e=lv(e,t,Sr),r.__reactInternalMemoizedMergedChildContext=e,dt(le),dt(Qt),lt(Qt,e)):dt(le),lt(le,n)}var pn=null,Ya=!1,Ru=!1;function uv(e){pn===null?pn=[e]:pn.push(e)}function k1(e){Ya=!0,uv(e)}function nr(){if(!Ru&&pn!==null){Ru=!0;var e=0,t=nt;try{var n=pn;for(nt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}pn=null,Ya=!1}catch(o){throw pn!==null&&(pn=pn.slice(e+1)),Bp(Dd,nr),o}finally{nt=t,Ru=!1}}return null}var si=[],ai=0,wa=null,Ea=0,Re=[],Te=0,kr=null,vn=1,yn="";function hr(e,t){si[ai++]=Ea,si[ai++]=wa,wa=e,Ea=t}function cv(e,t,n){Re[Te++]=vn,Re[Te++]=yn,Re[Te++]=kr,kr=e;var r=vn;e=yn;var o=32-Ue(r)-1;r&=~(1<<o),n+=1;var a=32-Ue(t)+o;if(30<a){var u=o-o%5;a=(r&(1<<u)-1).toString(32),r>>=u,o-=u,vn=1<<32-Ue(t)+o|n<<o|r,yn=a+e}else vn=1<<a|n<<o|r,yn=e}function zd(e){e.return!==null&&(hr(e,1),cv(e,1,0))}function Wd(e){for(;e===wa;)wa=si[--ai],si[ai]=null,Ea=si[--ai],si[ai]=null;for(;e===kr;)kr=Re[--Te],Re[Te]=null,yn=Re[--Te],Re[Te]=null,vn=Re[--Te],Re[Te]=null}var ye=null,ve=null,gt=!1,_e=null;function dv(e,t){var n=Pe(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Pg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ye=e,ve=$n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ye=e,ve=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kr!==null?{id:vn,overflow:yn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pe(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ye=e,ve=null,!0):!1;default:return!1}}function Bc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fc(e){if(gt){var t=ve;if(t){var n=t;if(!Pg(e,t)){if(Bc(e))throw Error(B(418));t=$n(n.nextSibling);var r=ye;t&&Pg(e,t)?dv(r,n):(e.flags=e.flags&-4097|2,gt=!1,ye=e)}}else{if(Bc(e))throw Error(B(418));e.flags=e.flags&-4097|2,gt=!1,ye=e}}}function Ig(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ye=e}function js(e){if(e!==ye)return!1;if(!gt)return Ig(e),gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dc(e.type,e.memoizedProps)),t&&(t=ve)){if(Bc(e))throw hv(),Error(B(418));for(;t;)dv(e,t),t=$n(t.nextSibling)}if(Ig(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ve=$n(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ve=null}}else ve=ye?$n(e.stateNode.nextSibling):null;return!0}function hv(){for(var e=ve;e;)e=$n(e.nextSibling)}function Si(){ve=ye=null,gt=!1}function _d(e){_e===null?_e=[e]:_e.push(e)}var w1=En.ReactCurrentBatchConfig;function Yi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,e));var o=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var d=o.refs;u===null?delete d[a]:d[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,e))}return e}function zs(e,t){throw e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Og(e){var t=e._init;return t(e._payload)}function fv(e){function t(C,A){if(e){var S=C.deletions;S===null?(C.deletions=[A],C.flags|=16):S.push(A)}}function n(C,A){if(!e)return null;for(;A!==null;)t(C,A),A=A.sibling;return null}function r(C,A){for(C=new Map;A!==null;)A.key!==null?C.set(A.key,A):C.set(A.index,A),A=A.sibling;return C}function o(C,A){return C=Jn(C,A),C.index=0,C.sibling=null,C}function a(C,A,S){return C.index=S,e?(S=C.alternate,S!==null?(S=S.index,S<A?(C.flags|=2,A):S):(C.flags|=2,A)):(C.flags|=1048576,A)}function u(C){return e&&C.alternate===null&&(C.flags|=2),C}function d(C,A,S,k){return A===null||A.tag!==6?(A=Bu(S,C.mode,k),A.return=C,A):(A=o(A,S),A.return=C,A)}function f(C,A,S,k){var D=S.type;return D===ti?b(C,A,S.props.children,k,S.key):A!==null&&(A.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===On&&Og(D)===A.type)?(k=o(A,S.props),k.ref=Yi(C,A,S),k.return=C,k):(k=aa(S.type,S.key,S.props,null,C.mode,k),k.ref=Yi(C,A,S),k.return=C,k)}function m(C,A,S,k){return A===null||A.tag!==4||A.stateNode.containerInfo!==S.containerInfo||A.stateNode.implementation!==S.implementation?(A=Fu(S,C.mode,k),A.return=C,A):(A=o(A,S.children||[]),A.return=C,A)}function b(C,A,S,k,D){return A===null||A.tag!==7?(A=Ar(S,C.mode,k,D),A.return=C,A):(A=o(A,S),A.return=C,A)}function v(C,A,S){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Bu(""+A,C.mode,S),A.return=C,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Ts:return S=aa(A.type,A.key,A.props,null,C.mode,S),S.ref=Yi(C,null,A),S.return=C,S;case Zr:return A=Fu(A,C.mode,S),A.return=C,A;case On:var k=A._init;return v(C,k(A._payload),S)}if(ao(A)||Ki(A))return A=Ar(A,C.mode,S,null),A.return=C,A;zs(C,A)}return null}function x(C,A,S,k){var D=A!==null?A.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return D!==null?null:d(C,A,""+S,k);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ts:return S.key===D?f(C,A,S,k):null;case Zr:return S.key===D?m(C,A,S,k):null;case On:return D=S._init,x(C,A,D(S._payload),k)}if(ao(S)||Ki(S))return D!==null?null:b(C,A,S,k,null);zs(C,S)}return null}function T(C,A,S,k,D){if(typeof k=="string"&&k!==""||typeof k=="number")return C=C.get(S)||null,d(A,C,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ts:return C=C.get(k.key===null?S:k.key)||null,f(A,C,k,D);case Zr:return C=C.get(k.key===null?S:k.key)||null,m(A,C,k,D);case On:var O=k._init;return T(C,A,S,O(k._payload),D)}if(ao(k)||Ki(k))return C=C.get(S)||null,b(A,C,k,D,null);zs(A,k)}return null}function R(C,A,S,k){for(var D=null,O=null,I=A,F=A=0,H=null;I!==null&&F<S.length;F++){I.index>F?(H=I,I=null):H=I.sibling;var p=x(C,I,S[F],k);if(p===null){I===null&&(I=H);break}e&&I&&p.alternate===null&&t(C,I),A=a(p,A,F),O===null?D=p:O.sibling=p,O=p,I=H}if(F===S.length)return n(C,I),gt&&hr(C,F),D;if(I===null){for(;F<S.length;F++)I=v(C,S[F],k),I!==null&&(A=a(I,A,F),O===null?D=I:O.sibling=I,O=I);return gt&&hr(C,F),D}for(I=r(C,I);F<S.length;F++)H=T(I,C,F,S[F],k),H!==null&&(e&&H.alternate!==null&&I.delete(H.key===null?F:H.key),A=a(H,A,F),O===null?D=H:O.sibling=H,O=H);return e&&I.forEach(function(N){return t(C,N)}),gt&&hr(C,F),D}function w(C,A,S,k){var D=Ki(S);if(typeof D!="function")throw Error(B(150));if(S=D.call(S),S==null)throw Error(B(151));for(var O=D=null,I=A,F=A=0,H=null,p=S.next();I!==null&&!p.done;F++,p=S.next()){I.index>F?(H=I,I=null):H=I.sibling;var N=x(C,I,p.value,k);if(N===null){I===null&&(I=H);break}e&&I&&N.alternate===null&&t(C,I),A=a(N,A,F),O===null?D=N:O.sibling=N,O=N,I=H}if(p.done)return n(C,I),gt&&hr(C,F),D;if(I===null){for(;!p.done;F++,p=S.next())p=v(C,p.value,k),p!==null&&(A=a(p,A,F),O===null?D=p:O.sibling=p,O=p);return gt&&hr(C,F),D}for(I=r(C,I);!p.done;F++,p=S.next())p=T(I,C,F,p.value,k),p!==null&&(e&&p.alternate!==null&&I.delete(p.key===null?F:p.key),A=a(p,A,F),O===null?D=p:O.sibling=p,O=p);return e&&I.forEach(function(V){return t(C,V)}),gt&&hr(C,F),D}function j(C,A,S,k){if(typeof S=="object"&&S!==null&&S.type===ti&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ts:t:{for(var D=S.key,O=A;O!==null;){if(O.key===D){if(D=S.type,D===ti){if(O.tag===7){n(C,O.sibling),A=o(O,S.props.children),A.return=C,C=A;break t}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===On&&Og(D)===O.type){n(C,O.sibling),A=o(O,S.props),A.ref=Yi(C,O,S),A.return=C,C=A;break t}n(C,O);break}else t(C,O);O=O.sibling}S.type===ti?(A=Ar(S.props.children,C.mode,k,S.key),A.return=C,C=A):(k=aa(S.type,S.key,S.props,null,C.mode,k),k.ref=Yi(C,A,S),k.return=C,C=k)}return u(C);case Zr:t:{for(O=S.key;A!==null;){if(A.key===O)if(A.tag===4&&A.stateNode.containerInfo===S.containerInfo&&A.stateNode.implementation===S.implementation){n(C,A.sibling),A=o(A,S.children||[]),A.return=C,C=A;break t}else{n(C,A);break}else t(C,A);A=A.sibling}A=Fu(S,C.mode,k),A.return=C,C=A}return u(C);case On:return O=S._init,j(C,A,O(S._payload),k)}if(ao(S))return R(C,A,S,k);if(Ki(S))return w(C,A,S,k);zs(C,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,A!==null&&A.tag===6?(n(C,A.sibling),A=o(A,S),A.return=C,C=A):(n(C,A),A=Bu(S,C.mode,k),A.return=C,C=A),u(C)):n(C,A)}return j}var ki=fv(!0),gv=fv(!1),Ra=er(null),Ta=null,li=null,Vd=null;function Ud(){Vd=li=Ta=null}function $d(e){var t=Ra.current;dt(Ra),e._currentValue=t}function Nc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function mi(e,t){Ta=e,Vd=li=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ae=!0),e.firstContext=null)}function Oe(e){var t=e._currentValue;if(Vd!==e)if(e={context:e,memoizedValue:t,next:null},li===null){if(Ta===null)throw Error(B(308));li=e,Ta.dependencies={lanes:0,firstContext:e}}else li=li.next=e;return t}var pr=null;function Hd(e){pr===null?pr=[e]:pr.push(e)}function mv(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Hd(t)):(n.next=o.next,o.next=n),t.interleaved=n,Sn(e,r)}function Sn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bn=!1;function qd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function An(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Sn(e,n)}return o=r.interleaved,o===null?(t.next=t,Hd(r)):(t.next=o.next,o.next=t),r.interleaved=t,Sn(e,n)}function ea(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pd(e,n)}}function Bg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var o=e.updateQueue;Bn=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,d=o.shared.pending;if(d!==null){o.shared.pending=null;var f=d,m=f.next;f.next=null,u===null?a=m:u.next=m,u=f;var b=e.alternate;b!==null&&(b=b.updateQueue,d=b.lastBaseUpdate,d!==u&&(d===null?b.firstBaseUpdate=m:d.next=m,b.lastBaseUpdate=f))}if(a!==null){var v=o.baseState;u=0,b=m=f=null,d=a;do{var x=d.lane,T=d.eventTime;if((r&x)===x){b!==null&&(b=b.next={eventTime:T,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});t:{var R=e,w=d;switch(x=t,T=n,w.tag){case 1:if(R=w.payload,typeof R=="function"){v=R.call(T,v,x);break t}v=R;break t;case 3:R.flags=R.flags&-65537|128;case 0:if(R=w.payload,x=typeof R=="function"?R.call(T,v,x):R,x==null)break t;v=At({},v,x);break t;case 2:Bn=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,x=o.effects,x===null?o.effects=[d]:x.push(d))}else T={eventTime:T,lane:x,tag:d.tag,payload:d.payload,callback:d.callback,next:null},b===null?(m=b=T,f=v):b=b.next=T,u|=x;if(d=d.next,d===null){if(d=o.shared.pending,d===null)break;x=d,d=x.next,x.next=null,o.lastBaseUpdate=x,o.shared.pending=null}}while(!0);if(b===null&&(f=v),o.baseState=f,o.firstBaseUpdate=m,o.lastBaseUpdate=b,t=o.shared.interleaved,t!==null){o=t;do u|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);Er|=u,e.lanes=u,e.memoizedState=v}}function Fg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(B(191,o));o.call(r)}}}var is={},sn=er(is),Vo=er(is),Uo=er(is);function vr(e){if(e===is)throw Error(B(174));return e}function Kd(e,t){switch(lt(Uo,t),lt(Vo,e),lt(sn,is),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=pc(t,e)}dt(sn),lt(sn,t)}function wi(){dt(sn),dt(Vo),dt(Uo)}function vv(e){vr(Uo.current);var t=vr(sn.current),n=pc(t,e.type);t!==n&&(lt(Vo,e),lt(sn,n))}function Jd(e){Vo.current===e&&(dt(sn),dt(Vo))}var vt=er(0);function Da(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Tu=[];function Gd(){for(var e=0;e<Tu.length;e++)Tu[e]._workInProgressVersionPrimary=null;Tu.length=0}var na=En.ReactCurrentDispatcher,Lu=En.ReactCurrentBatchConfig,wr=0,bt=null,Nt=null,jt=null,Pa=!1,bo=!1,$o=0,E1=0;function Ht(){throw Error(B(321))}function Qd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!He(e[n],t[n]))return!1;return!0}function Xd(e,t,n,r,o,a){if(wr=a,bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,na.current=e===null||e.memoizedState===null?D1:P1,e=n(r,o),bo){a=0;do{if(bo=!1,$o=0,25<=a)throw Error(B(301));a+=1,jt=Nt=null,t.updateQueue=null,na.current=I1,e=n(r,o)}while(bo)}if(na.current=Ia,t=Nt!==null&&Nt.next!==null,wr=0,jt=Nt=bt=null,Pa=!1,t)throw Error(B(300));return e}function Yd(){var e=$o!==0;return $o=0,e}function Ye(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?bt.memoizedState=jt=e:jt=jt.next=e,jt}function Be(){if(Nt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Nt.next;var t=jt===null?bt.memoizedState:jt.next;if(t!==null)jt=t,Nt=e;else{if(e===null)throw Error(B(310));Nt=e,e={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},jt===null?bt.memoizedState=jt=e:jt=jt.next=e}return jt}function Ho(e,t){return typeof t=="function"?t(e):t}function Du(e){var t=Be(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=Nt,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var d=u=null,f=null,m=a;do{var b=m.lane;if((wr&b)===b)f!==null&&(f=f.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),r=m.hasEagerState?m.eagerState:e(r,m.action);else{var v={lane:b,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};f===null?(d=f=v,u=r):f=f.next=v,bt.lanes|=b,Er|=b}m=m.next}while(m!==null&&m!==a);f===null?u=r:f.next=d,He(r,t.memoizedState)||(ae=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=f,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do a=o.lane,bt.lanes|=a,Er|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Pu(e){var t=Be(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=e(a,u.action),u=u.next;while(u!==o);He(a,t.memoizedState)||(ae=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function yv(){}function bv(e,t){var n=bt,r=Be(),o=t(),a=!He(r.memoizedState,o);if(a&&(r.memoizedState=o,ae=!0),r=r.queue,Zd(Cv.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,qo(9,xv.bind(null,n,r,o,t),void 0,null),zt===null)throw Error(B(349));wr&30||Av(n,t,o)}return o}function Av(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xv(e,t,n,r){t.value=n,t.getSnapshot=r,Sv(t)&&kv(e)}function Cv(e,t,n){return n(function(){Sv(t)&&kv(e)})}function Sv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!He(e,n)}catch{return!0}}function kv(e){var t=Sn(e,1);t!==null&&$e(t,e,1,-1)}function Ng(e){var t=Ye();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t.queue=e,e=e.dispatch=L1.bind(null,bt,e),[t.memoizedState,e]}function qo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wv(){return Be().memoizedState}function ra(e,t,n,r){var o=Ye();bt.flags|=e,o.memoizedState=qo(1|t,n,void 0,r===void 0?null:r)}function Za(e,t,n,r){var o=Be();r=r===void 0?null:r;var a=void 0;if(Nt!==null){var u=Nt.memoizedState;if(a=u.destroy,r!==null&&Qd(r,u.deps)){o.memoizedState=qo(t,n,a,r);return}}bt.flags|=e,o.memoizedState=qo(1|t,n,a,r)}function Mg(e,t){return ra(8390656,8,e,t)}function Zd(e,t){return Za(2048,8,e,t)}function Ev(e,t){return Za(4,2,e,t)}function Rv(e,t){return Za(4,4,e,t)}function Tv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lv(e,t,n){return n=n!=null?n.concat([e]):null,Za(4,4,Tv.bind(null,t,e),n)}function th(){}function Dv(e,t){var n=Be();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pv(e,t){var n=Be();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Qd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Iv(e,t,n){return wr&21?(He(n,t)||(n=Mp(),bt.lanes|=n,Er|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ae=!0),e.memoizedState=n)}function R1(e,t){var n=nt;nt=n!==0&&4>n?n:4,e(!0);var r=Lu.transition;Lu.transition={};try{e(!1),t()}finally{nt=n,Lu.transition=r}}function Ov(){return Be().memoizedState}function T1(e,t,n){var r=Kn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bv(e))Fv(t,n);else if(n=mv(e,t,n,r),n!==null){var o=te();$e(n,e,r,o),Nv(n,t,r)}}function L1(e,t,n){var r=Kn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bv(e))Fv(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,d=a(u,n);if(o.hasEagerState=!0,o.eagerState=d,He(d,u)){var f=t.interleaved;f===null?(o.next=o,Hd(t)):(o.next=f.next,f.next=o),t.interleaved=o;return}}catch{}finally{}n=mv(e,t,o,r),n!==null&&(o=te(),$e(n,e,r,o),Nv(n,t,r))}}function Bv(e){var t=e.alternate;return e===bt||t!==null&&t===bt}function Fv(e,t){bo=Pa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nv(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Pd(e,n)}}var Ia={readContext:Oe,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},D1={readContext:Oe,useCallback:function(e,t){return Ye().memoizedState=[e,t===void 0?null:t],e},useContext:Oe,useEffect:Mg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ra(4194308,4,Tv.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Ye();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ye();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=T1.bind(null,bt,e),[r.memoizedState,e]},useRef:function(e){var t=Ye();return e={current:e},t.memoizedState=e},useState:Ng,useDebugValue:th,useDeferredValue:function(e){return Ye().memoizedState=e},useTransition:function(){var e=Ng(!1),t=e[0];return e=R1.bind(null,e[1]),Ye().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=bt,o=Ye();if(gt){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),zt===null)throw Error(B(349));wr&30||Av(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Mg(Cv.bind(null,r,a,e),[e]),r.flags|=2048,qo(9,xv.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ye(),t=zt.identifierPrefix;if(gt){var n=yn,r=vn;n=(r&~(1<<32-Ue(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$o++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=E1++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},P1={readContext:Oe,useCallback:Dv,useContext:Oe,useEffect:Zd,useImperativeHandle:Lv,useInsertionEffect:Ev,useLayoutEffect:Rv,useMemo:Pv,useReducer:Du,useRef:wv,useState:function(){return Du(Ho)},useDebugValue:th,useDeferredValue:function(e){var t=Be();return Iv(t,Nt.memoizedState,e)},useTransition:function(){var e=Du(Ho)[0],t=Be().memoizedState;return[e,t]},useMutableSource:yv,useSyncExternalStore:bv,useId:Ov,unstable_isNewReconciler:!1},I1={readContext:Oe,useCallback:Dv,useContext:Oe,useEffect:Zd,useImperativeHandle:Lv,useInsertionEffect:Ev,useLayoutEffect:Rv,useMemo:Pv,useReducer:Pu,useRef:wv,useState:function(){return Pu(Ho)},useDebugValue:th,useDeferredValue:function(e){var t=Be();return Nt===null?t.memoizedState=e:Iv(t,Nt.memoizedState,e)},useTransition:function(){var e=Pu(Ho)[0],t=Be().memoizedState;return[e,t]},useMutableSource:yv,useSyncExternalStore:bv,useId:Ov,unstable_isNewReconciler:!1};function ze(e,t){if(e&&e.defaultProps){t=At({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Mc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:At({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tl={isMounted:function(e){return(e=e._reactInternals)?Br(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=te(),o=Kn(e),a=An(r,o);a.payload=t,n!=null&&(a.callback=n),t=Hn(e,a,o),t!==null&&($e(t,e,o,r),ea(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=te(),o=Kn(e),a=An(r,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Hn(e,a,o),t!==null&&($e(t,e,o,r),ea(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=te(),r=Kn(e),o=An(n,r);o.tag=2,t!=null&&(o.callback=t),t=Hn(e,o,r),t!==null&&($e(t,e,r,n),ea(t,e,r))}};function jg(e,t,n,r,o,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,u):t.prototype&&t.prototype.isPureReactComponent?!jo(n,r)||!jo(o,a):!0}function Mv(e,t,n){var r=!1,o=Qn,a=t.contextType;return typeof a=="object"&&a!==null?a=Oe(a):(o=ue(t)?Sr:Qt.current,r=t.contextTypes,a=(r=r!=null)?Ci(e,o):Qn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tl,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function zg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&tl.enqueueReplaceState(t,t.state,null)}function jc(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},qd(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=Oe(a):(a=ue(t)?Sr:Qt.current,o.context=Ci(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Mc(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&tl.enqueueReplaceState(o,o.state,null),La(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Ei(e,t){try{var n="",r=t;do n+=sx(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Iu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var O1=typeof WeakMap=="function"?WeakMap:Map;function jv(e,t,n){n=An(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ba||(Ba=!0,Gc=r),zc(e,t)},n}function zv(e,t,n){n=An(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){zc(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){zc(e,t),typeof r!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function Wg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new O1;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=K1.bind(null,e,t,n),t.then(e,e))}function _g(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vg(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=An(-1,1),t.tag=2,Hn(n,t,1))),n.lanes|=1),e)}var B1=En.ReactCurrentOwner,ae=!1;function Xt(e,t,n,r){t.child=e===null?gv(t,null,n,r):ki(t,e.child,n,r)}function Ug(e,t,n,r,o){n=n.render;var a=t.ref;return mi(t,o),r=Xd(e,t,n,r,a,o),n=Yd(),e!==null&&!ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,kn(e,t,o)):(gt&&n&&zd(t),t.flags|=1,Xt(e,t,r,o),t.child)}function $g(e,t,n,r,o){if(e===null){var a=n.type;return typeof a=="function"&&!lh(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Wv(e,t,a,r,o)):(e=aa(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(u,r)&&e.ref===t.ref)return kn(e,t,o)}return t.flags|=1,e=Jn(a,r),e.ref=t.ref,e.return=t,t.child=e}function Wv(e,t,n,r,o){if(e!==null){var a=e.memoizedProps;if(jo(a,r)&&e.ref===t.ref)if(ae=!1,t.pendingProps=r=a,(e.lanes&o)!==0)e.flags&131072&&(ae=!0);else return t.lanes=e.lanes,kn(e,t,o)}return Wc(e,t,n,r,o)}function _v(e,t,n){var r=t.pendingProps,o=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(ci,ge),ge|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,lt(ci,ge),ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,lt(ci,ge),ge|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,lt(ci,ge),ge|=r;return Xt(e,t,o,n),t.child}function Vv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wc(e,t,n,r,o){var a=ue(n)?Sr:Qt.current;return a=Ci(t,a),mi(t,o),n=Xd(e,t,n,r,a,o),r=Yd(),e!==null&&!ae?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,kn(e,t,o)):(gt&&r&&zd(t),t.flags|=1,Xt(e,t,n,o),t.child)}function Hg(e,t,n,r,o){if(ue(n)){var a=!0;ka(t)}else a=!1;if(mi(t,o),t.stateNode===null)ia(e,t),Mv(t,n,r),jc(t,n,r,o),r=!0;else if(e===null){var u=t.stateNode,d=t.memoizedProps;u.props=d;var f=u.context,m=n.contextType;typeof m=="object"&&m!==null?m=Oe(m):(m=ue(n)?Sr:Qt.current,m=Ci(t,m));var b=n.getDerivedStateFromProps,v=typeof b=="function"||typeof u.getSnapshotBeforeUpdate=="function";v||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==r||f!==m)&&zg(t,u,r,m),Bn=!1;var x=t.memoizedState;u.state=x,La(t,r,u,o),f=t.memoizedState,d!==r||x!==f||le.current||Bn?(typeof b=="function"&&(Mc(t,n,b,r),f=t.memoizedState),(d=Bn||jg(t,n,d,r,x,f,m))?(v||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=f),u.props=r,u.state=f,u.context=m,r=d):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{u=t.stateNode,pv(e,t),d=t.memoizedProps,m=t.type===t.elementType?d:ze(t.type,d),u.props=m,v=t.pendingProps,x=u.context,f=n.contextType,typeof f=="object"&&f!==null?f=Oe(f):(f=ue(n)?Sr:Qt.current,f=Ci(t,f));var T=n.getDerivedStateFromProps;(b=typeof T=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==v||x!==f)&&zg(t,u,r,f),Bn=!1,x=t.memoizedState,u.state=x,La(t,r,u,o);var R=t.memoizedState;d!==v||x!==R||le.current||Bn?(typeof T=="function"&&(Mc(t,n,T,r),R=t.memoizedState),(m=Bn||jg(t,n,m,r,x,R,f)||!1)?(b||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,R,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,R,f)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=R),u.props=r,u.state=R,u.context=f,r=m):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return _c(e,t,n,r,a,o)}function _c(e,t,n,r,o,a){Vv(e,t);var u=(t.flags&128)!==0;if(!r&&!u)return o&&Dg(t,n,!1),kn(e,t,a);r=t.stateNode,B1.current=t;var d=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&u?(t.child=ki(t,e.child,null,a),t.child=ki(t,null,d,a)):Xt(e,t,d,a),t.memoizedState=r.state,o&&Dg(t,n,!0),t.child}function Uv(e){var t=e.stateNode;t.pendingContext?Lg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lg(e,t.context,!1),Kd(e,t.containerInfo)}function qg(e,t,n,r,o){return Si(),_d(o),t.flags|=256,Xt(e,t,n,r),t.child}var Vc={dehydrated:null,treeContext:null,retryLane:0};function Uc(e){return{baseLanes:e,cachePool:null,transitions:null}}function $v(e,t,n){var r=t.pendingProps,o=vt.current,a=!1,u=(t.flags&128)!==0,d;if((d=u)||(d=e!==null&&e.memoizedState===null?!1:(o&2)!==0),d?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),lt(vt,o&1),e===null)return Fc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=r.children,e=r.fallback,a?(r=t.mode,a=t.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=rl(u,r,0,null),e=Ar(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Uc(n),t.memoizedState=Vc,e):eh(t,u));if(o=e.memoizedState,o!==null&&(d=o.dehydrated,d!==null))return F1(e,t,u,r,d,o,n);if(a){a=r.fallback,u=t.mode,o=e.child,d=o.sibling;var f={mode:"hidden",children:r.children};return!(u&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=f,t.deletions=null):(r=Jn(o,f),r.subtreeFlags=o.subtreeFlags&14680064),d!==null?a=Jn(d,a):(a=Ar(a,u,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,u=e.child.memoizedState,u=u===null?Uc(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=Vc,r}return a=e.child,e=a.sibling,r=Jn(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function eh(e,t){return t=rl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ws(e,t,n,r){return r!==null&&_d(r),ki(t,e.child,null,n),e=eh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function F1(e,t,n,r,o,a,u){if(n)return t.flags&256?(t.flags&=-257,r=Iu(Error(B(422))),Ws(e,t,u,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=rl({mode:"visible",children:r.children},o,0,null),a=Ar(a,o,u,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&ki(t,e.child,null,u),t.child.memoizedState=Uc(u),t.memoizedState=Vc,a);if(!(t.mode&1))return Ws(e,t,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var d=r.dgst;return r=d,a=Error(B(419)),r=Iu(a,r,void 0),Ws(e,t,u,r)}if(d=(u&e.childLanes)!==0,ae||d){if(r=zt,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Sn(e,o),$e(r,e,o,-1))}return ah(),r=Iu(Error(B(421))),Ws(e,t,u,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=J1.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,ve=$n(o.nextSibling),ye=t,gt=!0,_e=null,e!==null&&(Re[Te++]=vn,Re[Te++]=yn,Re[Te++]=kr,vn=e.id,yn=e.overflow,kr=t),t=eh(t,r.children),t.flags|=4096,t)}function Kg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Nc(e.return,t,n)}function Ou(e,t,n,r,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Hv(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Xt(e,t,r.children,n),r=vt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kg(e,n,t);else if(e.tag===19)Kg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(lt(vt,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Da(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ou(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Da(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ou(t,!0,n,null,a);break;case"together":Ou(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Er|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function N1(e,t,n){switch(t.tag){case 3:Uv(t),Si();break;case 5:vv(t);break;case 1:ue(t.type)&&ka(t);break;case 4:Kd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;lt(Ra,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(lt(vt,vt.current&1),t.flags|=128,null):n&t.child.childLanes?$v(e,t,n):(lt(vt,vt.current&1),e=kn(e,t,n),e!==null?e.sibling:null);lt(vt,vt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hv(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),lt(vt,vt.current),r)break;return null;case 22:case 23:return t.lanes=0,_v(e,t,n)}return kn(e,t,n)}var qv,$c,Kv,Jv;qv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$c=function(){};Kv=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,vr(sn.current);var a=null;switch(n){case"input":o=hc(e,o),r=hc(e,r),a=[];break;case"select":o=At({},o,{value:void 0}),r=At({},r,{value:void 0}),a=[];break;case"textarea":o=mc(e,o),r=mc(e,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ca)}vc(n,r);var u;n=null;for(m in o)if(!r.hasOwnProperty(m)&&o.hasOwnProperty(m)&&o[m]!=null)if(m==="style"){var d=o[m];for(u in d)d.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Po.hasOwnProperty(m)?a||(a=[]):(a=a||[]).push(m,null));for(m in r){var f=r[m];if(d=o!=null?o[m]:void 0,r.hasOwnProperty(m)&&f!==d&&(f!=null||d!=null))if(m==="style")if(d){for(u in d)!d.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in f)f.hasOwnProperty(u)&&d[u]!==f[u]&&(n||(n={}),n[u]=f[u])}else n||(a||(a=[]),a.push(m,n)),n=f;else m==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,d=d?d.__html:void 0,f!=null&&d!==f&&(a=a||[]).push(m,f)):m==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(m,""+f):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Po.hasOwnProperty(m)?(f!=null&&m==="onScroll"&&ct("scroll",e),a||d===f||(a=[])):(a=a||[]).push(m,f))}n&&(a=a||[]).push("style",n);var m=a;(t.updateQueue=m)&&(t.flags|=4)}};Jv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zi(e,t){if(!gt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function M1(e,t,n){var r=t.pendingProps;switch(Wd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(t),null;case 1:return ue(t.type)&&Sa(),qt(t),null;case 3:return r=t.stateNode,wi(),dt(le),dt(Qt),Gd(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_e!==null&&(Yc(_e),_e=null))),$c(e,t),qt(t),null;case 5:Jd(t);var o=vr(Uo.current);if(n=t.type,e!==null&&t.stateNode!=null)Kv(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(B(166));return qt(t),null}if(e=vr(sn.current),js(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[en]=t,r[_o]=a,e=(t.mode&1)!==0,n){case"dialog":ct("cancel",r),ct("close",r);break;case"iframe":case"object":case"embed":ct("load",r);break;case"video":case"audio":for(o=0;o<uo.length;o++)ct(uo[o],r);break;case"source":ct("error",r);break;case"img":case"image":case"link":ct("error",r),ct("load",r);break;case"details":ct("toggle",r);break;case"input":ng(r,a),ct("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ct("invalid",r);break;case"textarea":ig(r,a),ct("invalid",r)}vc(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var d=a[u];u==="children"?typeof d=="string"?r.textContent!==d&&(a.suppressHydrationWarning!==!0&&Ms(r.textContent,d,e),o=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(a.suppressHydrationWarning!==!0&&Ms(r.textContent,d,e),o=["children",""+d]):Po.hasOwnProperty(u)&&d!=null&&u==="onScroll"&&ct("scroll",r)}switch(n){case"input":Ls(r),rg(r,a,!0);break;case"textarea":Ls(r),og(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Ca)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Cp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),n==="select"&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[en]=t,e[_o]=r,qv(e,t,!1,!1),t.stateNode=e;t:{switch(u=yc(n,r),n){case"dialog":ct("cancel",e),ct("close",e),o=r;break;case"iframe":case"object":case"embed":ct("load",e),o=r;break;case"video":case"audio":for(o=0;o<uo.length;o++)ct(uo[o],e);o=r;break;case"source":ct("error",e),o=r;break;case"img":case"image":case"link":ct("error",e),ct("load",e),o=r;break;case"details":ct("toggle",e),o=r;break;case"input":ng(e,r),o=hc(e,r),ct("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=At({},r,{value:void 0}),ct("invalid",e);break;case"textarea":ig(e,r),o=mc(e,r),ct("invalid",e);break;default:o=r}vc(n,o),d=o;for(a in d)if(d.hasOwnProperty(a)){var f=d[a];a==="style"?wp(e,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Sp(e,f)):a==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&Io(e,f):typeof f=="number"&&Io(e,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Po.hasOwnProperty(a)?f!=null&&a==="onScroll"&&ct("scroll",e):f!=null&&wd(e,a,f,u))}switch(n){case"input":Ls(e),rg(e,r,!1);break;case"textarea":Ls(e),og(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?di(e,!!r.multiple,a,!1):r.defaultValue!=null&&di(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ca)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qt(t),null;case 6:if(e&&t.stateNode!=null)Jv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(n=vr(Uo.current),vr(sn.current),js(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(a=r.nodeValue!==n)&&(e=ye,e!==null))switch(e.tag){case 3:Ms(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ms(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return qt(t),null;case 13:if(dt(vt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gt&&ve!==null&&t.mode&1&&!(t.flags&128))hv(),Si(),t.flags|=98560,a=!1;else if(a=js(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(B(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[en]=t}else Si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qt(t),a=!1}else _e!==null&&(Yc(_e),_e=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||vt.current&1?Mt===0&&(Mt=3):ah())),t.updateQueue!==null&&(t.flags|=4),qt(t),null);case 4:return wi(),$c(e,t),e===null&&zo(t.stateNode.containerInfo),qt(t),null;case 10:return $d(t.type._context),qt(t),null;case 17:return ue(t.type)&&Sa(),qt(t),null;case 19:if(dt(vt),a=t.memoizedState,a===null)return qt(t),null;if(r=(t.flags&128)!==0,u=a.rendering,u===null)if(r)Zi(a,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Da(e),u!==null){for(t.flags|=128,Zi(a,!1),r=u.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return lt(vt,vt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Tt()>Ri&&(t.flags|=128,r=!0,Zi(a,!1),t.lanes=4194304)}else{if(!r)if(e=Da(u),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!gt)return qt(t),null}else 2*Tt()-a.renderingStartTime>Ri&&n!==1073741824&&(t.flags|=128,r=!0,Zi(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(n=a.last,n!==null?n.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Tt(),t.sibling=null,n=vt.current,lt(vt,r?n&1|2:n&1),t):(qt(t),null);case 22:case 23:return sh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ge&1073741824&&(qt(t),t.subtreeFlags&6&&(t.flags|=8192)):qt(t),null;case 24:return null;case 25:return null}throw Error(B(156,t.tag))}function j1(e,t){switch(Wd(t),t.tag){case 1:return ue(t.type)&&Sa(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wi(),dt(le),dt(Qt),Gd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jd(t),null;case 13:if(dt(vt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dt(vt),null;case 4:return wi(),null;case 10:return $d(t.type._context),null;case 22:case 23:return sh(),null;case 24:return null;default:return null}}var _s=!1,Gt=!1,z1=typeof WeakSet=="function"?WeakSet:Set,W=null;function ui(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){St(e,t,r)}else n.current=null}function Hc(e,t,n){try{n()}catch(r){St(e,t,r)}}var Jg=!1;function W1(e,t){if(Tc=ba,e=Zp(),jd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break t}var u=0,d=-1,f=-1,m=0,b=0,v=e,x=null;e:for(;;){for(var T;v!==n||o!==0&&v.nodeType!==3||(d=u+o),v!==a||r!==0&&v.nodeType!==3||(f=u+r),v.nodeType===3&&(u+=v.nodeValue.length),(T=v.firstChild)!==null;)x=v,v=T;for(;;){if(v===e)break e;if(x===n&&++m===o&&(d=u),x===a&&++b===r&&(f=u),(T=v.nextSibling)!==null)break;v=x,x=v.parentNode}v=T}n=d===-1||f===-1?null:{start:d,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lc={focusedElem:e,selectionRange:n},ba=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var R=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var w=R.memoizedProps,j=R.memoizedState,C=t.stateNode,A=C.getSnapshotBeforeUpdate(t.elementType===t.type?w:ze(t.type,w),j);C.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(k){St(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return R=Jg,Jg=!1,R}function Ao(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Hc(t,n,a)}o=o.next}while(o!==r)}}function el(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function qc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Gv(e){var t=e.alternate;t!==null&&(e.alternate=null,Gv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[_o],delete t[Ic],delete t[C1],delete t[S1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qv(e){return e.tag===5||e.tag===3||e.tag===4}function Gg(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Qv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ca));else if(r!==4&&(e=e.child,e!==null))for(Kc(e,t,n),e=e.sibling;e!==null;)Kc(e,t,n),e=e.sibling}function Jc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Jc(e,t,n),e=e.sibling;e!==null;)Jc(e,t,n),e=e.sibling}var Wt=null,We=!1;function Dn(e,t,n){for(n=n.child;n!==null;)Xv(e,t,n),n=n.sibling}function Xv(e,t,n){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Ka,n)}catch{}switch(n.tag){case 5:Gt||ui(n,t);case 6:var r=Wt,o=We;Wt=null,Dn(e,t,n),Wt=r,We=o,Wt!==null&&(We?(e=Wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(We?(e=Wt,n=n.stateNode,e.nodeType===8?Eu(e.parentNode,n):e.nodeType===1&&Eu(e,n),No(e)):Eu(Wt,n.stateNode));break;case 4:r=Wt,o=We,Wt=n.stateNode.containerInfo,We=!0,Dn(e,t,n),Wt=r,We=o;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&Hc(n,t,u),o=o.next}while(o!==r)}Dn(e,t,n);break;case 1:if(!Gt&&(ui(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){St(n,t,d)}Dn(e,t,n);break;case 21:Dn(e,t,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,Dn(e,t,n),Gt=r):Dn(e,t,n);break;default:Dn(e,t,n)}}function Qg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new z1),t.forEach(function(r){var o=G1.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function je(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,u=t,d=u;t:for(;d!==null;){switch(d.tag){case 5:Wt=d.stateNode,We=!1;break t;case 3:Wt=d.stateNode.containerInfo,We=!0;break t;case 4:Wt=d.stateNode.containerInfo,We=!0;break t}d=d.return}if(Wt===null)throw Error(B(160));Xv(a,u,o),Wt=null,We=!1;var f=o.alternate;f!==null&&(f.return=null),o.return=null}catch(m){St(o,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yv(t,e),t=t.sibling}function Yv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(je(t,e),Qe(e),r&4){try{Ao(3,e,e.return),el(3,e)}catch(w){St(e,e.return,w)}try{Ao(5,e,e.return)}catch(w){St(e,e.return,w)}}break;case 1:je(t,e),Qe(e),r&512&&n!==null&&ui(n,n.return);break;case 5:if(je(t,e),Qe(e),r&512&&n!==null&&ui(n,n.return),e.flags&32){var o=e.stateNode;try{Io(o,"")}catch(w){St(e,e.return,w)}}if(r&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,u=n!==null?n.memoizedProps:a,d=e.type,f=e.updateQueue;if(e.updateQueue=null,f!==null)try{d==="input"&&a.type==="radio"&&a.name!=null&&Ap(o,a),yc(d,u);var m=yc(d,a);for(u=0;u<f.length;u+=2){var b=f[u],v=f[u+1];b==="style"?wp(o,v):b==="dangerouslySetInnerHTML"?Sp(o,v):b==="children"?Io(o,v):wd(o,b,v,m)}switch(d){case"input":fc(o,a);break;case"textarea":xp(o,a);break;case"select":var x=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var T=a.value;T!=null?di(o,!!a.multiple,T,!1):x!==!!a.multiple&&(a.defaultValue!=null?di(o,!!a.multiple,a.defaultValue,!0):di(o,!!a.multiple,a.multiple?[]:"",!1))}o[_o]=a}catch(w){St(e,e.return,w)}}break;case 6:if(je(t,e),Qe(e),r&4){if(e.stateNode===null)throw Error(B(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(w){St(e,e.return,w)}}break;case 3:if(je(t,e),Qe(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{No(t.containerInfo)}catch(w){St(e,e.return,w)}break;case 4:je(t,e),Qe(e);break;case 13:je(t,e),Qe(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(ih=Tt())),r&4&&Qg(e);break;case 22:if(b=n!==null&&n.memoizedState!==null,e.mode&1?(Gt=(m=Gt)||b,je(t,e),Gt=m):je(t,e),Qe(e),r&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!b&&e.mode&1)for(W=e,b=e.child;b!==null;){for(v=W=b;W!==null;){switch(x=W,T=x.child,x.tag){case 0:case 11:case 14:case 15:Ao(4,x,x.return);break;case 1:ui(x,x.return);var R=x.stateNode;if(typeof R.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,R.props=t.memoizedProps,R.state=t.memoizedState,R.componentWillUnmount()}catch(w){St(r,n,w)}}break;case 5:ui(x,x.return);break;case 22:if(x.memoizedState!==null){Yg(v);continue}}T!==null?(T.return=x,W=T):Yg(v)}b=b.sibling}t:for(b=null,v=e;;){if(v.tag===5){if(b===null){b=v;try{o=v.stateNode,m?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(d=v.stateNode,f=v.memoizedProps.style,u=f!=null&&f.hasOwnProperty("display")?f.display:null,d.style.display=kp("display",u))}catch(w){St(e,e.return,w)}}}else if(v.tag===6){if(b===null)try{v.stateNode.nodeValue=m?"":v.memoizedProps}catch(w){St(e,e.return,w)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break t;for(;v.sibling===null;){if(v.return===null||v.return===e)break t;b===v&&(b=null),v=v.return}b===v&&(b=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:je(t,e),Qe(e),r&4&&Qg(e);break;case 21:break;default:je(t,e),Qe(e)}}function Qe(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(Qv(n)){var r=n;break t}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Io(o,""),r.flags&=-33);var a=Gg(e);Jc(e,a,o);break;case 3:case 4:var u=r.stateNode.containerInfo,d=Gg(e);Kc(e,d,u);break;default:throw Error(B(161))}}catch(f){St(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _1(e,t,n){W=e,Zv(e)}function Zv(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var o=W,a=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||_s;if(!u){var d=o.alternate,f=d!==null&&d.memoizedState!==null||Gt;d=_s;var m=Gt;if(_s=u,(Gt=f)&&!m)for(W=o;W!==null;)u=W,f=u.child,u.tag===22&&u.memoizedState!==null?Zg(o):f!==null?(f.return=u,W=f):Zg(o);for(;a!==null;)W=a,Zv(a),a=a.sibling;W=o,_s=d,Gt=m}Xg(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,W=a):Xg(e)}}function Xg(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gt||el(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ze(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Fg(t,a,r);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Fg(t,u,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var f=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var b=m.memoizedState;if(b!==null){var v=b.dehydrated;v!==null&&No(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}Gt||t.flags&512&&qc(t)}catch(x){St(t,t.return,x)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function Yg(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function Zg(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{el(4,t)}catch(f){St(t,n,f)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(f){St(t,o,f)}}var a=t.return;try{qc(t)}catch(f){St(t,a,f)}break;case 5:var u=t.return;try{qc(t)}catch(f){St(t,u,f)}}}catch(f){St(t,t.return,f)}if(t===e){W=null;break}var d=t.sibling;if(d!==null){d.return=t.return,W=d;break}W=t.return}}var V1=Math.ceil,Oa=En.ReactCurrentDispatcher,nh=En.ReactCurrentOwner,Ie=En.ReactCurrentBatchConfig,X=0,zt=null,Ot=null,Vt=0,ge=0,ci=er(0),Mt=0,Ko=null,Er=0,nl=0,rh=0,xo=null,se=null,ih=0,Ri=1/0,gn=null,Ba=!1,Gc=null,qn=null,Vs=!1,Wn=null,Fa=0,Co=0,Qc=null,oa=-1,sa=0;function te(){return X&6?Tt():oa!==-1?oa:oa=Tt()}function Kn(e){return e.mode&1?X&2&&Vt!==0?Vt&-Vt:w1.transition!==null?(sa===0&&(sa=Mp()),sa):(e=nt,e!==0||(e=window.event,e=e===void 0?16:$p(e.type)),e):1}function $e(e,t,n,r){if(50<Co)throw Co=0,Qc=null,Error(B(185));es(e,n,r),(!(X&2)||e!==zt)&&(e===zt&&(!(X&2)&&(nl|=n),Mt===4&&Mn(e,Vt)),ce(e,r),n===1&&X===0&&!(t.mode&1)&&(Ri=Tt()+500,Ya&&nr()))}function ce(e,t){var n=e.callbackNode;wx(e,t);var r=ya(e,e===zt?Vt:0);if(r===0)n!==null&&lg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lg(n),t===1)e.tag===0?k1(tm.bind(null,e)):uv(tm.bind(null,e)),A1(function(){!(X&6)&&nr()}),n=null;else{switch(jp(r)){case 1:n=Dd;break;case 4:n=Fp;break;case 16:n=va;break;case 536870912:n=Np;break;default:n=va}n=a0(n,t0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function t0(e,t){if(oa=-1,sa=0,X&6)throw Error(B(327));var n=e.callbackNode;if(pi()&&e.callbackNode!==n)return null;var r=ya(e,e===zt?Vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Na(e,r);else{t=r;var o=X;X|=2;var a=n0();(zt!==e||Vt!==t)&&(gn=null,Ri=Tt()+500,br(e,t));do try{H1();break}catch(d){e0(e,d)}while(!0);Ud(),Oa.current=a,X=o,Ot!==null?t=0:(zt=null,Vt=0,t=Mt)}if(t!==0){if(t===2&&(o=Sc(e),o!==0&&(r=o,t=Xc(e,o))),t===1)throw n=Ko,br(e,0),Mn(e,r),ce(e,Tt()),n;if(t===6)Mn(e,r);else{if(o=e.current.alternate,!(r&30)&&!U1(o)&&(t=Na(e,r),t===2&&(a=Sc(e),a!==0&&(r=a,t=Xc(e,a))),t===1))throw n=Ko,br(e,0),Mn(e,r),ce(e,Tt()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(B(345));case 2:fr(e,se,gn);break;case 3:if(Mn(e,r),(r&130023424)===r&&(t=ih+500-Tt(),10<t)){if(ya(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){te(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Pc(fr.bind(null,e,se,gn),t);break}fr(e,se,gn);break;case 4:if(Mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var u=31-Ue(r);a=1<<u,u=t[u],u>o&&(o=u),r&=~a}if(r=o,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V1(r/1960))-r,10<r){e.timeoutHandle=Pc(fr.bind(null,e,se,gn),r);break}fr(e,se,gn);break;case 5:fr(e,se,gn);break;default:throw Error(B(329))}}}return ce(e,Tt()),e.callbackNode===n?t0.bind(null,e):null}function Xc(e,t){var n=xo;return e.current.memoizedState.isDehydrated&&(br(e,t).flags|=256),e=Na(e,t),e!==2&&(t=se,se=n,t!==null&&Yc(t)),e}function Yc(e){se===null?se=e:se.push.apply(se,e)}function U1(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!He(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t){for(t&=~rh,t&=~nl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ue(t),r=1<<n;e[n]=-1,t&=~r}}function tm(e){if(X&6)throw Error(B(327));pi();var t=ya(e,0);if(!(t&1))return ce(e,Tt()),null;var n=Na(e,t);if(e.tag!==0&&n===2){var r=Sc(e);r!==0&&(t=r,n=Xc(e,r))}if(n===1)throw n=Ko,br(e,0),Mn(e,t),ce(e,Tt()),n;if(n===6)throw Error(B(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,se,gn),ce(e,Tt()),null}function oh(e,t){var n=X;X|=1;try{return e(t)}finally{X=n,X===0&&(Ri=Tt()+500,Ya&&nr())}}function Rr(e){Wn!==null&&Wn.tag===0&&!(X&6)&&pi();var t=X;X|=1;var n=Ie.transition,r=nt;try{if(Ie.transition=null,nt=1,e)return e()}finally{nt=r,Ie.transition=n,X=t,!(X&6)&&nr()}}function sh(){ge=ci.current,dt(ci)}function br(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,b1(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(Wd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Sa();break;case 3:wi(),dt(le),dt(Qt),Gd();break;case 5:Jd(r);break;case 4:wi();break;case 13:dt(vt);break;case 19:dt(vt);break;case 10:$d(r.type._context);break;case 22:case 23:sh()}n=n.return}if(zt=e,Ot=e=Jn(e.current,null),Vt=ge=t,Mt=0,Ko=null,rh=nl=Er=0,se=xo=null,pr!==null){for(t=0;t<pr.length;t++)if(n=pr[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,r.next=u}n.pending=r}pr=null}return e}function e0(e,t){do{var n=Ot;try{if(Ud(),na.current=Ia,Pa){for(var r=bt.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Pa=!1}if(wr=0,jt=Nt=bt=null,bo=!1,$o=0,nh.current=null,n===null||n.return===null){Mt=1,Ko=t,Ot=null;break}t:{var a=e,u=n.return,d=n,f=t;if(t=Vt,d.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var m=f,b=d,v=b.tag;if(!(b.mode&1)&&(v===0||v===11||v===15)){var x=b.alternate;x?(b.updateQueue=x.updateQueue,b.memoizedState=x.memoizedState,b.lanes=x.lanes):(b.updateQueue=null,b.memoizedState=null)}var T=_g(u);if(T!==null){T.flags&=-257,Vg(T,u,d,a,t),T.mode&1&&Wg(a,m,t),t=T,f=m;var R=t.updateQueue;if(R===null){var w=new Set;w.add(f),t.updateQueue=w}else R.add(f);break t}else{if(!(t&1)){Wg(a,m,t),ah();break t}f=Error(B(426))}}else if(gt&&d.mode&1){var j=_g(u);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Vg(j,u,d,a,t),_d(Ei(f,d));break t}}a=f=Ei(f,d),Mt!==4&&(Mt=2),xo===null?xo=[a]:xo.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var C=jv(a,f,t);Bg(a,C);break t;case 1:d=f;var A=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof A.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(qn===null||!qn.has(S)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=zv(a,d,t);Bg(a,k);break t}}a=a.return}while(a!==null)}i0(n)}catch(D){t=D,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(!0)}function n0(){var e=Oa.current;return Oa.current=Ia,e===null?Ia:e}function ah(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),zt===null||!(Er&268435455)&&!(nl&268435455)||Mn(zt,Vt)}function Na(e,t){var n=X;X|=2;var r=n0();(zt!==e||Vt!==t)&&(gn=null,br(e,t));do try{$1();break}catch(o){e0(e,o)}while(!0);if(Ud(),X=n,Oa.current=r,Ot!==null)throw Error(B(261));return zt=null,Vt=0,Mt}function $1(){for(;Ot!==null;)r0(Ot)}function H1(){for(;Ot!==null&&!px();)r0(Ot)}function r0(e){var t=s0(e.alternate,e,ge);e.memoizedProps=e.pendingProps,t===null?i0(e):Ot=t,nh.current=null}function i0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=j1(n,t),n!==null){n.flags&=32767,Ot=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mt=6,Ot=null;return}}else if(n=M1(n,t,ge),n!==null){Ot=n;return}if(t=t.sibling,t!==null){Ot=t;return}Ot=t=e}while(t!==null);Mt===0&&(Mt=5)}function fr(e,t,n){var r=nt,o=Ie.transition;try{Ie.transition=null,nt=1,q1(e,t,n,r)}finally{Ie.transition=o,nt=r}return null}function q1(e,t,n,r){do pi();while(Wn!==null);if(X&6)throw Error(B(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(B(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Ex(e,a),e===zt&&(Ot=zt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vs||(Vs=!0,a0(va,function(){return pi(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ie.transition,Ie.transition=null;var u=nt;nt=1;var d=X;X|=4,nh.current=null,W1(e,n),Yv(n,e),h1(Lc),ba=!!Tc,Lc=Tc=null,e.current=n,_1(n),vx(),X=d,nt=u,Ie.transition=a}else e.current=n;if(Vs&&(Vs=!1,Wn=e,Fa=o),a=e.pendingLanes,a===0&&(qn=null),Ax(n.stateNode),ce(e,Tt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ba)throw Ba=!1,e=Gc,Gc=null,e;return Fa&1&&e.tag!==0&&pi(),a=e.pendingLanes,a&1?e===Qc?Co++:(Co=0,Qc=e):Co=0,nr(),null}function pi(){if(Wn!==null){var e=jp(Fa),t=Ie.transition,n=nt;try{if(Ie.transition=null,nt=16>e?16:e,Wn===null)var r=!1;else{if(e=Wn,Wn=null,Fa=0,X&6)throw Error(B(331));var o=X;for(X|=4,W=e.current;W!==null;){var a=W,u=a.child;if(W.flags&16){var d=a.deletions;if(d!==null){for(var f=0;f<d.length;f++){var m=d[f];for(W=m;W!==null;){var b=W;switch(b.tag){case 0:case 11:case 15:Ao(8,b,a)}var v=b.child;if(v!==null)v.return=b,W=v;else for(;W!==null;){b=W;var x=b.sibling,T=b.return;if(Gv(b),b===m){W=null;break}if(x!==null){x.return=T,W=x;break}W=T}}}var R=a.alternate;if(R!==null){var w=R.child;if(w!==null){R.child=null;do{var j=w.sibling;w.sibling=null,w=j}while(w!==null)}}W=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,W=u;else t:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ao(9,a,a.return)}var C=a.sibling;if(C!==null){C.return=a.return,W=C;break t}W=a.return}}var A=e.current;for(W=A;W!==null;){u=W;var S=u.child;if(u.subtreeFlags&2064&&S!==null)S.return=u,W=S;else t:for(u=A;W!==null;){if(d=W,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:el(9,d)}}catch(D){St(d,d.return,D)}if(d===u){W=null;break t}var k=d.sibling;if(k!==null){k.return=d.return,W=k;break t}W=d.return}}if(X=o,nr(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Ka,e)}catch{}r=!0}return r}finally{nt=n,Ie.transition=t}}return!1}function em(e,t,n){t=Ei(n,t),t=jv(e,t,1),e=Hn(e,t,1),t=te(),e!==null&&(es(e,1,t),ce(e,t))}function St(e,t,n){if(e.tag===3)em(e,e,n);else for(;t!==null;){if(t.tag===3){em(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qn===null||!qn.has(r))){e=Ei(n,e),e=zv(t,e,1),t=Hn(t,e,1),e=te(),t!==null&&(es(t,1,e),ce(t,e));break}}t=t.return}}function K1(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=te(),e.pingedLanes|=e.suspendedLanes&n,zt===e&&(Vt&n)===n&&(Mt===4||Mt===3&&(Vt&130023424)===Vt&&500>Tt()-ih?br(e,0):rh|=n),ce(e,t)}function o0(e,t){t===0&&(e.mode&1?(t=Is,Is<<=1,!(Is&130023424)&&(Is=4194304)):t=1);var n=te();e=Sn(e,t),e!==null&&(es(e,t,n),ce(e,n))}function J1(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),o0(e,n)}function G1(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(t),o0(e,n)}var s0;s0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||le.current)ae=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ae=!1,N1(e,t,n);ae=!!(e.flags&131072)}else ae=!1,gt&&t.flags&1048576&&cv(t,Ea,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ia(e,t),e=t.pendingProps;var o=Ci(t,Qt.current);mi(t,n),o=Xd(null,t,r,e,o,n);var a=Yd();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ue(r)?(a=!0,ka(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,qd(t),o.updater=tl,t.stateNode=o,o._reactInternals=t,jc(t,r,e,n),t=_c(null,t,r,!0,a,n)):(t.tag=0,gt&&a&&zd(t),Xt(null,t,o,n),t=t.child),t;case 16:r=t.elementType;t:{switch(ia(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=X1(r),e=ze(r,e),o){case 0:t=Wc(null,t,r,e,n);break t;case 1:t=Hg(null,t,r,e,n);break t;case 11:t=Ug(null,t,r,e,n);break t;case 14:t=$g(null,t,r,ze(r.type,e),n);break t}throw Error(B(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ze(r,o),Wc(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ze(r,o),Hg(e,t,r,o,n);case 3:t:{if(Uv(t),e===null)throw Error(B(387));r=t.pendingProps,a=t.memoizedState,o=a.element,pv(e,t),La(t,r,null,n);var u=t.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Ei(Error(B(423)),t),t=qg(e,t,r,n,o);break t}else if(r!==o){o=Ei(Error(B(424)),t),t=qg(e,t,r,n,o);break t}else for(ve=$n(t.stateNode.containerInfo.firstChild),ye=t,gt=!0,_e=null,n=gv(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Si(),r===o){t=kn(e,t,n);break t}Xt(e,t,r,n)}t=t.child}return t;case 5:return vv(t),e===null&&Fc(t),r=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,u=o.children,Dc(r,o)?u=null:a!==null&&Dc(r,a)&&(t.flags|=32),Vv(e,t),Xt(e,t,u,n),t.child;case 6:return e===null&&Fc(t),null;case 13:return $v(e,t,n);case 4:return Kd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ki(t,null,r,n):Xt(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ze(r,o),Ug(e,t,r,o,n);case 7:return Xt(e,t,t.pendingProps,n),t.child;case 8:return Xt(e,t,t.pendingProps.children,n),t.child;case 12:return Xt(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,u=o.value,lt(Ra,r._currentValue),r._currentValue=u,a!==null)if(He(a.value,u)){if(a.children===o.children&&!le.current){t=kn(e,t,n);break t}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var d=a.dependencies;if(d!==null){u=a.child;for(var f=d.firstContext;f!==null;){if(f.context===r){if(a.tag===1){f=An(-1,n&-n),f.tag=2;var m=a.updateQueue;if(m!==null){m=m.shared;var b=m.pending;b===null?f.next=f:(f.next=b.next,b.next=f),m.pending=f}}a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),Nc(a.return,n,t),d.lanes|=n;break}f=f.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(B(341));u.lanes|=n,d=u.alternate,d!==null&&(d.lanes|=n),Nc(u,n,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Xt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,mi(t,n),o=Oe(o),r=r(o),t.flags|=1,Xt(e,t,r,n),t.child;case 14:return r=t.type,o=ze(r,t.pendingProps),o=ze(r.type,o),$g(e,t,r,o,n);case 15:return Wv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ze(r,o),ia(e,t),t.tag=1,ue(r)?(e=!0,ka(t)):e=!1,mi(t,n),Mv(t,r,o),jc(t,r,o,n),_c(null,t,r,!0,e,n);case 19:return Hv(e,t,n);case 22:return _v(e,t,n)}throw Error(B(156,t.tag))};function a0(e,t){return Bp(e,t)}function Q1(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pe(e,t,n,r){return new Q1(e,t,n,r)}function lh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function X1(e){if(typeof e=="function")return lh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rd)return 11;if(e===Td)return 14}return 2}function Jn(e,t){var n=e.alternate;return n===null?(n=Pe(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function aa(e,t,n,r,o,a){var u=2;if(r=e,typeof e=="function")lh(e)&&(u=1);else if(typeof e=="string")u=5;else t:switch(e){case ti:return Ar(n.children,o,a,t);case Ed:u=8,o|=8;break;case lc:return e=Pe(12,n,t,o|2),e.elementType=lc,e.lanes=a,e;case uc:return e=Pe(13,n,t,o),e.elementType=uc,e.lanes=a,e;case cc:return e=Pe(19,n,t,o),e.elementType=cc,e.lanes=a,e;case vp:return rl(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mp:u=10;break t;case pp:u=9;break t;case Rd:u=11;break t;case Td:u=14;break t;case On:u=16,r=null;break t}throw Error(B(130,e==null?e:typeof e,""))}return t=Pe(u,n,t,o),t.elementType=e,t.type=r,t.lanes=a,t}function Ar(e,t,n,r){return e=Pe(7,e,r,t),e.lanes=n,e}function rl(e,t,n,r){return e=Pe(22,e,r,t),e.elementType=vp,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return e=Pe(6,e,null,t),e.lanes=n,e}function Fu(e,t,n){return t=Pe(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Y1(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mu(0),this.expirationTimes=mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function uh(e,t,n,r,o,a,u,d,f){return e=new Y1(e,t,n,d,f),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Pe(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qd(a),e}function Z1(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function l0(e){if(!e)return Qn;e=e._reactInternals;t:{if(Br(e)!==e||e.tag!==1)throw Error(B(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(ue(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(B(171))}if(e.tag===1){var n=e.type;if(ue(n))return lv(e,n,t)}return t}function u0(e,t,n,r,o,a,u,d,f){return e=uh(n,r,!0,e,o,a,u,d,f),e.context=l0(null),n=e.current,r=te(),o=Kn(n),a=An(r,o),a.callback=t??null,Hn(n,a,o),e.current.lanes=o,es(e,o,r),ce(e,r),e}function il(e,t,n,r){var o=t.current,a=te(),u=Kn(o);return n=l0(n),t.context===null?t.context=n:t.pendingContext=n,t=An(a,u),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hn(o,t,u),e!==null&&($e(e,o,u,a),ea(e,o,u)),u}function Ma(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ch(e,t){nm(e,t),(e=e.alternate)&&nm(e,t)}function tC(){return null}var c0=typeof reportError=="function"?reportError:function(e){console.error(e)};function dh(e){this._internalRoot=e}ol.prototype.render=dh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));il(e,t,null,null)};ol.prototype.unmount=dh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){il(null,e,null,null)}),t[Cn]=null}};function ol(e){this._internalRoot=e}ol.prototype.unstable_scheduleHydration=function(e){if(e){var t=_p();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nn.length&&t!==0&&t<Nn[n].priority;n++);Nn.splice(n,0,e),n===0&&Up(e)}};function hh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rm(){}function eC(e,t,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var m=Ma(u);a.call(m)}}var u=u0(t,r,e,0,null,!1,!1,"",rm);return e._reactRootContainer=u,e[Cn]=u.current,zo(e.nodeType===8?e.parentNode:e),Rr(),u}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var d=r;r=function(){var m=Ma(f);d.call(m)}}var f=uh(e,0,!1,null,null,!1,!1,"",rm);return e._reactRootContainer=f,e[Cn]=f.current,zo(e.nodeType===8?e.parentNode:e),Rr(function(){il(t,f,n,r)}),f}function al(e,t,n,r,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var d=o;o=function(){var f=Ma(u);d.call(f)}}il(t,u,e,o)}else u=eC(n,t,e,o,r);return Ma(u)}zp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lo(t.pendingLanes);n!==0&&(Pd(t,n|1),ce(t,Tt()),!(X&6)&&(Ri=Tt()+500,nr()))}break;case 13:Rr(function(){var r=Sn(e,1);if(r!==null){var o=te();$e(r,e,1,o)}}),ch(e,1)}};Id=function(e){if(e.tag===13){var t=Sn(e,134217728);if(t!==null){var n=te();$e(t,e,134217728,n)}ch(e,134217728)}};Wp=function(e){if(e.tag===13){var t=Kn(e),n=Sn(e,t);if(n!==null){var r=te();$e(n,e,t,r)}ch(e,t)}};_p=function(){return nt};Vp=function(e,t){var n=nt;try{return nt=e,t()}finally{nt=n}};Ac=function(e,t,n){switch(t){case"input":if(fc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Xa(r);if(!o)throw Error(B(90));bp(r),fc(r,o)}}}break;case"textarea":xp(e,n);break;case"select":t=n.value,t!=null&&di(e,!!n.multiple,t,!1)}};Tp=oh;Lp=Rr;var nC={usingClientEntryPoint:!1,Events:[rs,ii,Xa,Ep,Rp,oh]},to={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rC={bundleType:to.bundleType,version:to.version,rendererPackageName:to.rendererPackageName,rendererConfig:to.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:En.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ip(e),e===null?null:e.stateNode},findFiberByHostInstance:to.findFiberByHostInstance||tC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Us.isDisabled&&Us.supportsFiber)try{Ka=Us.inject(rC),on=Us}catch{}}Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nC;Se.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hh(t))throw Error(B(200));return Z1(e,t,null,n)};Se.createRoot=function(e,t){if(!hh(e))throw Error(B(299));var n=!1,r="",o=c0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=uh(e,1,!1,null,null,n,!1,r,o),e[Cn]=t.current,zo(e.nodeType===8?e.parentNode:e),new dh(t)};Se.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=Ip(t),e=e===null?null:e.stateNode,e};Se.flushSync=function(e){return Rr(e)};Se.hydrate=function(e,t,n){if(!sl(t))throw Error(B(200));return al(null,e,t,!0,n)};Se.hydrateRoot=function(e,t,n){if(!hh(e))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",u=c0;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=u0(t,null,e,1,n??null,o,!1,a,u),e[Cn]=t.current,zo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ol(t)};Se.render=function(e,t,n){if(!sl(t))throw Error(B(200));return al(null,e,t,!1,n)};Se.unmountComponentAtNode=function(e){if(!sl(e))throw Error(B(40));return e._reactRootContainer?(Rr(function(){al(null,null,e,!1,function(){e._reactRootContainer=null,e[Cn]=null})}),!0):!1};Se.unstable_batchedUpdates=oh;Se.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sl(n))throw Error(B(200));if(e==null||e._reactInternals===void 0)throw Error(B(38));return al(e,t,n,!1,r)};Se.version="18.3.1-next-f1338f8080-20240426";function d0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d0)}catch(e){console.error(e)}}d0(),dp.exports=Se;var iC=dp.exports,h0,im=iC;h0=im.createRoot,im.hydrateRoot;const Jo={black:"#000",white:"#fff"},Kr={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Jr={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Gr={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Qr={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Xr={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},eo={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},oC={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Tr(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const fh="$$material";function ja(){return ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ja.apply(null,arguments)}function f0(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var sC=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,aC=f0(function(e){return sC.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),lC=!1;function uC(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function cC(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var dC=function(){function e(n){var r=this;this._insertTag=function(o){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(o,a),r.tags.push(o)},this.isSpeedy=n.speedy===void 0?!lC:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(cC(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=uC(o);try{a.insertRule(r,a.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var o;return(o=r.parentNode)==null?void 0:o.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Jt="-ms-",za="-moz-",Y="-webkit-",g0="comm",gh="rule",mh="decl",hC="@import",m0="@keyframes",fC="@layer",gC=Math.abs,ll=String.fromCharCode,mC=Object.assign;function pC(e,t){return _t(e,0)^45?(((t<<2^_t(e,0))<<2^_t(e,1))<<2^_t(e,2))<<2^_t(e,3):0}function p0(e){return e.trim()}function vC(e,t){return(e=t.exec(e))?e[0]:e}function Z(e,t,n){return e.replace(t,n)}function Zc(e,t){return e.indexOf(t)}function _t(e,t){return e.charCodeAt(t)|0}function Go(e,t,n){return e.slice(t,n)}function Ze(e){return e.length}function ph(e){return e.length}function $s(e,t){return t.push(e),e}function yC(e,t){return e.map(t).join("")}var ul=1,Ti=1,v0=0,he=0,It=0,Oi="";function cl(e,t,n,r,o,a,u){return{value:e,root:t,parent:n,type:r,props:o,children:a,line:ul,column:Ti,length:u,return:""}}function no(e,t){return mC(cl("",null,null,"",null,null,0),e,{length:-e.length},t)}function bC(){return It}function AC(){return It=he>0?_t(Oi,--he):0,Ti--,It===10&&(Ti=1,ul--),It}function be(){return It=he<v0?_t(Oi,he++):0,Ti++,It===10&&(Ti=1,ul++),It}function an(){return _t(Oi,he)}function la(){return he}function os(e,t){return Go(Oi,e,t)}function Qo(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function y0(e){return ul=Ti=1,v0=Ze(Oi=e),he=0,[]}function b0(e){return Oi="",e}function ua(e){return p0(os(he-1,td(e===91?e+2:e===40?e+1:e)))}function xC(e){for(;(It=an())&&It<33;)be();return Qo(e)>2||Qo(It)>3?"":" "}function CC(e,t){for(;--t&&be()&&!(It<48||It>102||It>57&&It<65||It>70&&It<97););return os(e,la()+(t<6&&an()==32&&be()==32))}function td(e){for(;be();)switch(It){case e:return he;case 34:case 39:e!==34&&e!==39&&td(It);break;case 40:e===41&&td(e);break;case 92:be();break}return he}function SC(e,t){for(;be()&&e+It!==57;)if(e+It===84&&an()===47)break;return"/*"+os(t,he-1)+"*"+ll(e===47?e:be())}function kC(e){for(;!Qo(an());)be();return os(e,he)}function wC(e){return b0(ca("",null,null,null,[""],e=y0(e),0,[0],e))}function ca(e,t,n,r,o,a,u,d,f){for(var m=0,b=0,v=u,x=0,T=0,R=0,w=1,j=1,C=1,A=0,S="",k=o,D=a,O=r,I=S;j;)switch(R=A,A=be()){case 40:if(R!=108&&_t(I,v-1)==58){Zc(I+=Z(ua(A),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:I+=ua(A);break;case 9:case 10:case 13:case 32:I+=xC(R);break;case 92:I+=CC(la()-1,7);continue;case 47:switch(an()){case 42:case 47:$s(EC(SC(be(),la()),t,n),f);break;default:I+="/"}break;case 123*w:d[m++]=Ze(I)*C;case 125*w:case 59:case 0:switch(A){case 0:case 125:j=0;case 59+b:C==-1&&(I=Z(I,/\f/g,"")),T>0&&Ze(I)-v&&$s(T>32?sm(I+";",r,n,v-1):sm(Z(I," ","")+";",r,n,v-2),f);break;case 59:I+=";";default:if($s(O=om(I,t,n,m,b,o,d,S,k=[],D=[],v),a),A===123)if(b===0)ca(I,t,O,O,k,a,v,d,D);else switch(x===99&&_t(I,3)===110?100:x){case 100:case 108:case 109:case 115:ca(e,O,O,r&&$s(om(e,O,O,0,0,o,d,S,o,k=[],v),D),o,D,v,d,r?k:D);break;default:ca(I,O,O,O,[""],D,0,d,D)}}m=b=T=0,w=C=1,S=I="",v=u;break;case 58:v=1+Ze(I),T=R;default:if(w<1){if(A==123)--w;else if(A==125&&w++==0&&AC()==125)continue}switch(I+=ll(A),A*w){case 38:C=b>0?1:(I+="\f",-1);break;case 44:d[m++]=(Ze(I)-1)*C,C=1;break;case 64:an()===45&&(I+=ua(be())),x=an(),b=v=Ze(S=I+=kC(la())),A++;break;case 45:R===45&&Ze(I)==2&&(w=0)}}return a}function om(e,t,n,r,o,a,u,d,f,m,b){for(var v=o-1,x=o===0?a:[""],T=ph(x),R=0,w=0,j=0;R<r;++R)for(var C=0,A=Go(e,v+1,v=gC(w=u[R])),S=e;C<T;++C)(S=p0(w>0?x[C]+" "+A:Z(A,/&\f/g,x[C])))&&(f[j++]=S);return cl(e,t,n,o===0?gh:d,f,m,b)}function EC(e,t,n){return cl(e,t,n,g0,ll(bC()),Go(e,2,-2),0)}function sm(e,t,n,r){return cl(e,t,n,mh,Go(e,0,r),Go(e,r+1,-1),r)}function vi(e,t){for(var n="",r=ph(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function RC(e,t,n,r){switch(e.type){case fC:if(e.children.length)break;case hC:case mh:return e.return=e.return||e.value;case g0:return"";case m0:return e.return=e.value+"{"+vi(e.children,r)+"}";case gh:e.value=e.props.join(",")}return Ze(n=vi(e.children,r))?e.return=e.value+"{"+n+"}":""}function TC(e){var t=ph(e);return function(n,r,o,a){for(var u="",d=0;d<t;d++)u+=e[d](n,r,o,a)||"";return u}}function LC(e){return function(t){t.root||(t=t.return)&&e(t)}}var am=function(t){var n=new WeakMap;return function(r){if(n.has(r))return n.get(r);var o=t(r);return n.set(r,o),o}},DC=function(t,n,r){for(var o=0,a=0;o=a,a=an(),o===38&&a===12&&(n[r]=1),!Qo(a);)be();return os(t,he)},PC=function(t,n){var r=-1,o=44;do switch(Qo(o)){case 0:o===38&&an()===12&&(n[r]=1),t[r]+=DC(he-1,n,r);break;case 2:t[r]+=ua(o);break;case 4:if(o===44){t[++r]=an()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=ll(o)}while(o=be());return t},IC=function(t,n){return b0(PC(y0(t),n))},lm=new WeakMap,OC=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,o=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!lm.get(r))&&!o){lm.set(t,!0);for(var a=[],u=IC(n,a),d=r.props,f=0,m=0;f<u.length;f++)for(var b=0;b<d.length;b++,m++)t.props[m]=a[f]?u[f].replace(/&\f/g,d[b]):d[b]+" "+u[f]}}},BC=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function A0(e,t){switch(pC(e,t)){case 5103:return Y+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Y+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Y+e+za+e+Jt+e+e;case 6828:case 4268:return Y+e+Jt+e+e;case 6165:return Y+e+Jt+"flex-"+e+e;case 5187:return Y+e+Z(e,/(\w+).+(:[^]+)/,Y+"box-$1$2"+Jt+"flex-$1$2")+e;case 5443:return Y+e+Jt+"flex-item-"+Z(e,/flex-|-self/,"")+e;case 4675:return Y+e+Jt+"flex-line-pack"+Z(e,/align-content|flex-|-self/,"")+e;case 5548:return Y+e+Jt+Z(e,"shrink","negative")+e;case 5292:return Y+e+Jt+Z(e,"basis","preferred-size")+e;case 6060:return Y+"box-"+Z(e,"-grow","")+Y+e+Jt+Z(e,"grow","positive")+e;case 4554:return Y+Z(e,/([^-])(transform)/g,"$1"+Y+"$2")+e;case 6187:return Z(Z(Z(e,/(zoom-|grab)/,Y+"$1"),/(image-set)/,Y+"$1"),e,"")+e;case 5495:case 3959:return Z(e,/(image-set\([^]*)/,Y+"$1$`$1");case 4968:return Z(Z(e,/(.+:)(flex-)?(.*)/,Y+"box-pack:$3"+Jt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Y+e+e;case 4095:case 3583:case 4068:case 2532:return Z(e,/(.+)-inline(.+)/,Y+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ze(e)-1-t>6)switch(_t(e,t+1)){case 109:if(_t(e,t+4)!==45)break;case 102:return Z(e,/(.+:)(.+)-([^]+)/,"$1"+Y+"$2-$3$1"+za+(_t(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~Zc(e,"stretch")?A0(Z(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(_t(e,t+1)!==115)break;case 6444:switch(_t(e,Ze(e)-3-(~Zc(e,"!important")&&10))){case 107:return Z(e,":",":"+Y)+e;case 101:return Z(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Y+(_t(e,14)===45?"inline-":"")+"box$3$1"+Y+"$2$3$1"+Jt+"$2box$3")+e}break;case 5936:switch(_t(e,t+11)){case 114:return Y+e+Jt+Z(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Y+e+Jt+Z(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Y+e+Jt+Z(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Y+e+Jt+e+e}return e}var FC=function(t,n,r,o){if(t.length>-1&&!t.return)switch(t.type){case mh:t.return=A0(t.value,t.length);break;case m0:return vi([no(t,{value:Z(t.value,"@","@"+Y)})],o);case gh:if(t.length)return yC(t.props,function(a){switch(vC(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vi([no(t,{props:[Z(a,/:(read-\w+)/,":"+za+"$1")]})],o);case"::placeholder":return vi([no(t,{props:[Z(a,/:(plac\w+)/,":"+Y+"input-$1")]}),no(t,{props:[Z(a,/:(plac\w+)/,":"+za+"$1")]}),no(t,{props:[Z(a,/:(plac\w+)/,Jt+"input-$1")]})],o)}return""})}},NC=[FC],MC=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var j=w.getAttribute("data-emotion");j.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var o=t.stylisPlugins||NC,a={},u,d=[];u=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var j=w.getAttribute("data-emotion").split(" "),C=1;C<j.length;C++)a[j[C]]=!0;d.push(w)});var f,m=[OC,BC];{var b,v=[RC,LC(function(w){b.insert(w)})],x=TC(m.concat(o,v)),T=function(j){return vi(wC(j),x)};f=function(j,C,A,S){b=A,T(j?j+"{"+C.styles+"}":C.styles),S&&(R.inserted[C.name]=!0)}}var R={key:n,sheet:new dC({key:n,container:u,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:f};return R.sheet.hydrate(d),R},jC=!0;function zC(e,t,n){var r="";return n.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(r+=o+" ")}),r}var x0=function(t,n,r){var o=t.key+"-"+n.name;(r===!1||jC===!1)&&t.registered[o]===void 0&&(t.registered[o]=n.styles)},WC=function(t,n,r){x0(t,n,r);var o=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+o:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function _C(e){for(var t=0,n,r=0,o=e.length;o>=4;++r,o-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var VC={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},UC=!1,$C=/[A-Z]|^ms/g,HC=/_EMO_([^_]+?)_([^]*?)_EMO_/g,C0=function(t){return t.charCodeAt(1)===45},um=function(t){return t!=null&&typeof t!="boolean"},Nu=f0(function(e){return C0(e)?e:e.replace($C,"-$&").toLowerCase()}),cm=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(HC,function(r,o,a){return tn={name:o,styles:a,next:tn},o})}return VC[t]!==1&&!C0(t)&&typeof n=="number"&&n!==0?n+"px":n},qC="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Xo(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var o=n;if(o.anim===1)return tn={name:o.name,styles:o.styles,next:tn},o.name;var a=n;if(a.styles!==void 0){var u=a.next;if(u!==void 0)for(;u!==void 0;)tn={name:u.name,styles:u.styles,next:tn},u=u.next;var d=a.styles+";";return d}return KC(e,t,n)}case"function":{if(e!==void 0){var f=tn,m=n(e);return tn=f,Xo(e,t,m)}break}}var b=n;if(t==null)return b;var v=t[b];return v!==void 0?v:b}function KC(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Xo(e,t,n[o])+";";else for(var a in n){var u=n[a];if(typeof u!="object"){var d=u;t!=null&&t[d]!==void 0?r+=a+"{"+t[d]+"}":um(d)&&(r+=Nu(a)+":"+cm(a,d)+";")}else{if(a==="NO_COMPONENT_SELECTOR"&&UC)throw new Error(qC);if(Array.isArray(u)&&typeof u[0]=="string"&&(t==null||t[u[0]]===void 0))for(var f=0;f<u.length;f++)um(u[f])&&(r+=Nu(a)+":"+cm(a,u[f])+";");else{var m=Xo(e,t,u);switch(a){case"animation":case"animationName":{r+=Nu(a)+":"+m+";";break}default:r+=a+"{"+m+"}"}}}}return r}var dm=/label:\s*([^\s;{]+)\s*(;|$)/g,tn;function S0(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,o="";tn=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,o+=Xo(n,t,a);else{var u=a;o+=u[0]}for(var d=1;d<e.length;d++)if(o+=Xo(n,t,e[d]),r){var f=a;o+=f[d]}dm.lastIndex=0;for(var m="",b;(b=dm.exec(o))!==null;)m+="-"+b[1];var v=_C(o)+m;return{name:v,styles:o,next:tn}}var JC=function(t){return t()},GC=Yf.useInsertionEffect?Yf.useInsertionEffect:!1,QC=GC||JC,k0=mt.createContext(typeof HTMLElement<"u"?MC({key:"css"}):null);k0.Provider;var XC=function(t){return mt.forwardRef(function(n,r){var o=mt.useContext(k0);return t(n,o,r)})},Wa=mt.createContext({}),YC=function(t,n){if(typeof n=="function"){var r=n(t);return r}return ja({},t,n)},ZC=am(function(e){return am(function(t){return YC(e,t)})}),tS=function(t){var n=mt.useContext(Wa);return t.theme!==n&&(n=ZC(n)(t.theme)),mt.createElement(Wa.Provider,{value:n},t.children)},eS=aC,nS=function(t){return t!=="theme"},hm=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?eS:nS},fm=function(t,n,r){var o;if(n){var a=n.shouldForwardProp;o=t.__emotion_forwardProp&&a?function(u){return t.__emotion_forwardProp(u)&&a(u)}:a}return typeof o!="function"&&r&&(o=t.__emotion_forwardProp),o},rS=!1,iS=function(t){var n=t.cache,r=t.serialized,o=t.isStringTag;return x0(n,r,o),QC(function(){return WC(n,r,o)}),null},oS=function e(t,n){var r=t.__emotion_real===t,o=r&&t.__emotion_base||t,a,u;n!==void 0&&(a=n.label,u=n.target);var d=fm(t,n,r),f=d||hm(o),m=!f("as");return function(){var b=arguments,v=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&v.push("label:"+a+";"),b[0]==null||b[0].raw===void 0)v.push.apply(v,b);else{v.push(b[0][0]);for(var x=b.length,T=1;T<x;T++)v.push(b[T],b[0][T])}var R=XC(function(w,j,C){var A=m&&w.as||o,S="",k=[],D=w;if(w.theme==null){D={};for(var O in w)D[O]=w[O];D.theme=mt.useContext(Wa)}typeof w.className=="string"?S=zC(j.registered,k,w.className):w.className!=null&&(S=w.className+" ");var I=S0(v.concat(k),j.registered,D);S+=j.key+"-"+I.name,u!==void 0&&(S+=" "+u);var F=m&&d===void 0?hm(A):f,H={};for(var p in w)m&&p==="as"||F(p)&&(H[p]=w[p]);return H.className=S,C&&(H.ref=C),mt.createElement(mt.Fragment,null,mt.createElement(iS,{cache:j,serialized:I,isStringTag:typeof A=="string"}),mt.createElement(A,H))});return R.displayName=a!==void 0?a:"Styled("+(typeof o=="string"?o:o.displayName||o.name||"Component")+")",R.defaultProps=t.defaultProps,R.__emotion_real=R,R.__emotion_base=o,R.__emotion_styles=v,R.__emotion_forwardProp=d,Object.defineProperty(R,"toString",{value:function(){return u===void 0&&rS?"NO_COMPONENT_SELECTOR":"."+u}}),R.withComponent=function(w,j){return e(w,ja({},n,j,{shouldForwardProp:fm(R,j,!0)})).apply(void 0,v)},R}},sS=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],ed=oS.bind();sS.forEach(function(e){ed[e]=ed(e)});/**
 * @mui/styled-engine v6.1.6
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function w0(e,t){return ed(e,t)}function aS(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const gm=[];function mm(e){return gm[0]=e,S0(gm)}function nn(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function E0(e){if(!nn(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=E0(e[n])}),t}function Ae(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return nn(e)&&nn(t)&&Object.keys(t).forEach(o=>{nn(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&nn(e[o])?r[o]=Ae(e[o],t[o],n):n.clone?r[o]=nn(t[o])?E0(t[o]):t[o]:r[o]=t[o]}),r}const lS=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function uS(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...o}=e,a=lS(t),u=Object.keys(a);function d(x){return`@media (min-width:${typeof t[x]=="number"?t[x]:x}${n})`}function f(x){return`@media (max-width:${(typeof t[x]=="number"?t[x]:x)-r/100}${n})`}function m(x,T){const R=u.indexOf(T);return`@media (min-width:${typeof t[x]=="number"?t[x]:x}${n}) and (max-width:${(R!==-1&&typeof t[u[R]]=="number"?t[u[R]]:T)-r/100}${n})`}function b(x){return u.indexOf(x)+1<u.length?m(x,u[u.indexOf(x)+1]):d(x)}function v(x){const T=u.indexOf(x);return T===0?d(u[1]):T===u.length-1?f(u[T]):m(x,u[u.indexOf(x)+1]).replace("@media","@media not all and")}return{keys:u,values:a,up:d,down:f,between:m,only:b,not:v,unit:n,...o}}function cS(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,o)=>{var u,d;const a=/min-width:\s*([0-9.]+)/;return+(((u=r.match(a))==null?void 0:u[1])||0)-+(((d=o.match(a))==null?void 0:d[1])||0)});return n.length?n.reduce((r,o)=>{const a=t[o];return delete r[o],r[o]=a,r},{...t}):t}function dS(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function hS(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,o]=n,a=Number.isNaN(+r)?r||0:+r;return e.containerQueries(o).up(a)}function fS(e){const t=(a,u)=>a.replace("@media",u?`@container ${u}`:"@container");function n(a,u){a.up=(...d)=>t(e.breakpoints.up(...d),u),a.down=(...d)=>t(e.breakpoints.down(...d),u),a.between=(...d)=>t(e.breakpoints.between(...d),u),a.only=(...d)=>t(e.breakpoints.only(...d),u),a.not=(...d)=>{const f=t(e.breakpoints.not(...d),u);return f.includes("not all and")?f.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):f}}const r={},o=a=>(n(r,a),r);return n(o),{...e,containerQueries:o}}const gS={borderRadius:4};function So(e,t){return t?Ae(e,t,{clone:!1}):e}const dl={xs:0,sm:600,md:900,lg:1200,xl:1536},pm={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${dl[e]}px)`},mS={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:dl[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function wn(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const a=r.breakpoints||pm;return t.reduce((u,d,f)=>(u[a.up(a.keys[f])]=n(t[f]),u),{})}if(typeof t=="object"){const a=r.breakpoints||pm;return Object.keys(t).reduce((u,d)=>{if(dS(a.keys,d)){const f=hS(r.containerQueries?r:mS,d);f&&(u[f]=n(t[d],d))}else if(Object.keys(a.values||dl).includes(d)){const f=a.up(d);u[f]=n(t[d],d)}else{const f=d;u[f]=t[f]}return u},{})}return n(t)}function pS(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,o)=>{const a=e.up(o);return r[a]={},r},{}))||{}}function vS(e,t){return e.reduce((n,r)=>{const o=n[r];return(!o||Object.keys(o).length===0)&&delete n[r],n},t)}function R0(e){if(typeof e!="string")throw new Error(Tr(7));return e.charAt(0).toUpperCase()+e.slice(1)}function hl(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((o,a)=>o&&o[a]?o[a]:null,e);if(r!=null)return r}return t.split(".").reduce((r,o)=>r&&r[o]!=null?r[o]:null,e)}function _a(e,t,n,r=n){let o;return typeof e=="function"?o=e(n):Array.isArray(e)?o=e[n]||r:o=hl(e,n)||r,t&&(o=t(o,r,e)),o}function Lt(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,a=u=>{if(u[t]==null)return null;const d=u[t],f=u.theme,m=hl(f,r)||{};return wn(u,d,v=>{let x=_a(m,o,v);return v===x&&typeof v=="string"&&(x=_a(m,o,`${t}${v==="default"?"":R0(v)}`,v)),n===!1?x:{[n]:x}})};return a.propTypes={},a.filterProps=[t],a}function yS(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const bS={m:"margin",p:"padding"},AS={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},vm={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},xS=yS(e=>{if(e.length>2)if(vm[e])e=vm[e];else return[e];const[t,n]=e.split(""),r=bS[t],o=AS[n]||"";return Array.isArray(o)?o.map(a=>r+a):[r+o]}),vh=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],yh=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...vh,...yh];function ss(e,t,n,r){const o=hl(e,t,!0)??n;return typeof o=="number"||typeof o=="string"?a=>typeof a=="string"?a:typeof o=="string"?`calc(${a} * ${o})`:o*a:Array.isArray(o)?a=>{if(typeof a=="string")return a;const u=Math.abs(a),d=o[u];return a>=0?d:typeof d=="number"?-d:`-${d}`}:typeof o=="function"?o:()=>{}}function bh(e){return ss(e,"spacing",8)}function as(e,t){return typeof t=="string"||t==null?t:e(t)}function CS(e,t){return n=>e.reduce((r,o)=>(r[o]=as(t,n),r),{})}function SS(e,t,n,r){if(!t.includes(n))return null;const o=xS(n),a=CS(o,r),u=e[n];return wn(e,u,a)}function T0(e,t){const n=bh(e.theme);return Object.keys(e).map(r=>SS(e,t,r,n)).reduce(So,{})}function xt(e){return T0(e,vh)}xt.propTypes={};xt.filterProps=vh;function Ct(e){return T0(e,yh)}Ct.propTypes={};Ct.filterProps=yh;function L0(e=8,t=bh({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(a=>{const u=t(a);return typeof u=="number"?`${u}px`:u}).join(" ");return n.mui=!0,n}function fl(...e){const t=e.reduce((r,o)=>(o.filterProps.forEach(a=>{r[a]=o}),r),{}),n=r=>Object.keys(r).reduce((o,a)=>t[a]?So(o,t[a](r)):o,{});return n.propTypes={},n.filterProps=e.reduce((r,o)=>r.concat(o.filterProps),[]),n}function Le(e){return typeof e!="number"?e:`${e}px solid`}function Fe(e,t){return Lt({prop:e,themeKey:"borders",transform:t})}const kS=Fe("border",Le),wS=Fe("borderTop",Le),ES=Fe("borderRight",Le),RS=Fe("borderBottom",Le),TS=Fe("borderLeft",Le),LS=Fe("borderColor"),DS=Fe("borderTopColor"),PS=Fe("borderRightColor"),IS=Fe("borderBottomColor"),OS=Fe("borderLeftColor"),BS=Fe("outline",Le),FS=Fe("outlineColor"),gl=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=ss(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:as(t,r)});return wn(e,e.borderRadius,n)}return null};gl.propTypes={};gl.filterProps=["borderRadius"];fl(kS,wS,ES,RS,TS,LS,DS,PS,IS,OS,gl,BS,FS);const ml=e=>{if(e.gap!==void 0&&e.gap!==null){const t=ss(e.theme,"spacing",8),n=r=>({gap:as(t,r)});return wn(e,e.gap,n)}return null};ml.propTypes={};ml.filterProps=["gap"];const pl=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=ss(e.theme,"spacing",8),n=r=>({columnGap:as(t,r)});return wn(e,e.columnGap,n)}return null};pl.propTypes={};pl.filterProps=["columnGap"];const vl=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=ss(e.theme,"spacing",8),n=r=>({rowGap:as(t,r)});return wn(e,e.rowGap,n)}return null};vl.propTypes={};vl.filterProps=["rowGap"];const NS=Lt({prop:"gridColumn"}),MS=Lt({prop:"gridRow"}),jS=Lt({prop:"gridAutoFlow"}),zS=Lt({prop:"gridAutoColumns"}),WS=Lt({prop:"gridAutoRows"}),_S=Lt({prop:"gridTemplateColumns"}),VS=Lt({prop:"gridTemplateRows"}),US=Lt({prop:"gridTemplateAreas"}),$S=Lt({prop:"gridArea"});fl(ml,pl,vl,NS,MS,jS,zS,WS,_S,VS,US,$S);function yi(e,t){return t==="grey"?t:e}const HS=Lt({prop:"color",themeKey:"palette",transform:yi}),qS=Lt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:yi}),KS=Lt({prop:"backgroundColor",themeKey:"palette",transform:yi});fl(HS,qS,KS);function pe(e){return e<=1&&e!==0?`${e*100}%`:e}const JS=Lt({prop:"width",transform:pe}),Ah=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var o,a,u,d,f;const r=((u=(a=(o=e.theme)==null?void 0:o.breakpoints)==null?void 0:a.values)==null?void 0:u[n])||dl[n];return r?((f=(d=e.theme)==null?void 0:d.breakpoints)==null?void 0:f.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:pe(n)}};return wn(e,e.maxWidth,t)}return null};Ah.filterProps=["maxWidth"];const GS=Lt({prop:"minWidth",transform:pe}),QS=Lt({prop:"height",transform:pe}),XS=Lt({prop:"maxHeight",transform:pe}),YS=Lt({prop:"minHeight",transform:pe});Lt({prop:"size",cssProperty:"width",transform:pe});Lt({prop:"size",cssProperty:"height",transform:pe});const ZS=Lt({prop:"boxSizing"});fl(JS,Ah,GS,QS,XS,YS,ZS);const ls={border:{themeKey:"borders",transform:Le},borderTop:{themeKey:"borders",transform:Le},borderRight:{themeKey:"borders",transform:Le},borderBottom:{themeKey:"borders",transform:Le},borderLeft:{themeKey:"borders",transform:Le},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Le},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:gl},color:{themeKey:"palette",transform:yi},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:yi},backgroundColor:{themeKey:"palette",transform:yi},p:{style:Ct},pt:{style:Ct},pr:{style:Ct},pb:{style:Ct},pl:{style:Ct},px:{style:Ct},py:{style:Ct},padding:{style:Ct},paddingTop:{style:Ct},paddingRight:{style:Ct},paddingBottom:{style:Ct},paddingLeft:{style:Ct},paddingX:{style:Ct},paddingY:{style:Ct},paddingInline:{style:Ct},paddingInlineStart:{style:Ct},paddingInlineEnd:{style:Ct},paddingBlock:{style:Ct},paddingBlockStart:{style:Ct},paddingBlockEnd:{style:Ct},m:{style:xt},mt:{style:xt},mr:{style:xt},mb:{style:xt},ml:{style:xt},mx:{style:xt},my:{style:xt},margin:{style:xt},marginTop:{style:xt},marginRight:{style:xt},marginBottom:{style:xt},marginLeft:{style:xt},marginX:{style:xt},marginY:{style:xt},marginInline:{style:xt},marginInlineStart:{style:xt},marginInlineEnd:{style:xt},marginBlock:{style:xt},marginBlockStart:{style:xt},marginBlockEnd:{style:xt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ml},rowGap:{style:vl},columnGap:{style:pl},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:pe},maxWidth:{style:Ah},minWidth:{transform:pe},height:{transform:pe},maxHeight:{transform:pe},minHeight:{transform:pe},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function tk(...e){const t=e.reduce((r,o)=>r.concat(Object.keys(o)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function ek(e,t){return typeof e=="function"?e(t):e}function nk(){function e(n,r,o,a){const u={[n]:r,theme:o},d=a[n];if(!d)return{[n]:r};const{cssProperty:f=n,themeKey:m,transform:b,style:v}=d;if(r==null)return null;if(m==="typography"&&r==="inherit")return{[n]:r};const x=hl(o,m)||{};return v?v(u):wn(u,r,R=>{let w=_a(x,b,R);return R===w&&typeof R=="string"&&(w=_a(x,b,`${n}${R==="default"?"":R0(R)}`,R)),f===!1?w:{[f]:w}})}function t(n){const{sx:r,theme:o={}}=n||{};if(!r)return null;const a=o.unstable_sxConfig??ls;function u(d){let f=d;if(typeof d=="function")f=d(o);else if(typeof d!="object")return d;if(!f)return null;const m=pS(o.breakpoints),b=Object.keys(m);let v=m;return Object.keys(f).forEach(x=>{const T=ek(f[x],o);if(T!=null)if(typeof T=="object")if(a[x])v=So(v,e(x,T,o,a));else{const R=wn({theme:o},T,w=>({[x]:w}));tk(R,T)?v[x]=t({sx:T,theme:o}):v=So(v,R)}else v=So(v,e(x,T,o,a))}),cS(o,vS(b,v))}return Array.isArray(r)?r.map(u):u(r)}return t}const Lr=nk();Lr.filterProps=["sx"];function rk(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let o=n.getColorSchemeSelector(e);return o==="&"?t:((o.includes("data-")||o.includes("."))&&(o=`*:where(${o.replace(/\s*&$/,"")}) &`),{[o]:t})}return n.palette.mode===e?t:{}}function xh(e={},...t){const{breakpoints:n={},palette:r={},spacing:o,shape:a={},...u}=e,d=uS(n),f=L0(o);let m=Ae({breakpoints:d,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:f,shape:{...gS,...a}},u);return m=fS(m),m.applyStyles=rk,m=t.reduce((b,v)=>Ae(b,v),m),m.unstable_sxConfig={...ls,...u==null?void 0:u.unstable_sxConfig},m.unstable_sx=function(v){return Lr({sx:v,theme:this})},m}function ik(e){return Object.keys(e).length===0}function ok(e=null){const t=mt.useContext(Wa);return!t||ik(t)?e:t}const sk=xh();function D0(e=sk){return ok(e)}const ak=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??ls;return Object.keys(e).forEach(o=>{n[o]?t.systemProps[o]=e[o]:t.otherProps[o]=e[o]}),t};function lk(e){const{sx:t,...n}=e,{systemProps:r,otherProps:o}=ak(n);let a;return Array.isArray(t)?a=[r,...t]:typeof t=="function"?a=(...u)=>{const d=t(...u);return nn(d)?{...r,...d}:r}:a={...r,...t},{...o,sx:a}}const ym=e=>e,uk=()=>{let e=ym;return{configure(t){e=t},generate(t){return e(t)},reset(){e=ym}}},P0=uk();function I0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=I0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function O0(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=I0(e))&&(r&&(r+=" "),r+=t);return r}function ck(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:o}=e,a=w0("div",{shouldForwardProp:d=>d!=="theme"&&d!=="sx"&&d!=="as"})(Lr);return mt.forwardRef(function(f,m){const b=D0(n),{className:v,component:x="div",...T}=lk(f);return me.jsx(a,{as:x,ref:m,className:O0(v,o?o(r):r),theme:t&&b[t]||b,...T})})}const dk={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function B0(e,t,n="Mui"){const r=dk[t];return r?`${n}-${r}`:`${P0.generate(e)}-${t}`}function F0(e,t,n="Mui"){const r={};return t.forEach(o=>{r[o]=B0(e,o,n)}),r}function N0(e){const{variants:t,...n}=e,r={variants:t,style:mm(n),isProcessed:!0};return r.style===n||t&&t.forEach(o=>{typeof o.style!="function"&&(o.style=mm(o.style))}),r}const hk=xh();function Mu(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function fk(e){return e?(t,n)=>n[e]:null}function gk(e,t,n){e.theme=vk(e.theme)?n:e.theme[t]||e.theme}function da(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>da(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:o,...a}=n;r=a}return M0(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function M0(e,t,n=[]){var o;let r;t:for(let a=0;a<t.length;a+=1){const u=t[a];if(typeof u.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!u.props(r))continue}else for(const d in u.props)if(e[d]!==u.props[d]&&((o=e.ownerState)==null?void 0:o[d])!==u.props[d])continue t;typeof u.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(u.style(r))):n.push(u.style)}return n}function mk(e={}){const{themeId:t,defaultTheme:n=hk,rootShouldForwardProp:r=Mu,slotShouldForwardProp:o=Mu}=e;function a(d){gk(d,t,n)}return(d,f={})=>{aS(d,D=>D.filter(O=>O!==Lr));const{name:m,slot:b,skipVariantsResolver:v,skipSx:x,overridesResolver:T=fk(bk(b)),...R}=f,w=v!==void 0?v:b&&b!=="Root"&&b!=="root"||!1,j=x||!1;let C=Mu;b==="Root"||b==="root"?C=r:b?C=o:yk(d)&&(C=void 0);const A=w0(d,{shouldForwardProp:C,label:pk(),...R}),S=D=>{if(typeof D=="function"&&D.__emotion_real!==D)return function(I){return da(I,D)};if(nn(D)){const O=N0(D);return O.variants?function(F){return da(F,O)}:O.style}return D},k=(...D)=>{const O=[],I=D.map(S),F=[];if(O.push(a),m&&T&&F.push(function(V){var _,we;const pt=(we=(_=V.theme.components)==null?void 0:_[m])==null?void 0:we.styleOverrides;if(!pt)return null;const rt={};for(const z in pt)rt[z]=da(V,pt[z]);return T(V,rt)}),m&&!w&&F.push(function(V){var rt,_;const q=V.theme,pt=(_=(rt=q==null?void 0:q.components)==null?void 0:rt[m])==null?void 0:_.variants;return pt?M0(V,pt):null}),j||F.push(Lr),Array.isArray(I[0])){const N=I.shift(),V=new Array(O.length).fill(""),q=new Array(F.length).fill("");let pt;pt=[...V,...N,...q],pt.raw=[...V,...N.raw,...q],O.unshift(pt)}const H=[...O,...I,...F],p=A(...H);return d.muiName&&(p.muiName=d.muiName),p};return A.withConfig&&(k.withConfig=A.withConfig),k}}function pk(e,t){return void 0}function vk(e){for(const t in e)return!1;return!0}function yk(e){return typeof e=="string"&&e.charCodeAt(0)>96}function bk(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function nd(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const o=r;if(o==="components"||o==="slots")n[o]={...e[o],...n[o]};else if(o==="componentsProps"||o==="slotProps"){const a=e[o],u=t[o];if(!u)n[o]=a||{};else if(!a)n[o]=u;else{n[o]={...u};for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const f=d;n[o][f]=nd(a[f],u[f])}}}else n[o]===void 0&&(n[o]=e[o])}return n}function Ak(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function Ch(e,t=0,n=1){return Ak(e,t,n)}function xk(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Xn(e){if(e.type)return e;if(e.charAt(0)==="#")return Xn(xk(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Tr(9,e));let r=e.substring(t+1,e.length-1),o;if(n==="color"){if(r=r.split(" "),o=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(o))throw new Error(Tr(10,o))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:o}}const Ck=e=>{const t=Xn(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},co=(e,t)=>{try{return Ck(e)}catch{return e}};function yl(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((o,a)=>a<3?parseInt(o,10):o):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function j0(e){e=Xn(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,a=r*Math.min(o,1-o),u=(m,b=(m+n/30)%12)=>o-a*Math.max(Math.min(b-3,9-b,1),-1);let d="rgb";const f=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return e.type==="hsla"&&(d+="a",f.push(t[3])),yl({type:d,values:f})}function rd(e){e=Xn(e);let t=e.type==="hsl"||e.type==="hsla"?Xn(j0(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Sk(e,t){const n=rd(e),r=rd(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function id(e,t){return e=Xn(e),t=Ch(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,yl(e)}function Hs(e,t,n){try{return id(e,t)}catch{return e}}function Sh(e,t){if(e=Xn(e),t=Ch(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return yl(e)}function it(e,t,n){try{return Sh(e,t)}catch{return e}}function kh(e,t){if(e=Xn(e),t=Ch(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return yl(e)}function ot(e,t,n){try{return kh(e,t)}catch{return e}}function kk(e,t=.15){return rd(e)>.5?Sh(e,t):kh(e,t)}function qs(e,t,n){try{return kk(e,t)}catch{return e}}function wk(e,t,n=void 0){const r={};for(const o in e){const a=e[o];let u="",d=!0;for(let f=0;f<a.length;f+=1){const m=a[f];m&&(u+=(d===!0?"":" ")+t(m),d=!1,n&&n[m]&&(u+=" "+n[m]))}r[o]=u}return r}const Ek=mt.createContext(void 0);function Rk(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?nd(o.defaultProps,r):!o.styleOverrides&&!o.variants?nd(o,r):r}function Tk({props:e,name:t}){const n=mt.useContext(Ek);return Rk({props:e,name:t,theme:{components:n}})}const bm={theme:void 0};function Lk(e){let t,n;return function(o){let a=t;return(a===void 0||o.theme!==n)&&(bm.theme=o.theme,a=N0(e(bm)),t=a,n=o.theme),a}}function Dk(e=""){function t(...r){if(!r.length)return"";const o=r[0];return typeof o=="string"&&!o.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${o}${t(...r.slice(1))})`:`, ${o}`}return(r,...o)=>`var(--${e?`${e}-`:""}${r}${t(...o)})`}const Am=(e,t,n,r=[])=>{let o=e;t.forEach((a,u)=>{u===t.length-1?Array.isArray(o)?o[Number(a)]=n:o&&typeof o=="object"&&(o[a]=n):o&&typeof o=="object"&&(o[a]||(o[a]=r.includes(a)?[]:{}),o=o[a])})},Pk=(e,t,n)=>{function r(o,a=[],u=[]){Object.entries(o).forEach(([d,f])=>{(!n||n&&!n([...a,d]))&&f!=null&&(typeof f=="object"&&Object.keys(f).length>0?r(f,[...a,d],Array.isArray(f)?[...u,d]:u):t([...a,d],f,u))})}r(e)},Ik=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function ju(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},o={},a={},u={};return Pk(e,(d,f,m)=>{if((typeof f=="string"||typeof f=="number")&&(!r||!r(d,f))){const b=`--${n?`${n}-`:""}${d.join("-")}`,v=Ik(d,f);Object.assign(o,{[b]:v}),Am(a,d,`var(${b})`,m),Am(u,d,`var(${b}, ${v})`,m)}},d=>d[0]==="vars"),{css:o,vars:a,varsWithDefaults:u}}function Ok(e,t={}){const{getSelector:n=j,disableCssColorScheme:r,colorSchemeSelector:o}=t,{colorSchemes:a={},components:u,defaultColorScheme:d="light",...f}=e,{vars:m,css:b,varsWithDefaults:v}=ju(f,t);let x=v;const T={},{[d]:R,...w}=a;if(Object.entries(w||{}).forEach(([S,k])=>{const{vars:D,css:O,varsWithDefaults:I}=ju(k,t);x=Ae(x,I),T[S]={css:O,vars:D}}),R){const{css:S,vars:k,varsWithDefaults:D}=ju(R,t);x=Ae(x,D),T[d]={css:S,vars:k}}function j(S,k){var O,I;let D=o;if(o==="class"&&(D=".%s"),o==="data"&&(D="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(D=`[${o}="%s"]`),S){if(D==="media")return e.defaultColorScheme===S?":root":{[`@media (prefers-color-scheme: ${((I=(O=a[S])==null?void 0:O.palette)==null?void 0:I.mode)||S})`]:{":root":k}};if(D)return e.defaultColorScheme===S?`:root, ${D.replace("%s",String(S))}`:D.replace("%s",String(S))}return":root"}return{vars:x,generateThemeVars:()=>{let S={...m};return Object.entries(T).forEach(([,{vars:k}])=>{S=Ae(S,k)}),S},generateStyleSheets:()=>{var F,H;const S=[],k=e.defaultColorScheme||"light";function D(p,N){Object.keys(N).length&&S.push(typeof p=="string"?{[p]:{...N}}:p)}D(n(void 0,{...b}),b);const{[k]:O,...I}=T;if(O){const{css:p}=O,N=(H=(F=a[k])==null?void 0:F.palette)==null?void 0:H.mode,V=!r&&N?{colorScheme:N,...p}:{...p};D(n(k,{...V}),V)}return Object.entries(I).forEach(([p,{css:N}])=>{var pt,rt;const V=(rt=(pt=a[p])==null?void 0:pt.palette)==null?void 0:rt.mode,q=!r&&V?{colorScheme:V,...N}:{...N};D(n(p,{...q}),q)}),S}}}function Bk(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function z0(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Jo.white,default:Jo.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Fk=z0();function W0(){return{text:{primary:Jo.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Jo.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const xm=W0();function Cm(e,t,n,r){const o=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=kh(e.main,o):t==="dark"&&(e.dark=Sh(e.main,a)))}function Nk(e="light"){return e==="dark"?{main:Gr[200],light:Gr[50],dark:Gr[400]}:{main:Gr[700],light:Gr[400],dark:Gr[800]}}function Mk(e="light"){return e==="dark"?{main:Jr[200],light:Jr[50],dark:Jr[400]}:{main:Jr[500],light:Jr[300],dark:Jr[700]}}function jk(e="light"){return e==="dark"?{main:Kr[500],light:Kr[300],dark:Kr[700]}:{main:Kr[700],light:Kr[400],dark:Kr[800]}}function zk(e="light"){return e==="dark"?{main:Qr[400],light:Qr[300],dark:Qr[700]}:{main:Qr[700],light:Qr[500],dark:Qr[900]}}function Wk(e="light"){return e==="dark"?{main:Xr[400],light:Xr[300],dark:Xr[700]}:{main:Xr[800],light:Xr[500],dark:Xr[900]}}function _k(e="light"){return e==="dark"?{main:eo[400],light:eo[300],dark:eo[700]}:{main:"#ed6c02",light:eo[500],dark:eo[900]}}function wh(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...o}=e,a=e.primary||Nk(t),u=e.secondary||Mk(t),d=e.error||jk(t),f=e.info||zk(t),m=e.success||Wk(t),b=e.warning||_k(t);function v(w){return Sk(w,xm.text.primary)>=n?xm.text.primary:Fk.text.primary}const x=({color:w,name:j,mainShade:C=500,lightShade:A=300,darkShade:S=700})=>{if(w={...w},!w.main&&w[C]&&(w.main=w[C]),!w.hasOwnProperty("main"))throw new Error(Tr(11,j?` (${j})`:"",C));if(typeof w.main!="string")throw new Error(Tr(12,j?` (${j})`:"",JSON.stringify(w.main)));return Cm(w,"light",A,r),Cm(w,"dark",S,r),w.contrastText||(w.contrastText=v(w.main)),w};let T;return t==="light"?T=z0():t==="dark"&&(T=W0()),Ae({common:{...Jo},mode:t,primary:x({color:a,name:"primary"}),secondary:x({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:x({color:d,name:"error"}),warning:x({color:b,name:"warning"}),info:x({color:f,name:"info"}),success:x({color:m,name:"success"}),grey:oC,contrastThreshold:n,getContrastText:v,augmentColor:x,tonalOffset:r,...T},o)}function Vk(e){const t={};return Object.entries(e).forEach(r=>{const[o,a]=r;typeof a=="object"&&(t[o]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),t}function Uk(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function $k(e){return Math.round(e*1e5)/1e5}const Sm={textTransform:"uppercase"},km='"Roboto", "Helvetica", "Arial", sans-serif';function Hk(e,t){const{fontFamily:n=km,fontSize:r=14,fontWeightLight:o=300,fontWeightRegular:a=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:f=16,allVariants:m,pxToRem:b,...v}=typeof t=="function"?t(e):t,x=r/14,T=b||(j=>`${j/f*x}rem`),R=(j,C,A,S,k)=>({fontFamily:n,fontWeight:j,fontSize:T(C),lineHeight:A,...n===km?{letterSpacing:`${$k(S/C)}em`}:{},...k,...m}),w={h1:R(o,96,1.167,-1.5),h2:R(o,60,1.2,-.5),h3:R(a,48,1.167,0),h4:R(a,34,1.235,.25),h5:R(a,24,1.334,0),h6:R(u,20,1.6,.15),subtitle1:R(a,16,1.75,.15),subtitle2:R(u,14,1.57,.1),body1:R(a,16,1.5,.15),body2:R(a,14,1.43,.15),button:R(u,14,1.75,.4,Sm),caption:R(a,12,1.66,.4),overline:R(a,12,2.66,1,Sm),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ae({htmlFontSize:f,pxToRem:T,fontFamily:n,fontSize:r,fontWeightLight:o,fontWeightRegular:a,fontWeightMedium:u,fontWeightBold:d,...w},v,{clone:!1})}const qk=.2,Kk=.14,Jk=.12;function ft(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${qk})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Kk})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Jk})`].join(",")}const Gk=["none",ft(0,2,1,-1,0,1,1,0,0,1,3,0),ft(0,3,1,-2,0,2,2,0,0,1,5,0),ft(0,3,3,-2,0,3,4,0,0,1,8,0),ft(0,2,4,-1,0,4,5,0,0,1,10,0),ft(0,3,5,-1,0,5,8,0,0,1,14,0),ft(0,3,5,-1,0,6,10,0,0,1,18,0),ft(0,4,5,-2,0,7,10,1,0,2,16,1),ft(0,5,5,-3,0,8,10,1,0,3,14,2),ft(0,5,6,-3,0,9,12,1,0,3,16,2),ft(0,6,6,-3,0,10,14,1,0,4,18,3),ft(0,6,7,-4,0,11,15,1,0,4,20,3),ft(0,7,8,-4,0,12,17,2,0,5,22,4),ft(0,7,8,-4,0,13,19,2,0,5,24,4),ft(0,7,9,-4,0,14,21,2,0,5,26,4),ft(0,8,9,-5,0,15,22,2,0,6,28,5),ft(0,8,10,-5,0,16,24,2,0,6,30,5),ft(0,8,11,-5,0,17,26,2,0,6,32,5),ft(0,9,11,-5,0,18,28,2,0,7,34,6),ft(0,9,12,-6,0,19,29,2,0,7,36,6),ft(0,10,13,-6,0,20,31,3,0,8,38,7),ft(0,10,13,-6,0,21,33,3,0,8,40,7),ft(0,10,14,-6,0,22,35,3,0,8,42,7),ft(0,11,14,-7,0,23,36,3,0,9,44,8),ft(0,11,15,-7,0,24,38,3,0,9,46,8)],Qk={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Xk={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function wm(e){return`${Math.round(e)}ms`}function Yk(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Zk(e){const t={...Qk,...e.easing},n={...Xk,...e.duration};return{getAutoHeightDuration:Yk,create:(o=["all"],a={})=>{const{duration:u=n.standard,easing:d=t.easeInOut,delay:f=0,...m}=a;return(Array.isArray(o)?o:[o]).map(b=>`${b} ${typeof u=="string"?u:wm(u)} ${d} ${typeof f=="string"?f:wm(f)}`).join(",")},...e,easing:t,duration:n}}const tw={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function ew(e){return nn(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function _0(e={}){const t={...e};function n(r){const o=Object.entries(r);for(let a=0;a<o.length;a++){const[u,d]=o[a];!ew(d)||u.startsWith("unstable_")?delete r[u]:nn(d)&&(r[u]={...d},n(r[u]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function od(e={},...t){const{breakpoints:n,mixins:r={},spacing:o,palette:a={},transitions:u={},typography:d={},shape:f,...m}=e;if(e.vars)throw new Error(Tr(20));const b=wh(a),v=xh(e);let x=Ae(v,{mixins:Uk(v.breakpoints,r),palette:b,shadows:Gk.slice(),typography:Hk(b,d),transitions:Zk(u),zIndex:{...tw}});return x=Ae(x,m),x=t.reduce((T,R)=>Ae(T,R),x),x.unstable_sxConfig={...ls,...m==null?void 0:m.unstable_sxConfig},x.unstable_sx=function(R){return Lr({sx:R,theme:this})},x.toRuntimeSource=_0,x}function sd(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const nw=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=sd(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function V0(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function U0(e){return e==="dark"?nw:[]}function rw(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...o}=e,a=wh(t);return{palette:a,opacity:{...V0(a.mode),...n},overlays:r||U0(a.mode),...o}}function iw(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const ow=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],sw=e=>(t,n)=>{const r=e.rootSelector||":root",o=e.colorSchemeSelector;let a=o;if(o==="class"&&(a=".%s"),o==="data"&&(a="[data-%s]"),o!=null&&o.startsWith("data-")&&!o.includes("%s")&&(a=`[${o}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const u={};return ow(e.cssVarPrefix).forEach(d=>{u[d]=n[d],delete n[d]}),a==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:u}}:a?{[a.replace("%s",t)]:u,[`${r}, ${a.replace("%s",t)}`]:n}:{[r]:{...n,...u}}}if(a&&a!=="media")return`${r}, ${a.replace("%s",String(t))}`}else if(t){if(a==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(a)return a.replace("%s",String(t))}return r};function aw(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function L(e,t,n){!e[t]&&n&&(e[t]=n)}function ho(e){return!e||!e.startsWith("hsl")?e:j0(e)}function hn(e,t){`${t}Channel`in e||(e[`${t}Channel`]=co(ho(e[t]),`MUI: Can't create \`palette.${t}Channel\` because \`palette.${t}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${t}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function lw(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Xe=e=>{try{return e()}catch{}},uw=(e="mui")=>Dk(e);function zu(e,t,n,r){if(!t)return;t=t===!0?{}:t;const o=r==="dark"?"dark":"light";if(!n){e[r]=rw({...t,palette:{mode:o,...t==null?void 0:t.palette}});return}const{palette:a,...u}=od({...n,palette:{mode:o,...t==null?void 0:t.palette}});return e[r]={...t,palette:a,opacity:{...V0(o),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||U0(o)},u}function cw(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:o=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:u=iw,colorSchemeSelector:d=n.light&&n.dark?"media":void 0,rootSelector:f=":root",...m}=e,b=Object.keys(n)[0],v=r||(n.light&&b!=="light"?"light":b),x=uw(a),{[v]:T,light:R,dark:w,...j}=n,C={...j};let A=T;if((v==="dark"&&!("dark"in n)||v==="light"&&!("light"in n))&&(A=!0),!A)throw new Error(Tr(21,v));const S=zu(C,A,m,v);R&&!C.light&&zu(C,R,void 0,"light"),w&&!C.dark&&zu(C,w,void 0,"dark");let k={defaultColorScheme:v,...S,cssVarPrefix:a,colorSchemeSelector:d,rootSelector:f,getCssVar:x,colorSchemes:C,font:{...Vk(S.typography),...S.font},spacing:lw(m.spacing)};Object.keys(k.colorSchemes).forEach(H=>{const p=k.colorSchemes[H].palette,N=V=>{const q=V.split("-"),pt=q[1],rt=q[2];return x(V,p[pt][rt])};if(p.mode==="light"&&(L(p.common,"background","#fff"),L(p.common,"onBackground","#000")),p.mode==="dark"&&(L(p.common,"background","#000"),L(p.common,"onBackground","#fff")),aw(p,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),p.mode==="light"){L(p.Alert,"errorColor",it(p.error.light,.6)),L(p.Alert,"infoColor",it(p.info.light,.6)),L(p.Alert,"successColor",it(p.success.light,.6)),L(p.Alert,"warningColor",it(p.warning.light,.6)),L(p.Alert,"errorFilledBg",N("palette-error-main")),L(p.Alert,"infoFilledBg",N("palette-info-main")),L(p.Alert,"successFilledBg",N("palette-success-main")),L(p.Alert,"warningFilledBg",N("palette-warning-main")),L(p.Alert,"errorFilledColor",Xe(()=>p.getContrastText(p.error.main))),L(p.Alert,"infoFilledColor",Xe(()=>p.getContrastText(p.info.main))),L(p.Alert,"successFilledColor",Xe(()=>p.getContrastText(p.success.main))),L(p.Alert,"warningFilledColor",Xe(()=>p.getContrastText(p.warning.main))),L(p.Alert,"errorStandardBg",ot(p.error.light,.9)),L(p.Alert,"infoStandardBg",ot(p.info.light,.9)),L(p.Alert,"successStandardBg",ot(p.success.light,.9)),L(p.Alert,"warningStandardBg",ot(p.warning.light,.9)),L(p.Alert,"errorIconColor",N("palette-error-main")),L(p.Alert,"infoIconColor",N("palette-info-main")),L(p.Alert,"successIconColor",N("palette-success-main")),L(p.Alert,"warningIconColor",N("palette-warning-main")),L(p.AppBar,"defaultBg",N("palette-grey-100")),L(p.Avatar,"defaultBg",N("palette-grey-400")),L(p.Button,"inheritContainedBg",N("palette-grey-300")),L(p.Button,"inheritContainedHoverBg",N("palette-grey-A100")),L(p.Chip,"defaultBorder",N("palette-grey-400")),L(p.Chip,"defaultAvatarColor",N("palette-grey-700")),L(p.Chip,"defaultIconColor",N("palette-grey-700")),L(p.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),L(p.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),L(p.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),L(p.LinearProgress,"primaryBg",ot(p.primary.main,.62)),L(p.LinearProgress,"secondaryBg",ot(p.secondary.main,.62)),L(p.LinearProgress,"errorBg",ot(p.error.main,.62)),L(p.LinearProgress,"infoBg",ot(p.info.main,.62)),L(p.LinearProgress,"successBg",ot(p.success.main,.62)),L(p.LinearProgress,"warningBg",ot(p.warning.main,.62)),L(p.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.11)`),L(p.Slider,"primaryTrack",ot(p.primary.main,.62)),L(p.Slider,"secondaryTrack",ot(p.secondary.main,.62)),L(p.Slider,"errorTrack",ot(p.error.main,.62)),L(p.Slider,"infoTrack",ot(p.info.main,.62)),L(p.Slider,"successTrack",ot(p.success.main,.62)),L(p.Slider,"warningTrack",ot(p.warning.main,.62));const V=qs(p.background.default,.8);L(p.SnackbarContent,"bg",V),L(p.SnackbarContent,"color",Xe(()=>p.getContrastText(V))),L(p.SpeedDialAction,"fabHoverBg",qs(p.background.paper,.15)),L(p.StepConnector,"border",N("palette-grey-400")),L(p.StepContent,"border",N("palette-grey-400")),L(p.Switch,"defaultColor",N("palette-common-white")),L(p.Switch,"defaultDisabledColor",N("palette-grey-100")),L(p.Switch,"primaryDisabledColor",ot(p.primary.main,.62)),L(p.Switch,"secondaryDisabledColor",ot(p.secondary.main,.62)),L(p.Switch,"errorDisabledColor",ot(p.error.main,.62)),L(p.Switch,"infoDisabledColor",ot(p.info.main,.62)),L(p.Switch,"successDisabledColor",ot(p.success.main,.62)),L(p.Switch,"warningDisabledColor",ot(p.warning.main,.62)),L(p.TableCell,"border",ot(Hs(p.divider,1),.88)),L(p.Tooltip,"bg",Hs(p.grey[700],.92))}if(p.mode==="dark"){L(p.Alert,"errorColor",ot(p.error.light,.6)),L(p.Alert,"infoColor",ot(p.info.light,.6)),L(p.Alert,"successColor",ot(p.success.light,.6)),L(p.Alert,"warningColor",ot(p.warning.light,.6)),L(p.Alert,"errorFilledBg",N("palette-error-dark")),L(p.Alert,"infoFilledBg",N("palette-info-dark")),L(p.Alert,"successFilledBg",N("palette-success-dark")),L(p.Alert,"warningFilledBg",N("palette-warning-dark")),L(p.Alert,"errorFilledColor",Xe(()=>p.getContrastText(p.error.dark))),L(p.Alert,"infoFilledColor",Xe(()=>p.getContrastText(p.info.dark))),L(p.Alert,"successFilledColor",Xe(()=>p.getContrastText(p.success.dark))),L(p.Alert,"warningFilledColor",Xe(()=>p.getContrastText(p.warning.dark))),L(p.Alert,"errorStandardBg",it(p.error.light,.9)),L(p.Alert,"infoStandardBg",it(p.info.light,.9)),L(p.Alert,"successStandardBg",it(p.success.light,.9)),L(p.Alert,"warningStandardBg",it(p.warning.light,.9)),L(p.Alert,"errorIconColor",N("palette-error-main")),L(p.Alert,"infoIconColor",N("palette-info-main")),L(p.Alert,"successIconColor",N("palette-success-main")),L(p.Alert,"warningIconColor",N("palette-warning-main")),L(p.AppBar,"defaultBg",N("palette-grey-900")),L(p.AppBar,"darkBg",N("palette-background-paper")),L(p.AppBar,"darkColor",N("palette-text-primary")),L(p.Avatar,"defaultBg",N("palette-grey-600")),L(p.Button,"inheritContainedBg",N("palette-grey-800")),L(p.Button,"inheritContainedHoverBg",N("palette-grey-700")),L(p.Chip,"defaultBorder",N("palette-grey-700")),L(p.Chip,"defaultAvatarColor",N("palette-grey-300")),L(p.Chip,"defaultIconColor",N("palette-grey-300")),L(p.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),L(p.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),L(p.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),L(p.LinearProgress,"primaryBg",it(p.primary.main,.5)),L(p.LinearProgress,"secondaryBg",it(p.secondary.main,.5)),L(p.LinearProgress,"errorBg",it(p.error.main,.5)),L(p.LinearProgress,"infoBg",it(p.info.main,.5)),L(p.LinearProgress,"successBg",it(p.success.main,.5)),L(p.LinearProgress,"warningBg",it(p.warning.main,.5)),L(p.Skeleton,"bg",`rgba(${N("palette-text-primaryChannel")} / 0.13)`),L(p.Slider,"primaryTrack",it(p.primary.main,.5)),L(p.Slider,"secondaryTrack",it(p.secondary.main,.5)),L(p.Slider,"errorTrack",it(p.error.main,.5)),L(p.Slider,"infoTrack",it(p.info.main,.5)),L(p.Slider,"successTrack",it(p.success.main,.5)),L(p.Slider,"warningTrack",it(p.warning.main,.5));const V=qs(p.background.default,.98);L(p.SnackbarContent,"bg",V),L(p.SnackbarContent,"color",Xe(()=>p.getContrastText(V))),L(p.SpeedDialAction,"fabHoverBg",qs(p.background.paper,.15)),L(p.StepConnector,"border",N("palette-grey-600")),L(p.StepContent,"border",N("palette-grey-600")),L(p.Switch,"defaultColor",N("palette-grey-300")),L(p.Switch,"defaultDisabledColor",N("palette-grey-600")),L(p.Switch,"primaryDisabledColor",it(p.primary.main,.55)),L(p.Switch,"secondaryDisabledColor",it(p.secondary.main,.55)),L(p.Switch,"errorDisabledColor",it(p.error.main,.55)),L(p.Switch,"infoDisabledColor",it(p.info.main,.55)),L(p.Switch,"successDisabledColor",it(p.success.main,.55)),L(p.Switch,"warningDisabledColor",it(p.warning.main,.55)),L(p.TableCell,"border",it(Hs(p.divider,1),.68)),L(p.Tooltip,"bg",Hs(p.grey[700],.92))}hn(p.background,"default"),hn(p.background,"paper"),hn(p.common,"background"),hn(p.common,"onBackground"),hn(p,"divider"),Object.keys(p).forEach(V=>{const q=p[V];q&&typeof q=="object"&&(q.main&&L(p[V],"mainChannel",co(ho(q.main))),q.light&&L(p[V],"lightChannel",co(ho(q.light))),q.dark&&L(p[V],"darkChannel",co(ho(q.dark))),q.contrastText&&L(p[V],"contrastTextChannel",co(ho(q.contrastText))),V==="text"&&(hn(p[V],"primary"),hn(p[V],"secondary")),V==="action"&&(q.active&&hn(p[V],"active"),q.selected&&hn(p[V],"selected")))})}),k=t.reduce((H,p)=>Ae(H,p),k);const D={prefix:a,disableCssColorScheme:o,shouldSkipGeneratingVar:u,getSelector:sw(k)},{vars:O,generateThemeVars:I,generateStyleSheets:F}=Ok(k,D);return k.vars=O,Object.entries(k.colorSchemes[k.defaultColorScheme]).forEach(([H,p])=>{k[H]=p}),k.generateThemeVars=I,k.generateStyleSheets=F,k.generateSpacing=function(){return L0(m.spacing,bh(this))},k.getColorSchemeSelector=Bk(d),k.spacing=k.generateSpacing(),k.shouldSkipGeneratingVar=u,k.unstable_sxConfig={...ls,...m==null?void 0:m.unstable_sxConfig},k.unstable_sx=function(p){return Lr({sx:p,theme:this})},k.toRuntimeSource=_0,k}function Em(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:wh({...n===!0?{}:n.palette,mode:t})})}function Eh(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:o=n?void 0:{light:!0},defaultColorScheme:a=n==null?void 0:n.mode,...u}=e,d=a||"light",f=o==null?void 0:o[d],m={...o,...n?{[d]:{...typeof f!="boolean"&&f,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return od(e,...t);let b=n;"palette"in e||m[d]&&(m[d]!==!0?b=m[d].palette:d==="dark"&&(b={mode:"dark"}));const v=od({...e,palette:b},...t);return v.defaultColorScheme=d,v.colorSchemes=m,v.palette.mode==="light"&&(v.colorSchemes.light={...m.light!==!0&&m.light,palette:v.palette},Em(v,"dark",m.dark)),v.palette.mode==="dark"&&(v.colorSchemes.dark={...m.dark!==!0&&m.dark,palette:v.palette},Em(v,"light",m.light)),v}return!n&&!("light"in m)&&d==="light"&&(m.light=!0),cw({...u,colorSchemes:m,defaultColorScheme:d,...typeof r!="boolean"&&r},...t)}const $0=Eh();function dw(){const e=D0($0);return e[fh]||e}function hw(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const fw=e=>hw(e)&&e!=="classes",gw=mk({themeId:fh,defaultTheme:$0,rootShouldForwardProp:fw}),mw=Lk;function pw(e){return Tk(e)}function vw(e){return B0("MuiPaper",e)}F0("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const yw=e=>{const{square:t,elevation:n,variant:r,classes:o}=e,a={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return wk(a,vw,o)},bw=gw("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(mw(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Rm=mt.forwardRef(function(t,n){var T;const r=pw({props:t,name:"MuiPaper"}),o=dw(),{className:a,component:u="div",elevation:d=1,square:f=!1,variant:m="elevation",...b}=r,v={...r,component:u,elevation:d,square:f,variant:m},x=yw(v);return me.jsx(bw,{as:u,ownerState:v,className:O0(x.root,a),ref:n,...b,style:{...m==="elevation"&&{"--Paper-shadow":(o.vars||o).shadows[d],...o.vars&&{"--Paper-overlay":(T=o.vars.overlays)==null?void 0:T[d]},...!o.vars&&o.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${id("#fff",sd(d))}, ${id("#fff",sd(d))})`}},...b.style}})}),Aw=F0("MuiBox",["root"]),xw=Eh(),Cw=ck({themeId:fh,defaultTheme:xw,defaultClassName:Aw.root,generateClassName:P0.generate});var Sw="2.1.8";const xr="[data-trix-attachment]",Rh={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},Zt={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(e){return Tm(e.parentNode)===Zt[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(e){return Tm(e.parentNode)===Zt[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},Tm=e=>{var t;return e==null||(t=e.tagName)===null||t===void 0?void 0:t.toLowerCase()},Lm=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),Wu=Lm&&parseInt(Lm[1]);var us={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:Wu&&Wu>12,samsungAndroid:Wu&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(e=>e in InputEvent.prototype)},$={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption…",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL…",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const kw=[$.bytes,$.KB,$.MB,$.GB,$.TB,$.PB];var H0={prefix:"IEC",precision:2,formatter(e){switch(e){case 0:return"0 ".concat($.bytes);case 1:return"1 ".concat($.byte);default:let t;this.prefix==="SI"?t=1e3:this.prefix==="IEC"&&(t=1024);const n=Math.floor(Math.log(e)/Math.log(t)),r=(e/Math.pow(t,n)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(r," ").concat(kw[n])}}};const bl="\uFEFF",jn=" ",q0=function(e){for(const t in e){const n=e[t];this[t]=n}return this},Th=document.documentElement,ww=Th.matches,yt=function(e){let{onElement:t,matchingSelector:n,withCallback:r,inPhase:o,preventDefault:a,times:u}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const d=t||Th,f=n,m=o==="capturing",b=function(v){u!=null&&--u==0&&b.destroy();const x=Yn(v.target,{matchingSelector:f});x!=null&&(r==null||r.call(x,v,x),a&&v.preventDefault())};return b.destroy=()=>d.removeEventListener(e,b,m),d.addEventListener(e,b,m),b},ko=function(e){let{onElement:t,bubbles:n,cancelable:r,attributes:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=t??Th;n=n!==!1,r=r!==!1;const u=document.createEvent("Events");return u.initEvent(e,n,r),o!=null&&q0.call(u,o),a.dispatchEvent(u)},K0=function(e,t){if((e==null?void 0:e.nodeType)===1)return ww.call(e,t)},Yn=function(e){let{matchingSelector:t,untilNode:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.parentNode;if(e!=null){if(t==null)return e;if(e.closest&&n==null)return e.closest(t);for(;e&&e!==n;){if(K0(e,t))return e;e=e.parentNode}}},Lh=e=>document.activeElement!==e&&yr(e,document.activeElement),yr=function(e,t){if(e&&t)for(;t;){if(t===e)return!0;t=t.parentNode}},_u=function(e){var t;if((t=e)===null||t===void 0||!t.parentNode)return;let n=0;for(e=e.previousSibling;e;)n++,e=e.previousSibling;return n},Zn=e=>{var t;return e==null||(t=e.parentNode)===null||t===void 0?void 0:t.removeChild(e)},Va=function(e){let{onlyNodesOfType:t,usingFilter:n,expandEntityReferences:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=(()=>{switch(t){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(e,o,n??null,r===!0)},Yt=e=>{var t;return e==null||(t=e.tagName)===null||t===void 0?void 0:t.toLowerCase()},J=function(e){let t,n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="object"?(r=e,e=r.tagName):r={attributes:r};const o=document.createElement(e);if(r.editable!=null&&(r.attributes==null&&(r.attributes={}),r.attributes.contenteditable=r.editable),r.attributes)for(t in r.attributes)n=r.attributes[t],o.setAttribute(t,n);if(r.style)for(t in r.style)n=r.style[t],o.style[t]=n;if(r.data)for(t in r.data)n=r.data[t],o.dataset[t]=n;return r.className&&r.className.split(" ").forEach(a=>{o.classList.add(a)}),r.textContent&&(o.textContent=r.textContent),r.childNodes&&[].concat(r.childNodes).forEach(a=>{o.appendChild(a)}),o};let ro;const wo=function(){if(ro!=null)return ro;ro=[];for(const e in Zt){const t=Zt[e];t.tagName&&ro.push(t.tagName)}return ro},Vu=e=>bi(e==null?void 0:e.firstChild),Dm=function(e){let{strict:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return t?bi(e):bi(e)||!bi(e.firstChild)&&function(n){return wo().includes(Yt(n))&&!wo().includes(Yt(n.firstChild))}(e)},bi=e=>Ew(e)&&(e==null?void 0:e.data)==="block",Ew=e=>(e==null?void 0:e.nodeType)===Node.COMMENT_NODE,Ai=function(e){let{name:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e)return Eo(e)?e.data===bl?!t||e.parentNode.dataset.trixCursorTarget===t:void 0:Ai(e.firstChild)},Cr=e=>K0(e,xr),J0=e=>Eo(e)&&(e==null?void 0:e.data)==="",Eo=e=>(e==null?void 0:e.nodeType)===Node.TEXT_NODE,Dh={level2Enabled:!0,getLevel(){return this.level2Enabled&&us.supportsInputEvents?2:0},pickFiles(e){const t=J("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});t.addEventListener("change",()=>{e(t.files),Zn(t)}),Zn(document.getElementById(this.fileInputId)),document.body.appendChild(t),t.click()}};var ha={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},Dr={bold:{tagName:"strong",inheritable:!0,parser(e){const t=window.getComputedStyle(e);return t.fontWeight==="bold"||t.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:e=>window.getComputedStyle(e).fontStyle==="italic"},href:{groupTagName:"a",parser(e){const t="a:not(".concat(xr,")"),n=e.closest(t);if(n)return n.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},G0={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat($.bold,'" tabindex="-1">').concat($.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat($.italic,'" tabindex="-1">').concat($.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat($.strike,'" tabindex="-1">').concat($.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat($.link,'" tabindex="-1">').concat($.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat($.heading1,'" tabindex="-1">').concat($.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat($.quote,'" tabindex="-1">').concat($.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat($.code,'" tabindex="-1">').concat($.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat($.bullets,'" tabindex="-1">').concat($.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat($.numbers,'" tabindex="-1">').concat($.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat($.outdent,'" tabindex="-1">').concat($.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat($.indent,'" tabindex="-1">').concat($.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat($.attachFiles,'" tabindex="-1">').concat($.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat($.undo,'" tabindex="-1">').concat($.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat($.redo,'" tabindex="-1">').concat($.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat($.urlPlaceholder,'" aria-label="').concat($.url,`" required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat($.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat($.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const ad={interval:5e3};var cs=Object.freeze({__proto__:null,attachments:Rh,blockAttributes:Zt,browser:us,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},fileSize:H0,input:Dh,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:$,parser:ha,textAttributes:Dr,toolbar:G0,undo:ad});class Bt{static proxyMethod(t){const{name:n,toMethod:r,toProperty:o,optional:a}=Rw(t);this.prototype[n]=function(){let u,d;var f,m;return r?d=a?(f=this[r])===null||f===void 0?void 0:f.call(this):this[r]():o&&(d=this[o]),a?(u=(m=d)===null||m===void 0?void 0:m[n],u?Pm.call(u,d,arguments):void 0):(u=d[n],Pm.call(u,d,arguments))}}}const Rw=function(e){const t=e.match(Tw);if(!t)throw new Error("can't parse @proxyMethod expression: ".concat(e));const n={name:t[4]};return t[2]!=null?n.toMethod=t[1]:n.toProperty=t[1],t[3]!=null&&(n.optional=!0),n},{apply:Pm}=Function.prototype,Tw=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var Uu,$u,Hu;class Yo extends Bt{static box(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t instanceof this?t:this.fromUCS2String(t==null?void 0:t.toString())}static fromUCS2String(t){return new this(t,ld(t))}static fromCodepoints(t){return new this(ud(t),t)}constructor(t,n){super(...arguments),this.ucs2String=t,this.codepoints=n,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(t){return ud(this.codepoints.slice(0,Math.max(0,t))).length}offsetFromUCS2Offset(t){return ld(this.ucs2String.slice(0,Math.max(0,t))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(t){return this.slice(t,t+1)}isEqualTo(t){return this.constructor.box(t).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const Lw=((Uu=Array.from)===null||Uu===void 0?void 0:Uu.call(Array,"👼").length)===1,Dw=(($u=" ".codePointAt)===null||$u===void 0?void 0:$u.call(" ",0))!=null,Pw=((Hu=String.fromCodePoint)===null||Hu===void 0?void 0:Hu.call(String,32,128124))===" 👼";let ld,ud;ld=Lw&&Dw?e=>Array.from(e).map(t=>t.codePointAt(0)):function(e){const t=[];let n=0;const{length:r}=e;for(;n<r;){let o=e.charCodeAt(n++);if(55296<=o&&o<=56319&&n<r){const a=e.charCodeAt(n++);(64512&a)==56320?o=((1023&o)<<10)+(1023&a)+65536:n--}t.push(o)}return t},ud=Pw?e=>String.fromCodePoint(...Array.from(e||[])):function(e){return(()=>{const t=[];return Array.from(e).forEach(n=>{let r="";n>65535&&(n-=65536,r+=String.fromCharCode(n>>>10&1023|55296),n=56320|1023&n),t.push(r+String.fromCharCode(n))}),t})().join("")};let Iw=0;class Fr extends Bt{static fromJSONString(t){return this.fromJSON(JSON.parse(t))}constructor(){super(...arguments),this.id=++Iw}hasSameConstructorAs(t){return this.constructor===(t==null?void 0:t.constructor)}isEqualTo(t){return this===t}inspect(){const t=[],n=this.contentsForInspection()||{};for(const r in n){const o=n[r];t.push("".concat(r,"=").concat(o))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(t.length?" ".concat(t.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return Yo.box(this)}getCacheKey(){return this.id.toString()}}const Pr=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Ph=function(e){const t=e.slice(0);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.splice(...r),t},Ow=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,Bw=function(){const e=J("input",{dir:"auto",name:"x",dirName:"x.dir"}),t=J("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),n=J("form");n.appendChild(e),n.appendChild(t);const r=function(){try{return new FormData(n).has(t.dirName)}catch{return!1}}(),o=function(){try{return e.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return r?function(a){return t.value=a,new FormData(n).get(t.dirName)}:o?function(a){return e.value=a,e.matches(":dir(rtl)")?"rtl":"ltr"}:function(a){const u=a.trim().charAt(0);return Ow.test(u)?"rtl":"ltr"}}();let qu=null,Ku=null,Ju=null,Ks=null;const cd=()=>(qu||(qu=Nw().concat(Fw())),qu),Rt=e=>Zt[e],Fw=()=>(Ku||(Ku=Object.keys(Zt)),Ku),dd=e=>Dr[e],Nw=()=>(Ju||(Ju=Object.keys(Dr)),Ju),Q0=function(e,t){Mw(e).textContent=t.replace(/%t/g,e)},Mw=function(e){const t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("data-tag-name",e.toLowerCase());const n=jw();return n&&t.setAttribute("nonce",n),document.head.insertBefore(t,document.head.firstChild),t},jw=function(){const e=Im("trix-csp-nonce")||Im("csp-nonce");if(e){const{nonce:t,content:n}=e;return t==""?n:t}},Im=e=>document.head.querySelector("meta[name=".concat(e,"]")),Om={"application/x-trix-feature-detection":"test"},X0=function(e){const t=e.getData("text/plain"),n=e.getData("text/html");if(!t||!n)return t==null?void 0:t.length;{const{body:r}=new DOMParser().parseFromString(n,"text/html");if(r.textContent===t)return!r.querySelector("*")}},Y0=/Mac|^iP/.test(navigator.platform)?e=>e.metaKey:e=>e.ctrlKey,Ih=e=>setTimeout(e,1),Z0=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={};for(const n in e){const r=e[n];t[n]=r}return t},Bi=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0},et=function(e){if(e!=null)return Array.isArray(e)||(e=[e,e]),[Bm(e[0]),Bm(e[1]!=null?e[1]:e[0])]},bn=function(e){if(e==null)return;const[t,n]=et(e);return hd(t,n)},Ua=function(e,t){if(e==null||t==null)return;const[n,r]=et(e),[o,a]=et(t);return hd(n,o)&&hd(r,a)},Bm=function(e){return typeof e=="number"?e:Z0(e)},hd=function(e,t){return typeof e=="number"?e===t:Bi(e,t)};class ty extends Bt{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(t){if(!this.selectionManagers.includes(t))return this.selectionManagers.push(t),this.start()}unregisterSelectionManager(t){if(this.selectionManagers=this.selectionManagers.filter(n=>n!==t),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(t=>t.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const Ir=new ty,ey=function(){const e=window.getSelection();if(e.rangeCount>0)return e},Ro=function(){var e;const t=(e=ey())===null||e===void 0?void 0:e.getRangeAt(0);if(t&&!zw(t))return t},ny=function(e){const t=window.getSelection();return t.removeAllRanges(),t.addRange(e),Ir.update()},zw=e=>Fm(e.startContainer)||Fm(e.endContainer),Fm=e=>!Object.getPrototypeOf(e),fo=e=>e.replace(new RegExp("".concat(bl),"g"),"").replace(new RegExp("".concat(jn),"g")," "),Oh=new RegExp("[^\\S".concat(jn,"]")),Bh=e=>e.replace(new RegExp("".concat(Oh.source),"g")," ").replace(/\ {2,}/g," "),Nm=function(e,t){if(e.isEqualTo(t))return["",""];const n=Gu(e,t),{length:r}=n.utf16String;let o;if(r){const{offset:a}=n,u=e.codepoints.slice(0,a).concat(e.codepoints.slice(a+r));o=Gu(t,Yo.fromCodepoints(u))}else o=Gu(t,e);return[n.utf16String.toString(),o.utf16String.toString()]},Gu=function(e,t){let n=0,r=e.length,o=t.length;for(;n<r&&e.charAt(n).isEqualTo(t.charAt(n));)n++;for(;r>n+1&&e.charAt(r-1).isEqualTo(t.charAt(o-1));)r--,o--;return{utf16String:e.slice(n,r),offset:n}};class xe extends Fr{static fromCommonAttributesOfObjects(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!t.length)return new this;let n=io(t[0]),r=n.getKeys();return t.slice(1).forEach(o=>{r=n.getKeysCommonToHash(io(o)),n=n.slice(r)}),n}static box(t){return io(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=fa(t)}add(t,n){return this.merge(Ww(t,n))}remove(t){return new xe(fa(this.values,t))}get(t){return this.values[t]}has(t){return t in this.values}merge(t){return new xe(_w(this.values,Vw(t)))}slice(t){const n={};return Array.from(t).forEach(r=>{this.has(r)&&(n[r]=this.values[r])}),new xe(n)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(t){return t=io(t),this.getKeys().filter(n=>this.values[n]===t.values[n])}isEqualTo(t){return Pr(this.toArray(),io(t).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const t=[];for(const n in this.values){const r=this.values[n];t.push(t.push(n,r))}this.array=t.slice(0)}return this.array}toObject(){return fa(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const Ww=function(e,t){const n={};return n[e]=t,n},_w=function(e,t){const n=fa(e);for(const r in t){const o=t[r];n[r]=o}return n},fa=function(e,t){const n={};return Object.keys(e).sort().forEach(r=>{r!==t&&(n[r]=e[r])}),n},io=function(e){return e instanceof xe?e:new xe(e)},Vw=function(e){return e instanceof xe?e.values:e};class Fh{static groupObjects(){let t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:r,asTree:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o&&r==null&&(r=0);const a=[];return Array.from(n).forEach(u=>{var d;if(t){var f,m,b;if((f=u.canBeGrouped)!==null&&f!==void 0&&f.call(u,r)&&(m=(b=t[t.length-1]).canBeGroupedWith)!==null&&m!==void 0&&m.call(b,u,r))return void t.push(u);a.push(new this(t,{depth:r,asTree:o})),t=null}(d=u.canBeGrouped)!==null&&d!==void 0&&d.call(u,r)?t=[u]:a.push(u)}),t&&a.push(new this(t,{depth:r,asTree:o})),a}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:n,asTree:r}=arguments.length>1?arguments[1]:void 0;this.objects=t,r&&(this.depth=n,this.objects=this.constructor.groupObjects(this.objects,{asTree:r,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const t=["objectGroup"];return Array.from(this.getObjects()).forEach(n=>{t.push(n.getCacheKey())}),t.join("/")}}class Uw extends Bt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(t).forEach(n=>{const r=JSON.stringify(n);this.objects[r]==null&&(this.objects[r]=n)})}find(t){const n=JSON.stringify(t);return this.objects[n]}}class $w{constructor(t){this.reset(t)}add(t){const n=Mm(t);this.elements[n]=t}remove(t){const n=Mm(t),r=this.elements[n];if(r)return delete this.elements[n],r}reset(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(t).forEach(n=>{this.add(n)}),t}}const Mm=e=>e.dataset.trixStoreKey;class $a extends Bt{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((t,n)=>(this.performing=!0,this.perform((r,o)=>{this.succeeded=r,this.performing=!1,this.performed=!0,this.succeeded?t(o):n(o)})))),this.promise}perform(t){return t(!1)}release(){var t,n;(t=this.promise)===null||t===void 0||(n=t.cancel)===null||n===void 0||n.call(t),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}$a.proxyMethod("getPromise().then"),$a.proxyMethod("getPromise().catch");class Nr extends Bt{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=t,this.options=n,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(t=>t.cloneNode(!0))}invalidate(){var t;return this.nodes=null,this.childViews=[],(t=this.parentView)===null||t===void 0?void 0:t.invalidate()}invalidateViewForObject(t){var n;return(n=this.findViewForObject(t))===null||n===void 0?void 0:n.invalidate()}findOrCreateCachedChildView(t,n,r){let o=this.getCachedViewForObject(n);return o?this.recordChildView(o):(o=this.createChildView(...arguments),this.cacheViewForObject(o,n)),o}createChildView(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n instanceof Fh&&(r.viewClass=t,t=Hw);const o=new t(n,r);return this.recordChildView(o)}recordChildView(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t}getAllChildViews(){let t=[];return this.childViews.forEach(n=>{t.push(n),t=t.concat(n.getAllChildViews())}),t}findElement(){return this.findElementForObject(this.object)}findElementForObject(t){const n=t==null?void 0:t.id;if(n)return this.rootView.element.querySelector("[data-trix-id='".concat(n,"']"))}findViewForObject(t){for(const n of this.getAllChildViews())if(n.object===t)return n}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(t){var n;return(n=this.getViewCache())===null||n===void 0?void 0:n[t.getCacheKey()]}cacheViewForObject(t,n){const r=this.getViewCache();r&&(r[n.getCacheKey()]=t)}garbageCollectCachedViews(){const t=this.getViewCache();if(t){const n=this.getAllChildViews().concat(this).map(r=>r.object.getCacheKey());for(const r in t)n.includes(r)||delete t[r]}}}class Hw extends Nr{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(t=>{this.findOrCreateCachedChildView(this.viewClass,t,this.options)}),this.childViews}createNodes(){const t=this.createContainerElement();return this.getChildViews().forEach(n=>{Array.from(n.getNodes()).forEach(r=>{t.appendChild(r)})}),[t]}createContainerElement(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(t)}}const qw="style href src width height language class".split(" "),Kw="javascript:".split(" "),Jw="script iframe form noscript".split(" ");class Al extends Bt{static setHTML(t,n){const r=new this(n).sanitize(),o=r.getHTML?r.getHTML():r.outerHTML;t.innerHTML=o}static sanitize(t,n){const r=new this(t,n);return r.sanitize(),r}constructor(t){let{allowedAttributes:n,forbiddenProtocols:r,forbiddenElements:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=n||qw,this.forbiddenProtocols=r||Kw,this.forbiddenElements=o||Jw,this.body=Gw(t)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting()}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const t=Va(this.body),n=[];for(;t.nextNode();){const r=t.currentNode;switch(r.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(r)?n.push(r):this.sanitizeElement(r);break;case Node.COMMENT_NODE:n.push(r)}}return n.forEach(r=>Zn(r)),this.body}sanitizeElement(t){return t.hasAttribute("href")&&this.forbiddenProtocols.includes(t.protocol)&&t.removeAttribute("href"),Array.from(t.attributes).forEach(n=>{let{name:r}=n;this.allowedAttributes.includes(r)||r.indexOf("data-trix")===0||t.removeAttribute(r)}),t}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(t=>{const n=t.previousElementSibling;n&&Yt(n)==="li"&&n.appendChild(t)}),this.body}elementIsRemovable(t){if((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(t)||this.elementIsntSerializable(t)}elementIsForbidden(t){return this.forbiddenElements.includes(Yt(t))}elementIsntSerializable(t){return t.getAttribute("data-trix-serialize")==="false"&&!Cr(t)}}const Gw=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";e=e.replace(/<\/html[^>]*>[^]*$/i,"</html>");const t=document.implementation.createHTMLDocument("");return t.documentElement.innerHTML=e,Array.from(t.head.querySelectorAll("style")).forEach(n=>{t.body.appendChild(n)}),t.body},{css:Pn}=cs;class Nh extends Nr{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let t;const n=t=J({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),r=this.getHref();return r&&(t=J({tagName:"a",editable:!1,attributes:{href:r,tabindex:-1}}),n.appendChild(t)),this.attachment.hasContent()?Al.setHTML(t,this.attachment.getContent()):this.createContentNodes().forEach(o=>{t.appendChild(o)}),t.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=J({tagName:"progress",attributes:{class:Pn.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),n.appendChild(this.progressElement)),[jm("left"),n,jm("right")]}createCaptionElement(){const t=J({tagName:"figcaption",className:Pn.attachmentCaption}),n=this.attachmentPiece.getCaption();if(n)t.classList.add("".concat(Pn.attachmentCaption,"--edited")),t.textContent=n;else{let r,o;const a=this.getCaptionConfig();if(a.name&&(r=this.attachment.getFilename()),a.size&&(o=this.attachment.getFormattedFilesize()),r){const u=J({tagName:"span",className:Pn.attachmentName,textContent:r});t.appendChild(u)}if(o){r&&t.appendChild(document.createTextNode(" "));const u=J({tagName:"span",className:Pn.attachmentSize,textContent:o});t.appendChild(u)}}return t}getClassName(){const t=[Pn.attachment,"".concat(Pn.attachment,"--").concat(this.attachment.getType())],n=this.attachment.getExtension();return n&&t.push("".concat(Pn.attachment,"--").concat(n)),t.join(" ")}getData(){const t={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:n}=this.attachmentPiece;return n.isEmpty()||(t.trixAttributes=JSON.stringify(n)),this.attachment.isPending()&&(t.trixSerialize=!1),t}getHref(){if(!Qw(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var t;const n=this.attachment.getType(),r=Z0((t=Rh[n])===null||t===void 0?void 0:t.caption);return n==="file"&&(r.name=!0),r}findProgressElement(){var t;return(t=this.findElement())===null||t===void 0?void 0:t.querySelector("progress")}attachmentDidChangeUploadProgress(){const t=this.attachment.getUploadProgress(),n=this.findProgressElement();n&&(n.value=t)}}const jm=e=>J({tagName:"span",textContent:bl,data:{trixCursorTarget:e,trixSerialize:!1}}),Qw=function(e,t){const n=J("div");return Al.setHTML(n,e||""),n.querySelector(t)};class ry extends Nh{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=J({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const t=super.createCaptionElement(...arguments);return t.textContent||t.setAttribute("data-trix-placeholder",$.captionPlaceholder),t}refresh(t){var n;if(t||(t=(n=this.findElement())===null||n===void 0?void 0:n.querySelector("img")),t)return this.updateAttributesForImage(t)}updateAttributesForImage(t){const n=this.attachment.getURL(),r=this.attachment.getPreviewURL();if(t.src=r||n,r===n)t.removeAttribute("data-trix-serialized-attributes");else{const d=JSON.stringify({src:n});t.setAttribute("data-trix-serialized-attributes",d)}const o=this.attachment.getWidth(),a=this.attachment.getHeight();o!=null&&(t.width=o),a!=null&&(t.height=a);const u=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/");t.dataset.trixStoreKey=u}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class iy extends Nr{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let t=this.attachment?this.createAttachmentNodes():this.createStringNodes();const n=this.createElement();if(n){const r=function(o){for(;(a=o)!==null&&a!==void 0&&a.firstElementChild;){var a;o=o.firstElementChild}return o}(n);Array.from(t).forEach(o=>{r.appendChild(o)}),t=[n]}return t}createAttachmentNodes(){const t=this.attachment.isPreviewable()?ry:Nh;return this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var t;if((t=this.textConfig)!==null&&t!==void 0&&t.plaintext)return[document.createTextNode(this.string)];{const n=[],r=this.string.split(`
`);for(let o=0;o<r.length;o++){const a=r[o];if(o>0){const u=J("br");n.push(u)}if(a.length){const u=document.createTextNode(this.preserveSpaces(a));n.push(u)}}return n}}createElement(){let t,n,r;const o={};for(n in this.attributes){r=this.attributes[n];const u=dd(n);if(u){if(u.tagName){var a;const d=J(u.tagName);a?(a.appendChild(d),a=d):t=a=d}if(u.styleProperty&&(o[u.styleProperty]=r),u.style)for(n in u.style)r=u.style[n],o[n]=r}}if(Object.keys(o).length)for(n in t||(t=J("span")),o)r=o[n],t.style[n]=r;return t}createContainerElement(){for(const t in this.attributes){const n=this.attributes[t],r=dd(t);if(r&&r.groupTagName){const o={};return o[t]=n,J(r.groupTagName,o)}}}preserveSpaces(t){return this.context.isLast&&(t=t.replace(/\ $/,jn)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(jn," $2")).replace(/\ {2}/g,"".concat(jn," ")).replace(/\ {2}/g," ".concat(jn)),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,jn)),t}}class oy extends Nr{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const t=[],n=Fh.groupObjects(this.getPieces()),r=n.length-1;for(let a=0;a<n.length;a++){const u=n[a],d={};a===0&&(d.isFirst=!0),a===r&&(d.isLast=!0),Xw(o)&&(d.followsWhitespace=!0);const f=this.findOrCreateCachedChildView(iy,u,{textConfig:this.textConfig,context:d});t.push(...Array.from(f.getNodes()||[]));var o=u}return t}getPieces(){return Array.from(this.text.getPieces()).filter(t=>!t.hasAttribute("blockBreak"))}}const Xw=e=>/\s$/.test(e==null?void 0:e.toString()),{css:zm}=cs;class sy extends Nr{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const t=[document.createComment("block")];if(this.block.isEmpty())t.push(J("br"));else{var n;const r=(n=Rt(this.block.getLastAttribute()))===null||n===void 0?void 0:n.text,o=this.findOrCreateCachedChildView(oy,this.block.text,{textConfig:r});t.push(...Array.from(o.getNodes()||[])),this.shouldAddExtraNewlineElement()&&t.push(J("br"))}if(this.attributes.length)return t;{let r;const{tagName:o}=Zt.default;this.block.isRTL()&&(r={dir:"rtl"});const a=J({tagName:o,attributes:r});return t.forEach(u=>a.appendChild(u)),[a]}}createContainerElement(t){const n={};let r;const o=this.attributes[t],{tagName:a,htmlAttributes:u=[]}=Rt(o);if(t===0&&this.block.isRTL()&&Object.assign(n,{dir:"rtl"}),o==="attachmentGallery"){const d=this.block.getBlockBreakPosition();r="".concat(zm.attachmentGallery," ").concat(zm.attachmentGallery,"--").concat(d)}return Object.entries(this.block.htmlAttributes).forEach(d=>{let[f,m]=d;u.includes(f)&&(n[f]=m)}),J({tagName:a,className:r,attributes:n})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class xl extends Nr{static render(t){const n=J("div"),r=new this(t,{element:n});return r.render(),r.sync(),n}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new $w,this.setDocument(this.object)}setDocument(t){t.isEqualTo(this.document)||(this.document=this.object=t)}render(){if(this.childViews=[],this.shadowElement=J("div"),!this.document.isEmpty()){const t=Fh.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(t).forEach(n=>{const r=this.findOrCreateCachedChildView(sy,n);Array.from(r.getNodes()).map(o=>this.shadowElement.appendChild(o))})}}isSynced(){return Yw(this.shadowElement,this.element)}sync(){const t=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()}didSync(){return this.elementStore.reset(Wm(this.element)),Ih(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const t=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(n=>{t.appendChild(n.cloneNode(!0))}),Array.from(Wm(t)).forEach(n=>{const r=this.elementStore.remove(n);r&&n.parentNode.replaceChild(r,n)}),t}}const Wm=e=>e.querySelectorAll("[data-trix-store-key]"),Yw=(e,t)=>_m(e.innerHTML)===_m(t.innerHTML),_m=e=>e.replace(/&nbsp;/g," ");function de(e,t,n){return(t=Zw(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zw(e){var t=function(n,r){if(typeof n!="object"||n===null)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var a=o.call(n,r||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return typeof t=="symbol"?t:String(t)}function at(e,t){return tE(e,ay(e,t,"get"))}function Mh(e,t,n){return eE(e,ay(e,t,"set"),n),n}function ay(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function tE(e,t){return t.get?t.get.call(e):t.value}function eE(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function Js(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function ly(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function To(e,t,n){ly(e,t),t.set(e,n)}class Mr extends Fr{static registerType(t,n){n.type=t,this.types[t]=n}static fromJSON(t){const n=this.types[t.type];if(n)return n.fromJSON(t)}constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=xe.box(n)}copyWithAttributes(t){return new this.constructor(this.getValue(),t)}copyWithAdditionalAttributes(t){return this.copyWithAttributes(this.attributes.merge(t))}copyWithoutAttribute(t){return this.copyWithAttributes(this.attributes.remove(t))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(t){return this.attributes.get(t)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(t){return this.attributes.has(t)}hasSameStringValueAsPiece(t){return t&&this.toString()===t.toString()}hasSameAttributesAsPiece(t){return t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))}isBlockBreak(){return!1}isEqualTo(t){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(t){return this.getAttribute("href")===t.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(t){return!1}}de(Mr,"types",{});class uy extends $a{constructor(t){super(...arguments),this.url=t}perform(t){const n=new Image;n.onload=()=>(n.width=this.width=n.naturalWidth,n.height=this.height=n.naturalHeight,t(!0,n)),n.onerror=()=>t(!1),n.src=this.url}}class Fi extends Fr{static attachmentForFile(t){const n=new this(this.attributesForFile(t));return n.setFile(t),n}static attributesForFile(t){return new xe({filename:t.name,filesize:t.size,contentType:t.type})}static fromJSON(t){return new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(t),this.releaseFile=this.releaseFile.bind(this),this.attributes=xe.box(t),this.didChangeAttributes()}getAttribute(t){return this.attributes.get(t)}hasAttribute(t){return this.attributes.has(t)}getAttributes(){return this.attributes.toObject()}setAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=this.attributes.merge(t);var r,o,a,u;if(!this.attributes.isEqualTo(n))return this.attributes=n,this.didChangeAttributes(),(r=this.previewDelegate)===null||r===void 0||(o=r.attachmentDidChangeAttributes)===null||o===void 0||o.call(r,this),(a=this.delegate)===null||a===void 0||(u=a.attachmentDidChangeAttributes)===null||u===void 0?void 0:u.call(a,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Fi.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const t=this.attributes.get("filesize");return typeof t=="number"?H0.formatter(t):""}getExtension(){var t;return(t=this.getFilename().match(/\.(\w+)$/))===null||t===void 0?void 0:t[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(t){if(this.file=t,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(t){var n,r;if(this.uploadProgress!==t)return this.uploadProgress=t,(n=this.uploadProgressDelegate)===null||n===void 0||(r=n.attachmentDidChangeUploadProgress)===null||r===void 0?void 0:r.call(n,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(t){var n,r,o,a;if(t!==this.getPreviewURL())return this.previewURL=t,(n=this.previewDelegate)===null||n===void 0||(r=n.attachmentDidChangeAttributes)===null||r===void 0||r.call(n,this),(o=this.delegate)===null||o===void 0||(a=o.attachmentDidChangePreviewURL)===null||a===void 0?void 0:a.call(o,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(t,n){if(t&&t!==this.getPreviewURL())return this.preloadingURL=t,new uy(t).then(r=>{let{width:o,height:a}=r;return this.getWidth()&&this.getHeight()||this.setAttributes({width:o,height:a}),this.preloadingURL=null,this.setPreviewURL(t),n==null?void 0:n()}).catch(()=>(this.preloadingURL=null,n==null?void 0:n()))}}de(Fi,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class Li extends Mr{static fromJSON(t){return new this(Fi.fromJSON(t.attachment),t.attributes)}constructor(t){super(...arguments),this.attachment=t,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(t){this.hasAttribute(t)&&(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice([t])),this.attributes=this.attributes.remove(t))}removeProhibitedAttributes(){const t=this.attributes.slice(Li.permittedAttributes);t.isEqualTo(this.attributes)||(this.attributes=t)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(t){var n;return super.isEqualTo(t)&&this.attachment.id===(t==null||(n=t.attachment)===null||n===void 0?void 0:n.id)}toString(){return"￼"}toJSON(){const t=super.toJSON(...arguments);return t.attachment=this.attachment,t}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}de(Li,"permittedAttributes",["caption","presentation"]),Mr.registerType("attachment",Li);class jh extends Mr{static fromJSON(t){return new this(t.string,t.attributes)}constructor(t){super(...arguments),this.string=(n=>n.replace(/\r\n?/g,`
`))(t),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const t=super.toJSON(...arguments);return t.string=this.string,t}canBeConsolidatedWith(t){return t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)}consolidateWith(t){return new this.constructor(this.toString()+t.toString(),this.attributes)}splitAtOffset(t){let n,r;return t===0?(n=null,r=this):t===this.length?(n=this,r=null):(n=new this.constructor(this.string.slice(0,t),this.attributes),r=new this.constructor(this.string.slice(t),this.attributes)),[n,r]}toConsole(){let{string:t}=this;return t.length>15&&(t=t.slice(0,14)+"…"),JSON.stringify(t.toString())}}Mr.registerType("string",jh);class Ha extends Fr{static box(t){return t instanceof this?t:new this(t)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=t.slice(0),this.length=this.objects.length}indexOf(t){return this.objects.indexOf(t)}splice(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new this.constructor(Ph(this.objects,...n))}eachObject(t){return this.objects.map((n,r)=>t(n,r))}insertObjectAtIndex(t,n){return this.splice(n,0,t)}insertSplittableListAtIndex(t,n){return this.splice(n,0,...t.objects)}insertSplittableListAtPosition(t,n){const[r,o]=this.splitObjectAtPosition(n);return new this.constructor(r).insertSplittableListAtIndex(t,o)}editObjectAtIndex(t,n){return this.replaceObjectAtIndex(n(this.objects[t]),t)}replaceObjectAtIndex(t,n){return this.splice(n,1,t)}removeObjectAtIndex(t){return this.splice(t,1)}getObjectAtIndex(t){return this.objects[t]}getSplittableListInRange(t){const[n,r,o]=this.splitObjectsAtRange(t);return new this.constructor(n.slice(r,o+1))}selectSplittableList(t){const n=this.objects.filter(r=>t(r));return new this.constructor(n)}removeObjectsInRange(t){const[n,r,o]=this.splitObjectsAtRange(t);return new this.constructor(n).splice(r,o-r+1)}transformObjectsInRange(t,n){const[r,o,a]=this.splitObjectsAtRange(t),u=r.map((d,f)=>o<=f&&f<=a?n(d):d);return new this.constructor(u)}splitObjectsAtRange(t){let n,[r,o,a]=this.splitObjectAtPosition(rE(t));return[r,n]=new this.constructor(r).splitObjectAtPosition(iE(t)+a),[r,o,n-1]}getObjectAtPosition(t){const{index:n}=this.findIndexAndOffsetAtPosition(t);return this.objects[n]}splitObjectAtPosition(t){let n,r;const{index:o,offset:a}=this.findIndexAndOffsetAtPosition(t),u=this.objects.slice(0);if(o!=null)if(a===0)n=o,r=0;else{const d=this.getObjectAtIndex(o),[f,m]=d.splitAtOffset(a);u.splice(o,1,f,m),n=o+1,r=f.getLength()-a}else n=u.length,r=0;return[u,n,r]}consolidate(){const t=[];let n=this.objects[0];return this.objects.slice(1).forEach(r=>{var o,a;(o=(a=n).canBeConsolidatedWith)!==null&&o!==void 0&&o.call(a,r)?n=n.consolidateWith(r):(t.push(n),n=r)}),n&&t.push(n),new this.constructor(t)}consolidateFromIndexToIndex(t,n){const r=this.objects.slice(0).slice(t,n+1),o=new this.constructor(r).consolidate().toArray();return this.splice(t,r.length,...o)}findIndexAndOffsetAtPosition(t){let n,r=0;for(n=0;n<this.objects.length;n++){const o=r+this.objects[n].getLength();if(r<=t&&t<o)return{index:n,offset:t-r};r=o}return{index:null,offset:null}}findPositionAtIndexAndOffset(t,n){let r=0;for(let o=0;o<this.objects.length;o++){const a=this.objects[o];if(o<t)r+=a.getLength();else if(o===t){r+=n;break}}return r}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(t=>this.endPosition+=t.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(t){return super.isEqualTo(...arguments)||nE(this.objects,t==null?void 0:t.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(t=>t.inspect()).join(", "),"]")}}}const nE=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(e.length!==t.length)return!1;let n=!0;for(let r=0;r<e.length;r++){const o=e[r];n&&!o.isEqualTo(t[r])&&(n=!1)}return n},rE=e=>e[0],iE=e=>e[1];class Ve extends Fr{static textForAttachmentWithAttributes(t,n){return new this([new Li(t,n)])}static textForStringWithAttributes(t,n){return new this([new jh(t,n)])}static fromJSON(t){return new this(Array.from(t).map(n=>Mr.fromJSON(n)))}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const n=t.filter(r=>!r.isEmpty());this.pieceList=new Ha(n)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(t){return new this.constructor(t.consolidate().toArray())}copyUsingObjectMap(t){const n=this.getPieces().map(r=>t.find(r)||r);return new this.constructor(n)}appendText(t){return this.insertTextAtPosition(t,this.getLength())}insertTextAtPosition(t,n){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,n))}removeTextAtRange(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))}replaceTextAtRange(t,n){return this.removeTextAtRange(n).insertTextAtPosition(t,n[0])}moveTextFromRangeToPosition(t,n){if(t[0]<=n&&n<=t[1])return;const r=this.getTextAtRange(t),o=r.getLength();return t[0]<n&&(n-=o),this.removeTextAtRange(t).insertTextAtPosition(r,n)}addAttributeAtRange(t,n,r){const o={};return o[t]=n,this.addAttributesAtRange(o,r)}addAttributesAtRange(t,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithAdditionalAttributes(t)))}removeAttributeAtRange(t,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithoutAttribute(t)))}setAttributesAtRange(t,n){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(n,r=>r.copyWithAttributes(t)))}getAttributesAtPosition(t){var n;return((n=this.pieceList.getObjectAtPosition(t))===null||n===void 0?void 0:n.getAttributes())||{}}getCommonAttributes(){const t=Array.from(this.pieceList.toArray()).map(n=>n.getAttributes());return xe.fromCommonAttributesOfObjects(t).toObject()}getCommonAttributesAtRange(t){return this.getTextAtRange(t).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(t,n){let r,o=r=n;const a=this.getLength();for(;o>0&&this.getCommonAttributesAtRange([o-1,r])[t];)o--;for(;r<a&&this.getCommonAttributesAtRange([n,r+1])[t];)r++;return[o,r]}getTextAtRange(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))}getStringAtRange(t){return this.pieceList.getSplittableListInRange(t).toString()}getStringAtPosition(t){return this.getStringAtRange([t,t+1])}startsWithString(t){return this.getStringAtRange([0,t.length])===t}endsWithString(t){const n=this.getLength();return this.getStringAtRange([n-t.length,n])===t}getAttachmentPieces(){return this.pieceList.toArray().filter(t=>!!t.attachment)}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getAttachmentAndPositionById(t){let n=0;for(const o of this.pieceList.toArray()){var r;if(((r=o.attachment)===null||r===void 0?void 0:r.id)===t)return{attachment:o.attachment,position:n};n+=o.length}return{attachment:null,position:null}}getAttachmentById(t){const{attachment:n}=this.getAttachmentAndPositionById(t);return n}getRangeOfAttachment(t){const n=this.getAttachmentAndPositionById(t.id),r=n.position;if(t=n.attachment)return[r,r+1]}updateAttributesForAttachment(t,n){const r=this.getRangeOfAttachment(n);return r?this.addAttributesAtRange(t,r):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(t){var n;return super.isEqualTo(t)||(t==null||(n=t.pieceList)===null||n===void 0?void 0:n.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(t){return this.pieceList.eachObject(t)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(t){return this.pieceList.getObjectAtPosition(t)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const t=this.pieceList.selectSplittableList(n=>n.isSerializable());return this.copyWithPieceList(t)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(t=>JSON.parse(t.toConsole())))}getDirection(){return Bw(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class rn extends Fr{static fromJSON(t){return new this(Ve.fromJSON(t.text),t.attributes,t.htmlAttributes)}constructor(t,n,r){super(...arguments),this.text=oE(t||new Ve),this.attributes=n||[],this.htmlAttributes=r||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(t){return!!super.isEqualTo(t)||this.text.isEqualTo(t==null?void 0:t.text)&&Pr(this.attributes,t==null?void 0:t.attributes)&&Bi(this.htmlAttributes,t==null?void 0:t.htmlAttributes)}copyWithText(t){return new rn(t,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(t){return new rn(this.text,t,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(t){const n=t.find(this.text);return n?this.copyWithText(n):this.copyWithText(this.text.copyUsingObjectMap(t))}addAttribute(t){const n=this.attributes.concat(Vm(t));return this.copyWithAttributes(n)}addHTMLAttribute(t,n){const r=Object.assign({},this.htmlAttributes,{[t]:n});return new rn(this.text,this.attributes,r)}removeAttribute(t){const{listAttribute:n}=Rt(t),r=$m($m(this.attributes,t),n);return this.copyWithAttributes(r)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return Um(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(t){return this.attributes[t-1]}hasAttribute(t){return this.attributes.includes(t)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return Um(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(t=>Rt(t).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const t=this.getLastNestableAttribute();return t?this.removeAttribute(t):this}increaseNestingLevel(){const t=this.getLastNestableAttribute();if(t){const n=this.attributes.lastIndexOf(t),r=Ph(this.attributes,n+1,0,...Vm(t));return this.copyWithAttributes(r)}return this}getListItemAttributes(){return this.attributes.filter(t=>Rt(t).listAttribute)}isListItem(){var t;return(t=Rt(this.getLastAttribute()))===null||t===void 0?void 0:t.listAttribute}isTerminalBlock(){var t;return(t=Rt(this.getLastAttribute()))===null||t===void 0?void 0:t.terminal}breaksOnReturn(){var t;return(t=Rt(this.getLastAttribute()))===null||t===void 0?void 0:t.breakOnReturn}findLineBreakInDirectionFromPosition(t,n){const r=this.toString();let o;switch(t){case"forward":o=r.indexOf(`
`,n);break;case"backward":o=r.slice(0,n).lastIndexOf(`
`)}if(o!==-1)return o}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(t){return!this.hasAttributes()&&!t.hasAttributes()&&this.getDirection()===t.getDirection()}consolidateWith(t){const n=Ve.textForStringWithAttributes(`
`),r=this.getTextWithoutBlockBreak().appendText(n);return this.copyWithText(r.appendText(t.text))}splitAtOffset(t){let n,r;return t===0?(n=null,r=this):t===this.getLength()?(n=this,r=null):(n=this.copyWithText(this.text.getTextAtRange([0,t])),r=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[n,r]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return cy(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(t){return this.attributes[t]}canBeGroupedWith(t,n){const r=t.getAttributes(),o=r[n],a=this.attributes[n];return a===o&&!(Rt(a).group===!1&&!(()=>{if(!Ks){Ks=[];for(const u in Zt){const{listAttribute:d}=Zt[u];d!=null&&Ks.push(d)}}return Ks})().includes(r[n+1]))&&(this.getDirection()===t.getDirection()||t.isEmpty())}}const oE=function(e){return e=sE(e),e=lE(e)},sE=function(e){let t=!1;const n=e.getPieces();let r=n.slice(0,n.length-1);const o=n[n.length-1];return o?(r=r.map(a=>a.isBlockBreak()?(t=!0,uE(a)):a),t?new Ve([...r,o]):e):e},aE=Ve.textForStringWithAttributes(`
`,{blockBreak:!0}),lE=function(e){return cy(e)?e:e.appendText(aE)},cy=function(e){const t=e.getLength();return t===0?!1:e.getTextAtRange([t-1,t]).isBlockBreak()},uE=e=>e.copyWithoutAttribute("blockBreak"),Vm=function(e){const{listAttribute:t}=Rt(e);return t?[t,e]:[e]},Um=e=>e.slice(-1)[0],$m=function(e,t){const n=e.lastIndexOf(t);return n===-1?e:Ph(e,n,1)};class De extends Fr{static fromJSON(t){return new this(Array.from(t).map(n=>rn.fromJSON(n)))}static fromString(t,n){const r=Ve.textForStringWithAttributes(t,n);return new this([new rn(r)])}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),t.length===0&&(t=[new rn]),this.blockList=Ha.box(t)}isEmpty(){const t=this.getBlockAtIndex(0);return this.blockList.length===1&&t.isEmpty()&&!t.hasAttributes()}copy(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(t)}copyUsingObjectsFromDocument(t){const n=new Uw(t.getObjects());return this.copyUsingObjectMap(n)}copyUsingObjectMap(t){const n=this.getBlocks().map(r=>t.find(r)||r.copyUsingObjectMap(t));return new this.constructor(n)}copyWithBaseBlockAttributes(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const n=this.getBlocks().map(r=>{const o=t.concat(r.getAttributes());return r.copyWithAttributes(o)});return new this.constructor(n)}replaceBlock(t,n){const r=this.blockList.indexOf(t);return r===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(n,r))}insertDocumentAtRange(t,n){const{blockList:r}=t;n=et(n);let[o]=n;const{index:a,offset:u}=this.locationFromPosition(o);let d=this;const f=this.getBlockAtPosition(o);return bn(n)&&f.isEmpty()&&!f.hasAttributes()?d=new this.constructor(d.blockList.removeObjectAtIndex(a)):f.getBlockBreakPosition()===u&&o++,d=d.removeTextAtRange(n),new this.constructor(d.blockList.insertSplittableListAtPosition(r,o))}mergeDocumentAtRange(t,n){let r,o;n=et(n);const[a]=n,u=this.locationFromPosition(a),d=this.getBlockAtIndex(u.index).getAttributes(),f=t.getBaseBlockAttributes(),m=d.slice(-f.length);if(Pr(f,m)){const x=d.slice(0,-f.length);r=t.copyWithBaseBlockAttributes(x)}else r=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(d);const b=r.getBlockCount(),v=r.getBlockAtIndex(0);if(Pr(d,v.getAttributes())){const x=v.getTextWithoutBlockBreak();if(o=this.insertTextAtRange(x,n),b>1){r=new this.constructor(r.getBlocks().slice(1));const T=a+x.getLength();o=o.insertDocumentAtRange(r,T)}}else o=this.insertDocumentAtRange(r,n);return o}insertTextAtRange(t,n){n=et(n);const[r]=n,{index:o,offset:a}=this.locationFromPosition(r),u=this.removeTextAtRange(n);return new this.constructor(u.blockList.editObjectAtIndex(o,d=>d.copyWithText(d.text.insertTextAtPosition(t,a))))}removeTextAtRange(t){let n;t=et(t);const[r,o]=t;if(bn(t))return this;const[a,u]=Array.from(this.locationRangeFromRange(t)),d=a.index,f=a.offset,m=this.getBlockAtIndex(d),b=u.index,v=u.offset,x=this.getBlockAtIndex(b);if(o-r==1&&m.getBlockBreakPosition()===f&&x.getBlockBreakPosition()!==v&&x.text.getStringAtPosition(v)===`
`)n=this.blockList.editObjectAtIndex(b,T=>T.copyWithText(T.text.removeTextAtRange([v,v+1])));else{let T;const R=m.text.getTextAtRange([0,f]),w=x.text.getTextAtRange([v,x.getLength()]),j=R.appendText(w);T=d!==b&&f===0&&m.getAttributeLevel()>=x.getAttributeLevel()?x.copyWithText(j):m.copyWithText(j);const C=b+1-d;n=this.blockList.splice(d,C,T)}return new this.constructor(n)}moveTextFromRangeToPosition(t,n){let r;t=et(t);const[o,a]=t;if(o<=n&&n<=a)return this;let u=this.getDocumentAtRange(t),d=this.removeTextAtRange(t);const f=o<n;f&&(n-=u.getLength());const[m,...b]=u.getBlocks();return b.length===0?(r=m.getTextWithoutBlockBreak(),f&&(n+=1)):r=m.text,d=d.insertTextAtRange(r,n),b.length===0?d:(u=new this.constructor(b),n+=r.getLength(),d.insertDocumentAtRange(u,n))}addAttributeAtRange(t,n,r){let{blockList:o}=this;return this.eachBlockAtRange(r,(a,u,d)=>o=o.editObjectAtIndex(d,function(){return Rt(t)?a.addAttribute(t,n):u[0]===u[1]?a:a.copyWithText(a.text.addAttributeAtRange(t,n,u))})),new this.constructor(o)}addAttribute(t,n){let{blockList:r}=this;return this.eachBlock((o,a)=>r=r.editObjectAtIndex(a,()=>o.addAttribute(t,n))),new this.constructor(r)}removeAttributeAtRange(t,n){let{blockList:r}=this;return this.eachBlockAtRange(n,function(o,a,u){Rt(t)?r=r.editObjectAtIndex(u,()=>o.removeAttribute(t)):a[0]!==a[1]&&(r=r.editObjectAtIndex(u,()=>o.copyWithText(o.text.removeAttributeAtRange(t,a))))}),new this.constructor(r)}updateAttributesForAttachment(t,n){const r=this.getRangeOfAttachment(n),[o]=Array.from(r),{index:a}=this.locationFromPosition(o),u=this.getTextAtIndex(a);return new this.constructor(this.blockList.editObjectAtIndex(a,d=>d.copyWithText(u.updateAttributesForAttachment(t,n))))}removeAttributeForAttachment(t,n){const r=this.getRangeOfAttachment(n);return this.removeAttributeAtRange(t,r)}setHTMLAttributeAtPosition(t,n,r){const o=this.getBlockAtPosition(t),a=o.addHTMLAttribute(n,r);return this.replaceBlock(o,a)}insertBlockBreakAtRange(t){let n;t=et(t);const[r]=t,{offset:o}=this.locationFromPosition(r),a=this.removeTextAtRange(t);return o===0&&(n=[new rn]),new this.constructor(a.blockList.insertSplittableListAtPosition(new Ha(n),r))}applyBlockAttributeAtRange(t,n,r){const o=this.expandRangeToLineBreaksAndSplitBlocks(r);let a=o.document;r=o.range;const u=Rt(t);if(u.listAttribute){a=a.removeLastListAttributeAtRange(r,{exceptAttributeName:t});const d=a.convertLineBreaksToBlockBreaksInRange(r);a=d.document,r=d.range}else a=u.exclusive?a.removeBlockAttributesAtRange(r):u.terminal?a.removeLastTerminalAttributeAtRange(r):a.consolidateBlocksAtRange(r);return a.addAttributeAtRange(t,n,r)}removeLastListAttributeAtRange(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:r}=this;return this.eachBlockAtRange(t,function(o,a,u){const d=o.getLastAttribute();d&&Rt(d).listAttribute&&d!==n.exceptAttributeName&&(r=r.editObjectAtIndex(u,()=>o.removeAttribute(d)))}),new this.constructor(r)}removeLastTerminalAttributeAtRange(t){let{blockList:n}=this;return this.eachBlockAtRange(t,function(r,o,a){const u=r.getLastAttribute();u&&Rt(u).terminal&&(n=n.editObjectAtIndex(a,()=>r.removeAttribute(u)))}),new this.constructor(n)}removeBlockAttributesAtRange(t){let{blockList:n}=this;return this.eachBlockAtRange(t,function(r,o,a){r.hasAttributes()&&(n=n.editObjectAtIndex(a,()=>r.copyWithoutAttributes()))}),new this.constructor(n)}expandRangeToLineBreaksAndSplitBlocks(t){let n;t=et(t);let[r,o]=t;const a=this.locationFromPosition(r),u=this.locationFromPosition(o);let d=this;const f=d.getBlockAtIndex(a.index);if(a.offset=f.findLineBreakInDirectionFromPosition("backward",a.offset),a.offset!=null&&(n=d.positionFromLocation(a),d=d.insertBlockBreakAtRange([n,n+1]),u.index+=1,u.offset-=d.getBlockAtIndex(a.index).getLength(),a.index+=1),a.offset=0,u.offset===0&&u.index>a.index)u.index-=1,u.offset=d.getBlockAtIndex(u.index).getBlockBreakPosition();else{const m=d.getBlockAtIndex(u.index);m.text.getStringAtRange([u.offset-1,u.offset])===`
`?u.offset-=1:u.offset=m.findLineBreakInDirectionFromPosition("forward",u.offset),u.offset!==m.getBlockBreakPosition()&&(n=d.positionFromLocation(u),d=d.insertBlockBreakAtRange([n,n+1]))}return r=d.positionFromLocation(a),o=d.positionFromLocation(u),{document:d,range:t=et([r,o])}}convertLineBreaksToBlockBreaksInRange(t){t=et(t);let[n]=t;const r=this.getStringAtRange(t).slice(0,-1);let o=this;return r.replace(/.*?\n/g,function(a){n+=a.length,o=o.insertBlockBreakAtRange([n-1,n])}),{document:o,range:t}}consolidateBlocksAtRange(t){t=et(t);const[n,r]=t,o=this.locationFromPosition(n).index,a=this.locationFromPosition(r).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(o,a))}getDocumentAtRange(t){t=et(t);const n=this.blockList.getSplittableListInRange(t).toArray();return new this.constructor(n)}getStringAtRange(t){let n;const r=t=et(t);return r[r.length-1]!==this.getLength()&&(n=-1),this.getDocumentAtRange(t).toString().slice(0,n)}getBlockAtIndex(t){return this.blockList.getObjectAtIndex(t)}getBlockAtPosition(t){const{index:n}=this.locationFromPosition(t);return this.getBlockAtIndex(n)}getTextAtIndex(t){var n;return(n=this.getBlockAtIndex(t))===null||n===void 0?void 0:n.text}getTextAtPosition(t){const{index:n}=this.locationFromPosition(t);return this.getTextAtIndex(n)}getPieceAtPosition(t){const{index:n,offset:r}=this.locationFromPosition(t);return this.getTextAtIndex(n).getPieceAtPosition(r)}getCharacterAtPosition(t){const{index:n,offset:r}=this.locationFromPosition(t);return this.getTextAtIndex(n).getStringAtRange([r,r+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(t){return this.blockList.eachObject(t)}eachBlockAtRange(t,n){let r,o;t=et(t);const[a,u]=t,d=this.locationFromPosition(a),f=this.locationFromPosition(u);if(d.index===f.index)return r=this.getBlockAtIndex(d.index),o=[d.offset,f.offset],n(r,o,d.index);for(let m=d.index;m<=f.index;m++)if(r=this.getBlockAtIndex(m),r){switch(m){case d.index:o=[d.offset,r.text.getLength()];break;case f.index:o=[0,f.offset];break;default:o=[0,r.text.getLength()]}n(r,o,m)}}getCommonAttributesAtRange(t){t=et(t);const[n]=t;if(bn(t))return this.getCommonAttributesAtPosition(n);{const r=[],o=[];return this.eachBlockAtRange(t,function(a,u){if(u[0]!==u[1])return r.push(a.text.getCommonAttributesAtRange(u)),o.push(Hm(a))}),xe.fromCommonAttributesOfObjects(r).merge(xe.fromCommonAttributesOfObjects(o)).toObject()}}getCommonAttributesAtPosition(t){let n,r;const{index:o,offset:a}=this.locationFromPosition(t),u=this.getBlockAtIndex(o);if(!u)return{};const d=Hm(u),f=u.text.getAttributesAtPosition(a),m=u.text.getAttributesAtPosition(a-1),b=Object.keys(Dr).filter(v=>Dr[v].inheritable);for(n in m)r=m[n],(r===f[n]||b.includes(n))&&(d[n]=r);return d}getRangeOfCommonAttributeAtPosition(t,n){const{index:r,offset:o}=this.locationFromPosition(n),a=this.getTextAtIndex(r),[u,d]=Array.from(a.getExpandedRangeForAttributeAtOffset(t,o)),f=this.positionFromLocation({index:r,offset:u}),m=this.positionFromLocation({index:r,offset:d});return et([f,m])}getBaseBlockAttributes(){let t=this.getBlockAtIndex(0).getAttributes();for(let n=1;n<this.getBlockCount();n++){const r=this.getBlockAtIndex(n).getAttributes(),o=Math.min(t.length,r.length);t=(()=>{const a=[];for(let u=0;u<o&&r[u]===t[u];u++)a.push(r[u]);return a})()}return t}getAttachmentById(t){for(const n of this.getAttachments())if(n.id===t)return n}getAttachmentPieces(){let t=[];return this.blockList.eachObject(n=>{let{text:r}=n;return t=t.concat(r.getAttachmentPieces())}),t}getAttachments(){return this.getAttachmentPieces().map(t=>t.attachment)}getRangeOfAttachment(t){let n=0;const r=this.blockList.toArray();for(let o=0;o<r.length;o++){const{text:a}=r[o],u=a.getRangeOfAttachment(t);if(u)return et([n+u[0],n+u[1]]);n+=a.getLength()}}getLocationRangeOfAttachment(t){const n=this.getRangeOfAttachment(t);return this.locationRangeFromRange(n)}getAttachmentPieceForAttachment(t){for(const n of this.getAttachmentPieces())if(n.attachment===t)return n}findRangesForBlockAttribute(t){let n=0;const r=[];return this.getBlocks().forEach(o=>{const a=o.getLength();o.hasAttribute(t)&&r.push([n,n+a]),n+=a}),r}findRangesForTextAttribute(t){let{withValue:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=0,o=[];const a=[];return this.getPieces().forEach(u=>{const d=u.getLength();(function(f){return n?f.getAttribute(t)===n:f.hasAttribute(t)})(u)&&(o[1]===r?o[1]=r+d:a.push(o=[r,r+d])),r+=d}),a}locationFromPosition(t){const n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t));if(n.index!=null)return n;{const r=this.getBlocks();return{index:r.length-1,offset:r[r.length-1].getLength()}}}positionFromLocation(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)}locationRangeFromPosition(t){return et(this.locationFromPosition(t))}locationRangeFromRange(t){if(!(t=et(t)))return;const[n,r]=Array.from(t),o=this.locationFromPosition(n),a=this.locationFromPosition(r);return et([o,a])}rangeFromLocationRange(t){let n;t=et(t);const r=this.positionFromLocation(t[0]);return bn(t)||(n=this.positionFromLocation(t[1])),et([r,n])}isEqualTo(t){return this.blockList.isEqualTo(t==null?void 0:t.blockList)}getTexts(){return this.getBlocks().map(t=>t.text)}getPieces(){const t=[];return Array.from(this.getTexts()).forEach(n=>{t.push(...Array.from(n.getPieces()||[]))}),t}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const t=[];return this.blockList.eachObject(n=>t.push(n.copyWithText(n.text.toSerializableText()))),new this.constructor(t)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(t=>JSON.parse(t.text.toConsole())))}}const Hm=function(e){const t={},n=e.getLastAttribute();return n&&(t[n]=!0),t},Qu=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:e=fo(e),attributes:t,type:"string"}},qm=(e,t)=>{try{return JSON.parse(e.getAttribute("data-trix-".concat(t)))}catch{return{}}};class Zo extends Bt{static parse(t,n){const r=new this(t,n);return r.parse(),r}constructor(t){let{referenceElement:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=t,this.referenceElement=n,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return De.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer(),Al.setHTML(this.containerElement,this.html);const t=Va(this.containerElement,{usingFilter:dE});for(;t.nextNode();)this.processNode(t.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=J({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return Zn(this.containerElement)}processNode(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}}appendBlockForTextNode(t){const n=t.parentNode;if(n===this.currentBlockElement&&this.isBlockElement(t.previousSibling))return this.appendStringWithAttributes(`
`);if(n===this.containerElement||this.isBlockElement(n)){var r;const o=this.getBlockAttributes(n),a=this.getBlockHTMLAttributes(n);Pr(o,(r=this.currentBlock)===null||r===void 0?void 0:r.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(o,n,a),this.currentBlockElement=n)}}appendBlockForElement(t){const n=this.isBlockElement(t),r=yr(this.currentBlockElement,t);if(n&&!this.isBlockElement(t.firstChild)){if(!this.isInsignificantTextNode(t.firstChild)||!this.isBlockElement(t.firstElementChild)){const o=this.getBlockAttributes(t),a=this.getBlockHTMLAttributes(t);if(t.firstChild){if(r&&Pr(o,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(o,t,a),this.currentBlockElement=t}}}else if(this.currentBlockElement&&!r&&!n){const o=this.findParentBlockElement(t);if(o)return this.appendBlockForElement(o);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(t){let{parentElement:n}=t;for(;n&&n!==this.containerElement;){if(this.isBlockElement(n)&&this.blockElements.includes(n))return n;n=n.parentElement}return null}processTextNode(t){let n=t.data;var r;return Km(t.parentNode)||(n=Bh(n),dy((r=t.previousSibling)===null||r===void 0?void 0:r.textContent)&&(n=hE(n))),this.appendStringWithAttributes(n,this.getTextAttributes(t.parentNode))}processElement(t){let n;if(Cr(t)){if(n=qm(t,"attachment"),Object.keys(n).length){const r=this.getTextAttributes(t);this.appendAttachmentWithAttributes(n,r),t.innerHTML=""}return this.processedElements.push(t)}switch(Yt(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(t)),this.processedElements.push(t);case"img":n={url:t.getAttribute("src"),contentType:"image"};const r=(o=>{const a=o.getAttribute("width"),u=o.getAttribute("height"),d={};return a&&(d.width=parseInt(a,10)),u&&(d.height=parseInt(u,10)),d})(t);for(const o in r){const a=r[o];n[o]=a}return this.appendAttachmentWithAttributes(n,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(ha.tableRowSeparator);break;case"td":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(ha.tableCellSeparator)}}appendBlockForAttributesWithElement(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(n);const o=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}}(t,r);return this.blocks.push(o),o}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(t,n){return this.appendPiece(Qu(t,n))}appendAttachmentWithAttributes(t,n){return this.appendPiece(function(r){return{attachment:r,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(t,n))}appendPiece(t){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)}appendStringToTextAtIndex(t,n){const{text:r}=this.blocks[n],o=r[r.length-1];if((o==null?void 0:o.type)!=="string")return r.push(Qu(t));o.string+=t}prependStringToTextAtIndex(t,n){const{text:r}=this.blocks[n],o=r[0];if((o==null?void 0:o.type)!=="string")return r.unshift(Qu(t));o.string=t+o.string}getTextAttributes(t){let n;const r={};for(const o in Dr){const a=Dr[o];if(a.tagName&&Yn(t,{matchingSelector:a.tagName,untilNode:this.containerElement}))r[o]=!0;else if(a.parser){if(n=a.parser(t),n){let u=!1;for(const d of this.findBlockElementAncestors(t))if(a.parser(d)===n){u=!0;break}u||(r[o]=n)}}else a.styleProperty&&(n=t.style[a.styleProperty],n&&(r[o]=n))}if(Cr(t)){const o=qm(t,"attributes");for(const a in o)n=o[a],r[a]=n}return r}getBlockAttributes(t){const n=[];for(;t&&t!==this.containerElement;){for(const o in Zt){const a=Zt[o];var r;a.parse!==!1&&Yt(t)===a.tagName&&((r=a.test)!==null&&r!==void 0&&r.call(a,t)||!a.test)&&(n.push(o),a.listAttribute&&n.push(a.listAttribute))}t=t.parentNode}return n.reverse()}getBlockHTMLAttributes(t){const n={},r=Object.values(Zt).find(o=>o.tagName===Yt(t));return((r==null?void 0:r.htmlAttributes)||[]).forEach(o=>{t.hasAttribute(o)&&(n[o]=t.getAttribute(o))}),n}findBlockElementAncestors(t){const n=[];for(;t&&t!==this.containerElement;){const r=Yt(t);wo().includes(r)&&n.push(t),t=t.parentNode}return n}isBlockElement(t){if((t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&!Cr(t)&&!Yn(t,{matchingSelector:"td",untilNode:this.containerElement}))return wo().includes(Yt(t))||window.getComputedStyle(t).display==="block"}isInsignificantTextNode(t){if((t==null?void 0:t.nodeType)!==Node.TEXT_NODE||!fE(t.data))return;const{parentNode:n,previousSibling:r,nextSibling:o}=t;return cE(n.previousSibling)&&!this.isBlockElement(n.previousSibling)||Km(n)?void 0:!r||this.isBlockElement(r)||!o||this.isBlockElement(o)}isExtraBR(t){return Yt(t)==="br"&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t}needsTableSeparator(t){if(ha.removeBlankTableCells){var n;const r=(n=t.previousSibling)===null||n===void 0?void 0:n.textContent;return r&&/\S/.test(r)}return t.previousSibling}translateBlockElementMarginsToNewlines(){const t=this.getMarginOfDefaultBlockElement();for(let n=0;n<this.blocks.length;n++){const r=this.getMarginOfBlockElementAtIndex(n);r&&(r.top>2*t.top&&this.prependStringToTextAtIndex(`
`,n),r.bottom>2*t.bottom&&this.appendStringToTextAtIndex(`
`,n))}}getMarginOfBlockElementAtIndex(t){const n=this.blockElements[t];if(n&&n.textContent&&!wo().includes(Yt(n))&&!this.processedElements.includes(n))return Jm(n)}getMarginOfDefaultBlockElement(){const t=J(Zt.default.tagName);return this.containerElement.appendChild(t),Jm(t)}}const Km=function(e){const{whiteSpace:t}=window.getComputedStyle(e);return["pre","pre-wrap","pre-line"].includes(t)},cE=e=>e&&!dy(e.textContent),Jm=function(e){const t=window.getComputedStyle(e);if(t.display==="block")return{top:parseInt(t.marginTop),bottom:parseInt(t.marginBottom)}},dE=function(e){return Yt(e)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},hE=e=>e.replace(new RegExp("^".concat(Oh.source,"+")),""),fE=e=>new RegExp("^".concat(Oh.source,"*$")).test(e),dy=e=>/\s$/.test(e),gE=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],fd="data-trix-serialized-attributes",mE="[".concat(fd,"]"),pE=new RegExp("<!--block-->","g"),vE={"application/json":function(e){let t;if(e instanceof De)t=e;else{if(!(e instanceof HTMLElement))throw new Error("unserializable object");t=Zo.parse(e.innerHTML).getDocument()}return t.toSerializableDocument().toJSONString()},"text/html":function(e){let t;if(e instanceof De)t=xl.render(e);else{if(!(e instanceof HTMLElement))throw new Error("unserializable object");t=e.cloneNode(!0)}return Array.from(t.querySelectorAll("[data-trix-serialize=false]")).forEach(n=>{Zn(n)}),gE.forEach(n=>{Array.from(t.querySelectorAll("[".concat(n,"]"))).forEach(r=>{r.removeAttribute(n)})}),Array.from(t.querySelectorAll(mE)).forEach(n=>{try{const r=JSON.parse(n.getAttribute(fd));n.removeAttribute(fd);for(const o in r){const a=r[o];n.setAttribute(o,a)}}catch{}}),t.innerHTML.replace(pE,"")}};var yE=Object.freeze({__proto__:null});class Et extends Bt{constructor(t,n){super(...arguments),this.attachmentManager=t,this.attachment=n,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}Et.proxyMethod("attachment.getAttribute"),Et.proxyMethod("attachment.hasAttribute"),Et.proxyMethod("attachment.setAttribute"),Et.proxyMethod("attachment.getAttributes"),Et.proxyMethod("attachment.setAttributes"),Et.proxyMethod("attachment.isPending"),Et.proxyMethod("attachment.isPreviewable"),Et.proxyMethod("attachment.getURL"),Et.proxyMethod("attachment.getHref"),Et.proxyMethod("attachment.getFilename"),Et.proxyMethod("attachment.getFilesize"),Et.proxyMethod("attachment.getFormattedFilesize"),Et.proxyMethod("attachment.getExtension"),Et.proxyMethod("attachment.getContentType"),Et.proxyMethod("attachment.getFile"),Et.proxyMethod("attachment.setFile"),Et.proxyMethod("attachment.releaseFile"),Et.proxyMethod("attachment.getUploadProgress"),Et.proxyMethod("attachment.setUploadProgress");class hy extends Bt{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(t).forEach(n=>{this.manageAttachment(n)})}getAttachments(){const t=[];for(const n in this.managedAttachments){const r=this.managedAttachments[n];t.push(r)}return t}manageAttachment(t){return this.managedAttachments[t.id]||(this.managedAttachments[t.id]=new Et(this,t)),this.managedAttachments[t.id]}attachmentIsManaged(t){return t.id in this.managedAttachments}requestRemovalOfAttachment(t){var n,r;if(this.attachmentIsManaged(t))return(n=this.delegate)===null||n===void 0||(r=n.attachmentManagerDidRequestRemovalOfAttachment)===null||r===void 0?void 0:r.call(n,t)}unmanageAttachment(t){const n=this.managedAttachments[t.id];return delete this.managedAttachments[t.id],n}}class fy{constructor(t){this.composition=t,this.document=this.composition.document;const n=this.composition.getSelectedRange();this.startPosition=n[0],this.endPosition=n[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class Fn extends Bt{constructor(){super(...arguments),this.document=new De,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(t){var n,r;if(!t.isEqualTo(this.document))return this.document=t,this.refreshAttachments(),this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidChangeDocument)===null||r===void 0?void 0:r.call(n,t)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(t){var n,r,o,a;let{document:u,selectedRange:d}=t;return(n=this.delegate)===null||n===void 0||(r=n.compositionWillLoadSnapshot)===null||r===void 0||r.call(n),this.setDocument(u??new De),this.setSelection(d??[0,0]),(o=this.delegate)===null||o===void 0||(a=o.compositionDidLoadSnapshot)===null||a===void 0?void 0:a.call(o)}insertText(t){let{updatePosition:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const r=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(t,r));const o=r[0],a=o+t.getLength();return n&&this.setSelection(a),this.notifyDelegateOfInsertionAtRange([o,a])}insertBlock(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new rn;const n=new De([t]);return this.insertDocument(n)}insertDocument(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new De;const n=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(t,n));const r=n[0],o=r+t.getLength();return this.setSelection(o),this.notifyDelegateOfInsertionAtRange([r,o])}insertString(t,n){const r=this.getCurrentTextAttributes(),o=Ve.textForStringWithAttributes(t,r);return this.insertText(o,n)}insertBlockBreak(){const t=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(t));const n=t[0],r=n+1;return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([n,r])}insertLineBreak(){const t=new fy(this);if(t.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(t.startPosition);if(t.shouldPrependListItem()){const n=new De([t.block.copyWithoutText()]);return this.insertDocument(n)}return t.shouldInsertBlockBreak()?this.insertBlockBreak():t.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():t.shouldBreakFormattedBlock()?this.breakFormattedBlock(t):this.insertString(`
`)}insertHTML(t){const n=Zo.parse(t).getDocument(),r=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(n,r));const o=r[0],a=o+n.getLength()-1;return this.setSelection(a),this.notifyDelegateOfInsertionAtRange([o,a])}replaceHTML(t){const n=Zo.parse(t).getDocument().copyUsingObjectsFromDocument(this.document),r=this.getLocationRange({strict:!1}),o=this.document.rangeFromLocationRange(r);return this.setDocument(n),this.setSelection(o)}insertFile(t){return this.insertFiles([t])}insertFiles(t){const n=[];return Array.from(t).forEach(r=>{var o;if((o=this.delegate)!==null&&o!==void 0&&o.compositionShouldAcceptFile(r)){const a=Fi.attachmentForFile(r);n.push(a)}}),this.insertAttachments(n)}insertAttachment(t){return this.insertAttachments([t])}insertAttachments(t){let n=new Ve;return Array.from(t).forEach(r=>{var o;const a=r.getType(),u=(o=Rh[a])===null||o===void 0?void 0:o.presentation,d=this.getCurrentTextAttributes();u&&(d.presentation=u);const f=Ve.textForAttachmentWithAttributes(r,d);n=n.appendText(f)}),this.insertText(n)}shouldManageDeletingInDirection(t){const n=this.getLocationRange();if(bn(n)){if(t==="backward"&&n[0].offset===0||this.shouldManageMovingCursorInDirection(t))return!0}else if(n[0].index!==n[1].index)return!0;return!1}deleteInDirection(t){let n,r,o,{length:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const u=this.getLocationRange();let d=this.getSelectedRange();const f=bn(d);if(f?r=t==="backward"&&u[0].offset===0:o=u[0].index!==u[1].index,r&&this.canDecreaseBlockAttributeLevel()){const m=this.getBlock();if(m.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(d[0]),m.isEmpty())return!1}return f&&(d=this.getExpandedRangeInDirection(t,{length:a}),t==="backward"&&(n=this.getAttachmentAtRange(d))),n?(this.editAttachment(n),!1):(this.setDocument(this.document.removeTextAtRange(d)),this.setSelection(d[0]),!r&&!o&&void 0)}moveTextFromRange(t){const[n]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(t,n)),this.setSelection(n)}removeAttachment(t){const n=this.document.getRangeOfAttachment(t);if(n)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(n)),this.setSelection(n[0])}removeLastBlockAttribute(){const[t,n]=Array.from(this.getSelectedRange()),r=this.document.getBlockAtPosition(n);return this.removeCurrentAttribute(r.getLastAttribute()),this.setSelection(t)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(t){const n=this.currentAttributes[t];return n!=null&&n!==!1}toggleCurrentAttribute(t){const n=!this.currentAttributes[t];return n?this.setCurrentAttribute(t,n):this.removeCurrentAttribute(t)}canSetCurrentAttribute(t){return Rt(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)}canSetCurrentTextAttribute(t){const n=this.getSelectedDocument();if(n){for(const r of Array.from(n.getAttachments()))if(!r.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(t){const n=this.getBlock();if(n)return!n.isTerminalBlock()}setCurrentAttribute(t,n){return Rt(t)?this.setBlockAttribute(t,n):(this.setTextAttribute(t,n),this.currentAttributes[t]=n,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(t,n,r){var o;const a=this.document.getBlockAtPosition(t),u=(o=Rt(a.getLastAttribute()))===null||o===void 0?void 0:o.htmlAttributes;if(a&&u!=null&&u.includes(n)){const d=this.document.setHTMLAttributeAtPosition(t,n,r);this.setDocument(d)}}setTextAttribute(t,n){const r=this.getSelectedRange();if(!r)return;const[o,a]=Array.from(r);if(o!==a)return this.setDocument(this.document.addAttributeAtRange(t,n,r));if(t==="href"){const u=Ve.textForStringWithAttributes(n,{href:n});return this.insertText(u)}}setBlockAttribute(t,n){const r=this.getSelectedRange();if(this.canSetCurrentAttribute(t))return this.setDocument(this.document.applyBlockAttributeAtRange(t,n,r)),this.setSelection(r)}removeCurrentAttribute(t){return Rt(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(t){const n=this.getSelectedRange();if(n)return this.setDocument(this.document.removeAttributeAtRange(t,n))}removeBlockAttribute(t){const n=this.getSelectedRange();if(n)return this.setDocument(this.document.removeAttributeAtRange(t,n))}canDecreaseNestingLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getNestingLevel())>0}canIncreaseNestingLevel(){var t;const n=this.getBlock();if(n){if((t=Rt(n.getLastNestableAttribute()))===null||t===void 0||!t.listAttribute)return n.getNestingLevel()>0;{const r=this.getPreviousBlock();if(r)return function(){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Pr((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,o.length),o)}(r.getListItemAttributes(),n.getListItemAttributes())}}}decreaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))}increaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var t;return((t=this.getBlock())===null||t===void 0?void 0:t.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var t;const n=(t=this.getBlock())===null||t===void 0?void 0:t.getLastAttribute();if(n)return this.removeCurrentAttribute(n)}decreaseListLevel(){let[t]=Array.from(this.getSelectedRange());const{index:n}=this.document.locationFromPosition(t);let r=n;const o=this.getBlock().getAttributeLevel();let a=this.document.getBlockAtIndex(r+1);for(;a&&a.isListItem()&&!(a.getAttributeLevel()<=o);)r++,a=this.document.getBlockAtIndex(r+1);t=this.document.positionFromLocation({index:n,offset:0});const u=this.document.positionFromLocation({index:r,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([t,u]))}updateCurrentAttributes(){const t=this.getSelectedRange({ignoreLock:!0});if(t){const n=this.document.getCommonAttributesAtRange(t);if(Array.from(cd()).forEach(r=>{n[r]||this.canSetCurrentAttribute(r)||(n[r]=!1)}),!Bi(n,this.currentAttributes))return this.currentAttributes=n,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return q0.call({},this.currentAttributes)}getCurrentTextAttributes(){const t={};for(const n in this.currentAttributes){const r=this.currentAttributes[n];r!==!1&&dd(n)&&(t[n]=r)}return t}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(t){var n;const r=this.document.locationRangeFromRange(t);return(n=this.delegate)===null||n===void 0?void 0:n.compositionDidRequestChangingSelectionToLocationRange(r)}getSelectedRange(){const t=this.getLocationRange();if(t)return this.document.rangeFromLocationRange(t)}setSelectedRange(t){const n=this.document.locationRangeFromRange(t);return this.getSelectionManager().setLocationRange(n)}getPosition(){const t=this.getLocationRange();if(t)return this.document.positionFromLocation(t[0])}getLocationRange(t){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(t)||et({index:0,offset:0})}withTargetLocationRange(t,n){let r;this.targetLocationRange=t;try{r=n()}finally{this.targetLocationRange=null}return r}withTargetRange(t,n){const r=this.document.locationRangeFromRange(t);return this.withTargetLocationRange(r,n)}withTargetDOMRange(t,n){const r=this.createLocationRangeFromDOMRange(t,{strict:!1});return this.withTargetLocationRange(r,n)}getExpandedRangeInDirection(t){let{length:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[r,o]=Array.from(this.getSelectedRange());return t==="backward"?n?r-=n:r=this.translateUTF16PositionFromOffset(r,-1):n?o+=n:o=this.translateUTF16PositionFromOffset(o,1),et([r,o])}shouldManageMovingCursorInDirection(t){if(this.editingAttachment)return!0;const n=this.getExpandedRangeInDirection(t);return this.getAttachmentAtRange(n)!=null}moveCursorInDirection(t){let n,r;if(this.editingAttachment)r=this.document.getRangeOfAttachment(this.editingAttachment);else{const o=this.getSelectedRange();r=this.getExpandedRangeInDirection(t),n=!Ua(o,r)}if(t==="backward"?this.setSelectedRange(r[0]):this.setSelectedRange(r[1]),n){const o=this.getAttachmentAtRange(r);if(o)return this.editAttachment(o)}}expandSelectionInDirection(t){let{length:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getExpandedRangeInDirection(t,{length:n});return this.setSelectedRange(r)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(t){const n=this.getPosition(),r=this.document.getRangeOfCommonAttributeAtPosition(t,n);return this.setSelectedRange(r)}selectionContainsAttachments(){var t;return((t=this.getSelectedAttachments())===null||t===void 0?void 0:t.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(t){const n=this.document.locationFromPosition(t);if(n)return this.locationIsCursorTarget(n)}positionIsBlockBreak(t){var n;return(n=this.document.getPieceAtPosition(t))===null||n===void 0?void 0:n.isBlockBreak()}getSelectedDocument(){const t=this.getSelectedRange();if(t)return this.document.getDocumentAtRange(t)}getSelectedAttachments(){var t;return(t=this.getSelectedDocument())===null||t===void 0?void 0:t.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const t=this.document.getAttachments(),{added:n,removed:r}=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const u=[],d=[],f=new Set;o.forEach(b=>{f.add(b)});const m=new Set;return a.forEach(b=>{m.add(b),f.has(b)||u.push(b)}),o.forEach(b=>{m.has(b)||d.push(b)}),{added:u,removed:d}}(this.attachments,t);return this.attachments=t,Array.from(r).forEach(o=>{var a,u;o.delegate=null,(a=this.delegate)===null||a===void 0||(u=a.compositionDidRemoveAttachment)===null||u===void 0||u.call(a,o)}),(()=>{const o=[];return Array.from(n).forEach(a=>{var u,d;a.delegate=this,o.push((u=this.delegate)===null||u===void 0||(d=u.compositionDidAddAttachment)===null||d===void 0?void 0:d.call(u,a))}),o})()}attachmentDidChangeAttributes(t){var n,r;return this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidEditAttachment)===null||r===void 0?void 0:r.call(n,t)}attachmentDidChangePreviewURL(t){var n,r;return this.revision++,(n=this.delegate)===null||n===void 0||(r=n.compositionDidChangeAttachmentPreviewURL)===null||r===void 0?void 0:r.call(n,t)}editAttachment(t,n){var r,o;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,(r=this.delegate)===null||r===void 0||(o=r.compositionDidStartEditingAttachment)===null||o===void 0?void 0:o.call(r,this.editingAttachment,n)}stopEditingAttachment(){var t,n;this.editingAttachment&&((t=this.delegate)===null||t===void 0||(n=t.compositionDidStopEditingAttachment)===null||n===void 0||n.call(t,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(t,n){return this.setDocument(this.document.updateAttributesForAttachment(t,n))}removeAttributeForAttachment(t,n){return this.setDocument(this.document.removeAttributeForAttachment(t,n))}breakFormattedBlock(t){let{document:n}=t;const{block:r}=t;let o=t.startPosition,a=[o-1,o];r.getBlockBreakPosition()===t.startLocation.offset?(r.breaksOnReturn()&&t.nextCharacter===`
`?o+=1:n=n.removeTextAtRange(a),a=[o,o]):t.nextCharacter===`
`?t.previousCharacter===`
`?a=[o-1,o+1]:(a=[o,o+1],o+=1):t.startLocation.offset-1!=0&&(o+=1);const u=new De([r.removeLastAttribute().copyWithoutText()]);return this.setDocument(n.insertDocumentAtRange(u,a)),this.setSelection(o)}getPreviousBlock(){const t=this.getLocationRange();if(t){const{index:n}=t[0];if(n>0)return this.document.getBlockAtIndex(n-1)}}getBlock(){const t=this.getLocationRange();if(t)return this.document.getBlockAtIndex(t[0].index)}getAttachmentAtRange(t){const n=this.document.getDocumentAtRange(t);if(n.toString()==="".concat("￼",`
`))return n.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var t,n;return(t=this.delegate)===null||t===void 0||(n=t.compositionDidChangeCurrentAttributes)===null||n===void 0?void 0:n.call(t,this.currentAttributes)}notifyDelegateOfInsertionAtRange(t){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionDidPerformInsertionAtRange)===null||r===void 0?void 0:r.call(n,t)}translateUTF16PositionFromOffset(t,n){const r=this.document.toUTF16String(),o=r.offsetFromUCS2Offset(t);return r.offsetToUCS2Offset(o+n)}}Fn.proxyMethod("getSelectionManager().getPointRange"),Fn.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),Fn.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),Fn.proxyMethod("getSelectionManager().locationIsCursorTarget"),Fn.proxyMethod("getSelectionManager().selectionIsExpanded"),Fn.proxyMethod("delegate?.getSelectionManager");class gd extends Bt{constructor(t){super(...arguments),this.composition=t,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(t){let{context:n,consolidatable:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.undoEntries.slice(-1)[0];if(!r||!bE(o,t,n)){const a=this.createEntry({description:t,context:n});this.undoEntries.push(a),this.redoEntries=[]}}undo(){const t=this.undoEntries.pop();if(t){const n=this.createEntry(t);return this.redoEntries.push(n),this.composition.loadSnapshot(t.snapshot)}}redo(){const t=this.redoEntries.pop();if(t){const n=this.createEntry(t);return this.undoEntries.push(n),this.composition.loadSnapshot(t.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:t,context:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:t==null?void 0:t.toString(),context:JSON.stringify(n),snapshot:this.composition.getSnapshot()}}}const bE=(e,t,n)=>(e==null?void 0:e.description)===(t==null?void 0:t.toString())&&(e==null?void 0:e.context)===JSON.stringify(n),Xu="attachmentGallery";class gy{constructor(t){this.document=t.document,this.selectedRange=t.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(t=>this.document=this.document.removeAttributeAtRange(Xu,t))}applyBlockAttribute(){let t=0;this.findRangesOfPieces().forEach(n=>{n[1]-n[0]>1&&(n[0]+=t,n[1]+=t,this.document.getCharacterAtPosition(n[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(n[1]),n[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),n[1]++,t++),n[0]!==0&&this.document.getCharacterAtPosition(n[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(n[0]),n[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),n[0]++,t++),this.document=this.document.applyBlockAttributeAtRange(Xu,!0,n))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(Xu)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const my=function(e){const t=new gy(e);return t.perform(),t.getSnapshot()},AE=[my];class py{constructor(t,n,r){this.insertFiles=this.insertFiles.bind(this),this.composition=t,this.selectionManager=n,this.element=r,this.undoManager=new gd(this.composition),this.filters=AE.slice(0)}loadDocument(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})}loadHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=Zo.parse(t,{referenceElement:this.element}).getDocument();return this.loadDocument(n)}loadJSON(t){let{document:n,selectedRange:r}=t;return n=De.fromJSON(n),this.loadSnapshot({document:n,selectedRange:r})}loadSnapshot(t){return this.undoManager=new gd(this.composition),this.composition.loadSnapshot(t)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(t){return this.composition.deleteInDirection(t)}insertAttachment(t){return this.composition.insertAttachment(t)}insertAttachments(t){return this.composition.insertAttachments(t)}insertDocument(t){return this.composition.insertDocument(t)}insertFile(t){return this.composition.insertFile(t)}insertFiles(t){return this.composition.insertFiles(t)}insertHTML(t){return this.composition.insertHTML(t)}insertString(t){return this.composition.insertString(t)}insertText(t){return this.composition.insertText(t)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(t){const n=this.getDocument().locationRangeFromRange([t,t+1]);return this.selectionManager.getClientRectAtLocationRange(n)}expandSelectionInDirection(t){return this.composition.expandSelectionInDirection(t)}moveCursorInDirection(t){return this.composition.moveCursorInDirection(t)}setSelectedRange(t){return this.composition.setSelectedRange(t)}activateAttribute(t){let n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(t,n)}attributeIsActive(t){return this.composition.hasCurrentAttribute(t)}canActivateAttribute(t){return this.composition.canSetCurrentAttribute(t)}deactivateAttribute(t){return this.composition.removeCurrentAttribute(t)}setHTMLAtributeAtPosition(t,n,r){this.composition.setHTMLAtributeAtPosition(t,n,r)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(t){let{context:n,consolidatable:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(t,{context:n,consolidatable:r})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class vy{constructor(t){this.element=t}findLocationFromContainerAndOffset(t,n){let{strict:r}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},o=0,a=!1;const u={index:0,offset:0},d=this.findAttachmentElementParentForNode(t);d&&(t=d.parentNode,n=_u(d));const f=Va(this.element,{usingFilter:yy});for(;f.nextNode();){const m=f.currentNode;if(m===t&&Eo(t)){Ai(m)||(u.offset+=n);break}if(m.parentNode===t){if(o++===n)break}else if(!yr(t,m)&&o>0)break;Dm(m,{strict:r})?(a&&u.index++,u.offset=0,a=!0):u.offset+=Yu(m)}return u}findContainerAndOffsetFromLocation(t){let n,r;if(t.index===0&&t.offset===0){for(n=this.element,r=0;n.firstChild;)if(n=n.firstChild,Vu(n)){r=1;break}return[n,r]}let[o,a]=this.findNodeAndOffsetFromLocation(t);if(o){if(Eo(o))Yu(o)===0?(n=o.parentNode.parentNode,r=_u(o.parentNode),Ai(o,{name:"right"})&&r++):(n=o,r=t.offset-a);else{if(n=o.parentNode,!Dm(o.previousSibling)&&!Vu(n))for(;o===n.lastChild&&(o=n,n=n.parentNode,!Vu(n)););r=_u(o),t.offset!==0&&r++}return[n,r]}}findNodeAndOffsetFromLocation(t){let n,r,o=0;for(const a of this.getSignificantNodesForIndex(t.index)){const u=Yu(a);if(t.offset<=o+u)if(Eo(a)){if(n=a,r=o,t.offset===r&&Ai(n))break}else n||(n=a,r=o);if(o+=u,o>t.offset)break}return[n,r]}findAttachmentElementParentForNode(t){for(;t&&t!==this.element;){if(Cr(t))return t;t=t.parentNode}}getSignificantNodesForIndex(t){const n=[],r=Va(this.element,{usingFilter:xE});let o=!1;for(;r.nextNode();){const u=r.currentNode;var a;if(bi(u)){if(a!=null?a++:a=0,a===t)o=!0;else if(o)break}else o&&n.push(u)}return n}}const Yu=function(e){return e.nodeType===Node.TEXT_NODE?Ai(e)?0:e.textContent.length:Yt(e)==="br"||Cr(e)?1:0},xE=function(e){return CE(e)===NodeFilter.FILTER_ACCEPT?yy(e):NodeFilter.FILTER_REJECT},CE=function(e){return J0(e)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},yy=function(e){return Cr(e.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class by{createDOMRangeFromPoint(t){let n,{x:r,y:o}=t;if(document.caretPositionFromPoint){const{offsetNode:a,offset:u}=document.caretPositionFromPoint(r,o);return n=document.createRange(),n.setStart(a,u),n}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(r,o);if(document.body.createTextRange){const a=Ro();try{const u=document.body.createTextRange();u.moveToPoint(r,o),u.select()}catch{}return n=Ro(),ny(a),n}}getClientRectsForDOMRange(t){const n=Array.from(t.getClientRects());return[n[0],n[n.length-1]]}}class gr extends Bt{constructor(t){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=t,this.locationMapper=new vy(this.element),this.pointMapper=new by,this.lockCount=0,yt("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t.strict===!1?this.createLocationRangeFromDOMRange(Ro()):t.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(t){if(this.lockedLocationRange)return;t=et(t);const n=this.createDOMRangeFromLocationRange(t);n&&(ny(n),this.updateCurrentLocationRange(t))}setLocationRangeFromPointRange(t){t=et(t);const n=this.getLocationAtPoint(t[0]),r=this.getLocationAtPoint(t[1]);this.setLocationRange([n,r])}getClientRectAtLocationRange(t){const n=this.createDOMRangeFromLocationRange(t);if(n)return this.getClientRectsForDOMRange(n)[1]}locationIsCursorTarget(t){const n=Array.from(this.findNodeAndOffsetFromLocation(t))[0];return Ai(n)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:t}=this;if(this.lockedLocationRange=null,t!=null)return this.setLocationRange(t)}}clearSelection(){var t;return(t=ey())===null||t===void 0?void 0:t.removeAllRanges()}selectionIsCollapsed(){var t;return((t=Ro())===null||t===void 0?void 0:t.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(t,n){if(t==null||!this.domRangeWithinElement(t))return;const r=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,n);if(!r)return;const o=t.collapsed?void 0:this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,n);return et([r,o])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let t;this.paused=!0;const n=()=>{if(this.paused=!1,clearTimeout(r),Array.from(t).forEach(o=>{o.destroy()}),yr(document,this.element))return this.selectionDidChange()},r=setTimeout(n,200);t=["mousemove","keydown"].map(o=>yt(o,{onElement:document,withCallback:n}))}selectionDidChange(){if(!this.paused&&!Lh(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(t){var n,r;if((t??(t=this.createLocationRangeFromDOMRange(Ro())))&&!Ua(t,this.currentLocationRange))return this.currentLocationRange=t,(n=this.delegate)===null||n===void 0||(r=n.locationRangeDidChange)===null||r===void 0?void 0:r.call(n,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(t){const n=this.findContainerAndOffsetFromLocation(t[0]),r=bn(t)?n:this.findContainerAndOffsetFromLocation(t[1])||n;if(n!=null&&r!=null){const o=document.createRange();return o.setStart(...Array.from(n||[])),o.setEnd(...Array.from(r||[])),o}}getLocationAtPoint(t){const n=this.createDOMRangeFromPoint(t);var r;if(n)return(r=this.createLocationRangeFromDOMRange(n))===null||r===void 0?void 0:r[0]}domRangeWithinElement(t){return t.collapsed?yr(this.element,t.startContainer):yr(this.element,t.startContainer)&&yr(this.element,t.endContainer)}}gr.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),gr.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),gr.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),gr.proxyMethod("pointMapper.createDOMRangeFromPoint"),gr.proxyMethod("pointMapper.getClientRectsForDOMRange");var Ay=Object.freeze({__proto__:null,Attachment:Fi,AttachmentManager:hy,AttachmentPiece:Li,Block:rn,Composition:Fn,Document:De,Editor:py,HTMLParser:Zo,HTMLSanitizer:Al,LineBreakInsertion:fy,LocationMapper:vy,ManagedAttachment:Et,Piece:Mr,PointMapper:by,SelectionManager:gr,SplittableList:Ha,StringPiece:jh,Text:Ve,UndoManager:gd}),SE=Object.freeze({__proto__:null,ObjectView:Nr,AttachmentView:Nh,BlockView:sy,DocumentView:xl,PieceView:iy,PreviewableAttachmentView:ry,TextView:oy});const{lang:Zu,css:dr,keyNames:kE}=cs,tc=function(e){return function(){const t=e.apply(this,arguments);t.do(),this.undos||(this.undos=[]),this.undos.push(t.undo)}};class xy extends Bt{constructor(t,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),de(this,"makeElementMutable",tc(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),de(this,"addToolbar",tc(()=>{const a=J({tagName:"div",className:dr.attachmentToolbar,data:{trixMutable:!0},childNodes:J({tagName:"div",className:"trix-button-row",childNodes:J({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:J({tagName:"button",className:"trix-button trix-button--remove",textContent:Zu.remove,attributes:{title:Zu.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&a.appendChild(J({tagName:"div",className:dr.attachmentMetadataContainer,childNodes:J({tagName:"span",className:dr.attachmentMetadata,childNodes:[J({tagName:"span",className:dr.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),J({tagName:"span",className:dr.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),yt("click",{onElement:a,withCallback:this.didClickToolbar}),yt("click",{onElement:a,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),ko("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:a,attachment:this.attachment}}),{do:()=>this.element.appendChild(a),undo:()=>Zn(a)}})),de(this,"installCaptionEditor",tc(()=>{const a=J({tagName:"textarea",className:dr.attachmentCaptionEditor,attributes:{placeholder:Zu.captionPlaceholder},data:{trixMutable:!0}});a.value=this.attachmentPiece.getCaption();const u=a.cloneNode();u.classList.add("trix-autoresize-clone"),u.tabIndex=-1;const d=function(){u.value=a.value,a.style.height=u.scrollHeight+"px"};yt("input",{onElement:a,withCallback:d}),yt("input",{onElement:a,withCallback:this.didInputCaption}),yt("keydown",{onElement:a,withCallback:this.didKeyDownCaption}),yt("change",{onElement:a,withCallback:this.didChangeCaption}),yt("blur",{onElement:a,withCallback:this.didBlurCaption});const f=this.element.querySelector("figcaption"),m=f.cloneNode();return{do:()=>{if(f.style.display="none",m.appendChild(a),m.appendChild(u),m.classList.add("".concat(dr.attachmentCaption,"--editing")),f.parentElement.insertBefore(m,f),d(),this.options.editCaption)return Ih(()=>a.focus())},undo(){Zn(m),f.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=t,this.element=n,this.container=r,this.options=o,this.attachment=this.attachmentPiece.attachment,Yt(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var t;let n=this.undos.pop();for(this.savePendingCaption();n;)n(),n=this.undos.pop();(t=this.delegate)===null||t===void 0||t.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const a=this.pendingCaption;var t,n,r,o;this.pendingCaption=null,a?(t=this.delegate)===null||t===void 0||(n=t.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||n===void 0||n.call(t,{caption:a},this.attachment):(r=this.delegate)===null||r===void 0||(o=r.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||o===void 0||o.call(r,"caption",this.attachment)}}didClickToolbar(t){return t.preventDefault(),t.stopPropagation()}didClickActionButton(t){var n;if(t.target.getAttribute("data-trix-action")==="remove")return(n=this.delegate)===null||n===void 0?void 0:n.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(t){var n,r;if(kE[t.keyCode]==="return")return t.preventDefault(),this.savePendingCaption(),(n=this.delegate)===null||n===void 0||(r=n.attachmentEditorDidRequestDeselectingAttachment)===null||r===void 0?void 0:r.call(n,this.attachment)}didInputCaption(t){this.pendingCaption=t.target.value.replace(/\s/g," ").trim()}didChangeCaption(t){return this.savePendingCaption()}didBlurCaption(t){return this.savePendingCaption()}}class Cy extends Bt{constructor(t,n){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=t,this.composition=n,this.documentView=new xl(this.composition.document,{element:this.element}),yt("focus",{onElement:this.element,withCallback:this.didFocus}),yt("blur",{onElement:this.element,withCallback:this.didBlur}),yt("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),yt("mousedown",{onElement:this.element,matchingSelector:xr,withCallback:this.didClickAttachment}),yt("click",{onElement:this.element,matchingSelector:"a".concat(xr),preventDefault:!0})}didFocus(t){var n;const r=()=>{var o,a;if(!this.focused)return this.focused=!0,(o=this.delegate)===null||o===void 0||(a=o.compositionControllerDidFocus)===null||a===void 0?void 0:a.call(o)};return((n=this.blurPromise)===null||n===void 0?void 0:n.then(r))||r()}didBlur(t){this.blurPromise=new Promise(n=>Ih(()=>{var r,o;return Lh(this.element)||(this.focused=null,(r=this.delegate)===null||r===void 0||(o=r.compositionControllerDidBlur)===null||o===void 0||o.call(r)),this.blurPromise=null,n()}))}didClickAttachment(t,n){var r,o;const a=this.findAttachmentForElement(n),u=!!Yn(t.target,{matchingSelector:"figcaption"});return(r=this.delegate)===null||r===void 0||(o=r.compositionControllerDidSelectAttachment)===null||o===void 0?void 0:o.call(r,a,{editCaption:u})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var t,n,r,o,a,u;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((r=this.delegate)===null||r===void 0||(o=r.compositionControllerWillSyncDocumentView)===null||o===void 0||o.call(r),this.documentView.sync(),(a=this.delegate)===null||a===void 0||(u=a.compositionControllerDidSyncDocumentView)===null||u===void 0||u.call(a)),(t=this.delegate)===null||t===void 0||(n=t.compositionControllerDidRender)===null||n===void 0?void 0:n.call(t)}rerenderViewForObject(t){return this.invalidateViewForObject(t),this.render()}invalidateViewForObject(t){return this.documentView.invalidateViewForObject(t)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(t,n){var r;if(((r=this.attachmentEditor)===null||r===void 0?void 0:r.attachment)===t)return;const o=this.documentView.findElementForObject(t);if(!o)return;this.uninstallAttachmentEditor();const a=this.composition.document.getAttachmentPieceForAttachment(t);this.attachmentEditor=new xy(a,o,this.element,n),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var t;return(t=this.attachmentEditor)===null||t===void 0?void 0:t.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(t,n){var r,o;return(r=this.delegate)===null||r===void 0||(o=r.compositionControllerWillUpdateAttachment)===null||o===void 0||o.call(r,n),this.composition.updateAttributesForAttachment(t,n)}attachmentEditorDidRequestRemovingAttributeForAttachment(t,n){var r,o;return(r=this.delegate)===null||r===void 0||(o=r.compositionControllerWillUpdateAttachment)===null||o===void 0||o.call(r,n),this.composition.removeAttributeForAttachment(t,n)}attachmentEditorDidRequestRemovalOfAttachment(t){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionControllerDidRequestRemovalOfAttachment)===null||r===void 0?void 0:r.call(n,t)}attachmentEditorDidRequestDeselectingAttachment(t){var n,r;return(n=this.delegate)===null||n===void 0||(r=n.compositionControllerDidRequestDeselectingAttachment)===null||r===void 0?void 0:r.call(n,t)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))}}class Sy extends Bt{}const ky="data-trix-mutable",wE="[".concat(ky,"]"),EE={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class wy extends Bt{constructor(t){super(t),this.didMutate=this.didMutate.bind(this),this.element=t,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,EE)}stop(){return this.observer.disconnect()}didMutate(t){var n,r;if(this.mutations.push(...Array.from(this.findSignificantMutations(t)||[])),this.mutations.length)return(n=this.delegate)===null||n===void 0||(r=n.elementDidMutate)===null||r===void 0||r.call(n,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(t){return t.filter(n=>this.mutationIsSignificant(n))}mutationIsSignificant(t){if(this.nodeIsMutable(t.target))return!1;for(const n of Array.from(this.nodesModifiedByMutation(t)))if(this.nodeIsSignificant(n))return!0;return!1}nodeIsSignificant(t){return t!==this.element&&!this.nodeIsMutable(t)&&!J0(t)}nodeIsMutable(t){return Yn(t,{matchingSelector:wE})}nodesModifiedByMutation(t){const n=[];switch(t.type){case"attributes":t.attributeName!==ky&&n.push(t.target);break;case"characterData":n.push(t.target.parentNode),n.push(t.target);break;case"childList":n.push(...Array.from(t.addedNodes||[])),n.push(...Array.from(t.removedNodes||[]))}return n}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:t,deletions:n}=this.getTextChangesFromCharacterData(),r=this.getTextChangesFromChildList();Array.from(r.additions).forEach(d=>{Array.from(t).includes(d)||t.push(d)}),n.push(...Array.from(r.deletions||[]));const o={},a=t.join("");a&&(o.textAdded=a);const u=n.join("");return u&&(o.textDeleted=u),o}getMutationsByType(t){return Array.from(this.mutations).filter(n=>n.type===t)}getTextChangesFromChildList(){let t,n;const r=[],o=[];return Array.from(this.getMutationsByType("childList")).forEach(a=>{r.push(...Array.from(a.addedNodes||[])),o.push(...Array.from(a.removedNodes||[]))}),r.length===0&&o.length===1&&bi(o[0])?(t=[],n=[`
`]):(t=md(r),n=md(o)),{additions:t.filter((a,u)=>a!==n[u]).map(fo),deletions:n.filter((a,u)=>a!==t[u]).map(fo)}}getTextChangesFromCharacterData(){let t,n;const r=this.getMutationsByType("characterData");if(r.length){const o=r[0],a=r[r.length-1],u=function(d,f){let m,b;return d=Yo.box(d),(f=Yo.box(f)).length<d.length?[b,m]=Nm(d,f):[m,b]=Nm(f,d),{added:m,removed:b}}(fo(o.oldValue),fo(a.target.data));t=u.added,n=u.removed}return{additions:t?[t]:[],deletions:n?[n]:[]}}}const md=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=[];for(const n of Array.from(e))switch(n.nodeType){case Node.TEXT_NODE:t.push(n.data);break;case Node.ELEMENT_NODE:Yt(n)==="br"?t.push(`
`):t.push(...Array.from(md(n.childNodes)||[]))}return t};class Ey extends $a{constructor(t){super(...arguments),this.file=t}perform(t){const n=new FileReader;return n.onerror=()=>t(!1),n.onload=()=>{n.onerror=null;try{n.abort()}catch{}return t(!0,this.file)},n.readAsArrayBuffer(this.file)}}class RE{constructor(t){this.element=t}shouldIgnore(t){return!!us.samsungAndroid&&(this.previousEvent=this.event,this.event=t,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&TE(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var t;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((t=this.event.data)===null||t===void 0?void 0:t.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var t,n;return((t=this.previousEvent)===null||t===void 0?void 0:t.type)==="keydown"&&((n=this.previousEvent)===null||n===void 0?void 0:n.key)==="Unidentified"}}const TE=(e,t)=>Gm(e)===Gm(t),LE=new RegExp("(".concat("￼","|").concat(bl,"|").concat(jn,"|\\s)+"),"g"),Gm=e=>e.replace(LE," ").trim();class Cl extends Bt{constructor(t){super(...arguments),this.element=t,this.mutationObserver=new wy(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new RE(this.element);for(const n in this.constructor.events)yt(n,{onElement:this.element,withCallback:this.handlerFor(n)})}elementDidMutate(t){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var t,n;return(t=this.delegate)===null||t===void 0||(n=t.inputControllerDidRequestRender)===null||n===void 0?void 0:n.call(t)}requestReparse(){var t,n;return(t=this.delegate)===null||t===void 0||(n=t.inputControllerDidRequestReparse)===null||n===void 0||n.call(t),this.requestRender()}attachFiles(t){const n=Array.from(t).map(r=>new Ey(r));return Promise.all(n).then(r=>{this.handleInput(function(){var o,a;return(o=this.delegate)===null||o===void 0||o.inputControllerWillAttachFiles(),(a=this.responder)===null||a===void 0||a.insertFiles(r),this.requestRender()})})}handlerFor(t){return n=>{n.defaultPrevented||this.handleInput(()=>{if(!Lh(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(n))return;this.eventName=t,this.constructor.events[t].call(this,n)}})}}handleInput(t){try{var n;(n=this.delegate)===null||n===void 0||n.inputControllerWillHandleInput(),t.call(this)}finally{var r;(r=this.delegate)===null||r===void 0||r.inputControllerDidHandleInput()}}createLinkHTML(t,n){const r=document.createElement("a");return r.href=t,r.textContent=n||t,r.outerHTML}}var ec;de(Cl,"events",{});const{browser:DE,keyNames:Ry}=cs;let PE=0;class mn extends Cl{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const n in t){const r=t[n];this.inputSummary[n]=r}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),Ir.reset()}elementDidMutate(t){var n,r;return this.isComposing()?(n=this.delegate)===null||n===void 0||(r=n.inputControllerDidAllowUnhandledInput)===null||r===void 0?void 0:r.call(n):this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(t){let{textAdded:n,textDeleted:r}=t;if(this.inputSummary.preferDocument)return!0;const o=n!=null?n===this.inputSummary.textAdded:!this.inputSummary.textAdded,a=r!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,u=[`
`,` 
`].includes(n)&&!o,d=r===`
`&&!a;if(u&&!d||d&&!u){const m=this.getSelectedRange();if(m){var f;const b=u?n.replace(/\n$/,"").length||-1:(n==null?void 0:n.length)||1;if((f=this.responder)!==null&&f!==void 0&&f.positionIsBlockBreak(m[1]+b))return!0}}return o&&a}mutationIsSignificant(t){var n;const r=Object.keys(t).length>0,o=((n=this.compositionInput)===null||n===void 0?void 0:n.getEndData())==="";return r||!o}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new In(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(t,n){var r;return((r=this.responder)===null||r===void 0?void 0:r.deleteInDirection(t))!==!1?this.setInputSummary({didDelete:!0}):n?(n.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(t){var n;if(!function(o){if(o==null||!o.setData)return!1;for(const a in Om){const u=Om[a];try{if(o.setData(a,u),!o.getData(a)===u)return!1}catch{return!1}}return!0}(t))return;const r=(n=this.responder)===null||n===void 0?void 0:n.getSelectedDocument().toSerializableDocument();return t.setData("application/x-trix-document",JSON.stringify(r)),t.setData("text/html",xl.render(r).innerHTML),t.setData("text/plain",r.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(t){const n={};return Array.from((t==null?void 0:t.types)||[]).forEach(r=>{n[r]=!0}),n.Files||n["application/x-trix-document"]||n["text/html"]||n["text/plain"]}getPastedHTMLUsingHiddenElement(t){const n=this.getSelectedRange(),r={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},o=J({style:r,tagName:"div",editable:!0});return document.body.appendChild(o),o.focus(),requestAnimationFrame(()=>{const a=o.innerHTML;return Zn(o),this.setSelectedRange(n),t(a)})}}de(mn,"events",{keydown(e){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const t=Ry[e.keyCode];if(t){var n;let o=this.keys;["ctrl","alt","shift","meta"].forEach(a=>{var u;e["".concat(a,"Key")]&&(a==="ctrl"&&(a="control"),o=(u=o)===null||u===void 0?void 0:u[a])}),((n=o)===null||n===void 0?void 0:n[t])!=null&&(this.setInputSummary({keyName:t}),Ir.reset(),o[t].call(this,e))}if(Y0(e)){const o=String.fromCharCode(e.keyCode).toLowerCase();if(o){var r;const a=["alt","shift"].map(u=>{if(e["".concat(u,"Key")])return u}).filter(u=>u);a.push(o),(r=this.delegate)!==null&&r!==void 0&&r.inputControllerDidReceiveKeyboardCommand(a)&&e.preventDefault()}}},keypress(e){if(this.inputSummary.eventName!=null||e.metaKey||e.ctrlKey&&!e.altKey)return;const t=BE(e);var n,r;return t?((n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),(r=this.responder)===null||r===void 0||r.insertString(t),this.setInputSummary({textAdded:t,didDelete:this.selectionIsExpanded()})):void 0},textInput(e){const{data:t}=e,{textAdded:n}=this.inputSummary;if(n&&n!==t&&n.toUpperCase()===t){var r;const o=this.getSelectedRange();return this.setSelectedRange([o[0],o[1]+n.length]),(r=this.responder)===null||r===void 0||r.insertString(t),this.setInputSummary({textAdded:t}),this.setSelectedRange(o)}},dragenter(e){e.preventDefault()},dragstart(e){var t,n;return this.serializeSelectionToDataTransfer(e.dataTransfer),this.draggedRange=this.getSelectedRange(),(t=this.delegate)===null||t===void 0||(n=t.inputControllerDidStartDrag)===null||n===void 0?void 0:n.call(t)},dragover(e){if(this.draggedRange||this.canAcceptDataTransfer(e.dataTransfer)){e.preventDefault();const r={x:e.clientX,y:e.clientY};var t,n;if(!Bi(r,this.draggingPoint))return this.draggingPoint=r,(t=this.delegate)===null||t===void 0||(n=t.inputControllerDidReceiveDragOverPoint)===null||n===void 0?void 0:n.call(t,this.draggingPoint)}},dragend(e){var t,n;(t=this.delegate)===null||t===void 0||(n=t.inputControllerDidCancelDrag)===null||n===void 0||n.call(t),this.draggedRange=null,this.draggingPoint=null},drop(e){var t,n;e.preventDefault();const r=(t=e.dataTransfer)===null||t===void 0?void 0:t.files,o=e.dataTransfer.getData("application/x-trix-document"),a={x:e.clientX,y:e.clientY};if((n=this.responder)===null||n===void 0||n.setLocationRangeFromPointRange(a),r!=null&&r.length)this.attachFiles(r);else if(this.draggedRange){var u,d;(u=this.delegate)===null||u===void 0||u.inputControllerWillMoveText(),(d=this.responder)===null||d===void 0||d.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(o){var f;const m=De.fromJSONString(o);(f=this.responder)===null||f===void 0||f.insertDocument(m),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(e){var t,n;if((t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(e.clipboardData)&&e.preventDefault(),(n=this.delegate)===null||n===void 0||n.inputControllerWillCutText(),this.deleteInDirection("backward"),e.defaultPrevented))return this.requestRender()},copy(e){var t;(t=this.responder)!==null&&t!==void 0&&t.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(e.clipboardData)&&e.preventDefault()},paste(e){const t=e.clipboardData||e.testClipboardData,n={clipboard:t};if(!t||FE(e))return void this.getPastedHTMLUsingHiddenElement(k=>{var D,O,I;return n.type="text/html",n.html=k,(D=this.delegate)===null||D===void 0||D.inputControllerWillPaste(n),(O=this.responder)===null||O===void 0||O.insertHTML(n.html),this.requestRender(),(I=this.delegate)===null||I===void 0?void 0:I.inputControllerDidPaste(n)});const r=t.getData("URL"),o=t.getData("text/html"),a=t.getData("public.url-name");if(r){var u,d,f;let k;n.type="text/html",k=a?Bh(a).trim():r,n.html=this.createLinkHTML(r,k),(u=this.delegate)===null||u===void 0||u.inputControllerWillPaste(n),this.setInputSummary({textAdded:k,didDelete:this.selectionIsExpanded()}),(d=this.responder)===null||d===void 0||d.insertHTML(n.html),this.requestRender(),(f=this.delegate)===null||f===void 0||f.inputControllerDidPaste(n)}else if(X0(t)){var m,b,v;n.type="text/plain",n.string=t.getData("text/plain"),(m=this.delegate)===null||m===void 0||m.inputControllerWillPaste(n),this.setInputSummary({textAdded:n.string,didDelete:this.selectionIsExpanded()}),(b=this.responder)===null||b===void 0||b.insertString(n.string),this.requestRender(),(v=this.delegate)===null||v===void 0||v.inputControllerDidPaste(n)}else if(o){var x,T,R;n.type="text/html",n.html=o,(x=this.delegate)===null||x===void 0||x.inputControllerWillPaste(n),(T=this.responder)===null||T===void 0||T.insertHTML(n.html),this.requestRender(),(R=this.delegate)===null||R===void 0||R.inputControllerDidPaste(n)}else if(Array.from(t.types).includes("Files")){var w,j;const k=(w=t.items)===null||w===void 0||(w=w[0])===null||w===void 0||(j=w.getAsFile)===null||j===void 0?void 0:j.call(w);if(k){var C,A,S;const D=IE(k);!k.name&&D&&(k.name="pasted-file-".concat(++PE,".").concat(D)),n.type="File",n.file=k,(C=this.delegate)===null||C===void 0||C.inputControllerWillAttachFiles(),(A=this.responder)===null||A===void 0||A.insertFile(n.file),this.requestRender(),(S=this.delegate)===null||S===void 0||S.inputControllerDidPaste(n)}}e.preventDefault()},compositionstart(e){return this.getCompositionInput().start(e.data)},compositionupdate(e){return this.getCompositionInput().update(e.data)},compositionend(e){return this.getCompositionInput().end(e.data)},beforeinput(e){this.inputSummary.didInput=!0},input(e){return this.inputSummary.didInput=!0,e.stopPropagation()}}),de(mn,"keys",{backspace(e){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",e)},delete(e){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",e)},return(e){var t,n;return this.setInputSummary({preferDocument:!0}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0?void 0:n.insertLineBreak()},tab(e){var t,n;(t=this.responder)!==null&&t!==void 0&&t.canIncreaseNestingLevel()&&((n=this.responder)===null||n===void 0||n.increaseNestingLevel(),this.requestRender(),e.preventDefault())},left(e){var t;if(this.selectionIsInCursorTarget())return e.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},right(e){var t;if(this.selectionIsInCursorTarget())return e.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},control:{d(e){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",e)},h(e){var t;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",e)},o(e){var t,n;return e.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(e){var t,n;(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.insertString(`
`),this.requestRender(),e.preventDefault()},tab(e){var t,n;(t=this.responder)!==null&&t!==void 0&&t.canDecreaseNestingLevel()&&((n=this.responder)===null||n===void 0||n.decreaseNestingLevel(),this.requestRender(),e.preventDefault())},left(e){if(this.selectionIsInCursorTarget())return e.preventDefault(),this.expandSelectionInDirection("backward")},right(e){if(this.selectionIsInCursorTarget())return e.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(e){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}},meta:{backspace(e){var t;return this.setInputSummary({preferDocument:!1}),(t=this.delegate)===null||t===void 0?void 0:t.inputControllerWillPerformTyping()}}}),mn.proxyMethod("responder?.getSelectedRange"),mn.proxyMethod("responder?.setSelectedRange"),mn.proxyMethod("responder?.expandSelectionInDirection"),mn.proxyMethod("responder?.selectionIsInCursorTarget"),mn.proxyMethod("responder?.selectionIsExpanded");const IE=e=>{var t;return(t=e.type)===null||t===void 0||(t=t.match(/\/(\w+)$/))===null||t===void 0?void 0:t[1]},OE=!((ec=" ".codePointAt)===null||ec===void 0||!ec.call(" ",0)),BE=function(e){if(e.key&&OE&&e.key.codePointAt(0)===e.keyCode)return e.key;{let t;if(e.which===null?t=e.keyCode:e.which!==0&&e.charCode!==0&&(t=e.charCode),t!=null&&Ry[t]!=="escape")return Yo.fromCodepoints([t]).toString()}},FE=function(e){const t=e.clipboardData;if(t){if(t.types.includes("text/html")){for(const n of t.types){const r=/^CorePasteboardFlavorType/.test(n),o=/^dyn\./.test(n)&&t.getData(n);if(r||o)return!0}return!1}{const n=t.types.includes("com.apple.webarchive"),r=t.types.includes("com.apple.flat-rtfd");return n||r}}};class In extends Bt{constructor(t){super(...arguments),this.inputController=t,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(t){if(this.data.start=t,this.isSignificant()){var n,r;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((r=this.responder)===null||r===void 0||r.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange()}}update(t){if(this.data.update=t,this.isSignificant()){const n=this.selectPlaceholder();n&&(this.forgetPlaceholder(),this.range=n)}}end(t){return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),(r=this.responder)===null||r===void 0||r.setSelectedRange(this.range),(o=this.responder)===null||o===void 0||o.insertString(this.data.end),(a=this.responder)===null||a===void 0?void 0:a.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var n,r,o,a}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!DE.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var t,n;return((t=this.data.start)===null||t===void 0?void 0:t.length)===0&&((n=this.data.end)===null||n===void 0?void 0:n.length)>0&&this.range}}In.proxyMethod("inputController.setInputSummary"),In.proxyMethod("inputController.requestRender"),In.proxyMethod("inputController.requestReparse"),In.proxyMethod("responder?.selectionIsExpanded"),In.proxyMethod("responder?.insertPlaceholder"),In.proxyMethod("responder?.selectPlaceholder"),In.proxyMethod("responder?.forgetPlaceholder");class Lo extends Cl{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(t=this.delegate)===null||t===void 0||(n=t.inputControllerDidAllowUnhandledInput)===null||n===void 0?void 0:n.call(t):void 0:this.reparse();var t,n}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var t,n;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(n=this.delegate)===null||n===void 0||n.render(),(t=this.afterRender)===null||t===void 0||t.call(this),this.afterRender=null}reparse(){var t;return(t=this.delegate)===null||t===void 0?void 0:t.reparse()}insertString(){var t;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var o;return(o=this.responder)===null||o===void 0?void 0:o.insertString(n,r)})}toggleAttributeIfSupported(t){var n;if(cd().includes(t))return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var r;return(r=this.responder)===null||r===void 0?void 0:r.toggleCurrentAttribute(t)})}activateAttributeIfSupported(t,n){var r;if(cd().includes(t))return(r=this.delegate)===null||r===void 0||r.inputControllerWillPerformFormatting(t),this.withTargetDOMRange(function(){var o;return(o=this.responder)===null||o===void 0?void 0:o.setCurrentAttribute(t,n)})}deleteInDirection(t){let{recordUndoEntry:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var r;n&&((r=this.delegate)===null||r===void 0||r.inputControllerWillPerformTyping());const o=()=>{var u;return(u=this.responder)===null||u===void 0?void 0:u.deleteInDirection(t)},a=this.getTargetDOMRange({minLength:this.composing?1:2});return a?this.withTargetDOMRange(a,o):o()}withTargetDOMRange(t,n){var r;return typeof t=="function"&&(n=t,t=this.getTargetDOMRange()),t?(r=this.responder)===null||r===void 0?void 0:r.withTargetDOMRange(t,n.bind(this)):(Ir.reset(),n.call(this))}getTargetDOMRange(){var t,n;let{minLength:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const o=(t=(n=this.event).getTargetRanges)===null||t===void 0?void 0:t.call(n);if(o&&o.length){const a=NE(o[0]);if(r===0||a.toString().length>=r)return a}}withEvent(t,n){let r;this.event=t;try{r=n.call(this)}finally{this.event=null}return r}}de(Lo,"events",{keydown(e){if(Y0(e)){var t;const n=zE(e);(t=this.delegate)!==null&&t!==void 0&&t.inputControllerDidReceiveKeyboardCommand(n)&&e.preventDefault()}else{let n=e.key;e.altKey&&(n+="+Alt"),e.shiftKey&&(n+="+Shift");const r=this.constructor.keys[n];if(r)return this.withEvent(e,r)}},paste(e){var t;let n;const r=(t=e.clipboardData)===null||t===void 0?void 0:t.getData("URL");return Ty(e)?(e.preventDefault(),this.attachFiles(e.clipboardData.files)):jE(e)?(e.preventDefault(),n={type:"text/plain",string:e.clipboardData.getData("text/plain")},(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(n),(a=this.responder)===null||a===void 0||a.insertString(n.string),this.render(),(u=this.delegate)===null||u===void 0?void 0:u.inputControllerDidPaste(n)):r?(e.preventDefault(),n={type:"text/html",html:this.createLinkHTML(r)},(d=this.delegate)===null||d===void 0||d.inputControllerWillPaste(n),(f=this.responder)===null||f===void 0||f.insertHTML(n.html),this.render(),(m=this.delegate)===null||m===void 0?void 0:m.inputControllerDidPaste(n)):void 0;var o,a,u,d,f,m},beforeinput(e){const t=this.constructor.inputTypes[e.inputType],n=(r=e,!(!/iPhone|iPad/.test(navigator.userAgent)||r.inputType&&r.inputType!=="insertParagraph"));var r;t&&(this.withEvent(e,t),n||this.scheduleRender()),n&&this.render()},input(e){Ir.reset()},dragstart(e){var t,n;(t=this.responder)!==null&&t!==void 0&&t.selectionContainsAttachments()&&(e.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange(),point:rc(e)})},dragenter(e){nc(e)&&e.preventDefault()},dragover(e){if(this.dragging){e.preventDefault();const n=rc(e);var t;if(!Bi(n,this.dragging.point))return this.dragging.point=n,(t=this.responder)===null||t===void 0?void 0:t.setLocationRangeFromPointRange(n)}else nc(e)&&e.preventDefault()},drop(e){var t,n;if(this.dragging)return e.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),(n=this.responder)===null||n===void 0||n.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(nc(e)){var r;e.preventDefault();const o=rc(e);return(r=this.responder)===null||r===void 0||r.setLocationRangeFromPointRange(o),this.attachFiles(e.dataTransfer.files)}},dragend(){var e;this.dragging&&((e=this.responder)===null||e===void 0||e.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(e){this.composing&&(this.composing=!1,us.recentAndroid||this.scheduleRender())}}),de(Lo,"keys",{ArrowLeft(){var e,t;if((e=this.responder)!==null&&e!==void 0&&e.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("backward")},ArrowRight(){var e,t;if((e=this.responder)!==null&&e!==void 0&&e.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(t=this.responder)===null||t===void 0?void 0:t.moveCursorInDirection("forward")},Backspace(){var e,t,n;if((e=this.responder)!==null&&e!==void 0&&e.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(n=this.responder)===null||n===void 0||n.deleteInDirection("backward"),this.render()},Tab(){var e,t;if((e=this.responder)!==null&&e!==void 0&&e.canIncreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.render()},"Tab+Shift"(){var e,t;if((e=this.responder)!==null&&e!==void 0&&e.canDecreaseNestingLevel())return this.event.preventDefault(),(t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.render()}}),de(Lo,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var e;this.deleteByDragRange=(e=this.responder)===null||e===void 0?void 0:e.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var e;if((e=this.responder)!==null&&e!==void 0&&e.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var e;if((e=this.responder)!==null&&e!==void 0&&e.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const n in(e=this.responder)===null||e===void 0?void 0:e.getCurrentAttributes()){var e,t;(t=this.responder)===null||t===void 0||t.removeCurrentAttribute(n)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var e;return(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformRedo()},historyUndo(){var e;return(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const e=this.deleteByDragRange;var t;if(e)return this.deleteByDragRange=null,(t=this.delegate)===null||t===void 0||t.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var n;return(n=this.responder)===null||n===void 0?void 0:n.moveTextFromRange(e)})},insertFromPaste(){const{dataTransfer:e}=this.event,t={dataTransfer:e},n=e.getData("URL"),r=e.getData("text/html");if(n){var o;let f;this.event.preventDefault(),t.type="text/html";const m=e.getData("public.url-name");f=m?Bh(m).trim():n,t.html=this.createLinkHTML(n,f),(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var b;return(b=this.responder)===null||b===void 0?void 0:b.insertHTML(t.html)}),this.afterRender=()=>{var b;return(b=this.delegate)===null||b===void 0?void 0:b.inputControllerDidPaste(t)}}else if(X0(e)){var a;t.type="text/plain",t.string=e.getData("text/plain"),(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var f;return(f=this.responder)===null||f===void 0?void 0:f.insertString(t.string)}),this.afterRender=()=>{var f;return(f=this.delegate)===null||f===void 0?void 0:f.inputControllerDidPaste(t)}}else if(ME(this.event)){var u;t.type="File",t.file=e.files[0],(u=this.delegate)===null||u===void 0||u.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var f;return(f=this.responder)===null||f===void 0?void 0:f.insertFile(t.file)}),this.afterRender=()=>{var f;return(f=this.delegate)===null||f===void 0?void 0:f.inputControllerDidPaste(t)}}else if(r){var d;this.event.preventDefault(),t.type="text/html",t.html=r,(d=this.delegate)===null||d===void 0||d.inputControllerWillPaste(t),this.withTargetDOMRange(function(){var f;return(f=this.responder)===null||f===void 0?void 0:f.insertHTML(t.html)}),this.afterRender=()=>{var f;return(f=this.delegate)===null||f===void 0?void 0:f.inputControllerDidPaste(t)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()})},insertReplacementText(){const e=this.event.dataTransfer.getData("text/plain"),t=this.event.getTargetRanges()[0];this.withTargetDOMRange(t,()=>{this.insertString(e,{updatePosition:!1})})},insertText(){var e;return this.insertString(this.event.data||((e=this.event.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const NE=function(e){const t=document.createRange();return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),t},nc=e=>{var t;return Array.from(((t=e.dataTransfer)===null||t===void 0?void 0:t.types)||[]).includes("Files")},ME=e=>{var t;return((t=e.dataTransfer.files)===null||t===void 0?void 0:t[0])&&!Ty(e)&&!(n=>{let{dataTransfer:r}=n;return r.types.includes("Files")&&r.types.includes("text/html")&&r.getData("text/html").includes("urn:schemas-microsoft-com:office:office")})(e)},Ty=function(e){const t=e.clipboardData;if(t)return Array.from(t.types).filter(n=>n.match(/file/i)).length===t.types.length&&t.files.length>=1},jE=function(e){const t=e.clipboardData;if(t)return t.types.includes("text/plain")&&t.types.length===1},zE=function(e){const t=[];return e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push(e.key),t},rc=e=>({x:e.clientX,y:e.clientY}),pd="[data-trix-attribute]",vd="[data-trix-action]",WE="".concat(pd,", ").concat(vd),Sl="[data-trix-dialog]",_E="".concat(Sl,"[data-trix-active]"),VE="".concat(Sl," [data-trix-method]"),Qm="".concat(Sl," [data-trix-input]"),Xm=(e,t)=>(t||(t=Yr(e)),e.querySelector("[data-trix-input][name='".concat(t,"']"))),Ym=e=>e.getAttribute("data-trix-action"),Yr=e=>e.getAttribute("data-trix-attribute")||e.getAttribute("data-trix-dialog-attribute");class Ly extends Bt{constructor(t){super(t),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=t,this.attributes={},this.actions={},this.resetDialogInputs(),yt("mousedown",{onElement:this.element,matchingSelector:vd,withCallback:this.didClickActionButton}),yt("mousedown",{onElement:this.element,matchingSelector:pd,withCallback:this.didClickAttributeButton}),yt("click",{onElement:this.element,matchingSelector:WE,preventDefault:!0}),yt("click",{onElement:this.element,matchingSelector:VE,withCallback:this.didClickDialogButton}),yt("keydown",{onElement:this.element,matchingSelector:Qm,withCallback:this.didKeyDownDialogInput})}didClickActionButton(t,n){var r;(r=this.delegate)===null||r===void 0||r.toolbarDidClickButton(),t.preventDefault();const o=Ym(n);return this.getDialog(o)?this.toggleDialog(o):(a=this.delegate)===null||a===void 0?void 0:a.toolbarDidInvokeAction(o,n);var a}didClickAttributeButton(t,n){var r;(r=this.delegate)===null||r===void 0||r.toolbarDidClickButton(),t.preventDefault();const o=Yr(n);var a;return this.getDialog(o)?this.toggleDialog(o):(a=this.delegate)===null||a===void 0||a.toolbarDidToggleAttribute(o),this.refreshAttributeButtons()}didClickDialogButton(t,n){const r=Yn(n,{matchingSelector:Sl});return this[n.getAttribute("data-trix-method")].call(this,r)}didKeyDownDialogInput(t,n){if(t.keyCode===13){t.preventDefault();const r=n.getAttribute("name"),o=this.getDialog(r);this.setAttribute(o)}if(t.keyCode===27)return t.preventDefault(),this.hideDialog()}updateActions(t){return this.actions=t,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((t,n)=>{t.disabled=this.actions[n]===!1})}eachActionButton(t){return Array.from(this.element.querySelectorAll(vd)).map(n=>t(n,Ym(n)))}updateAttributes(t){return this.attributes=t,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((t,n)=>(t.disabled=this.attributes[n]===!1,this.attributes[n]||this.dialogIsVisible(n)?(t.setAttribute("data-trix-active",""),t.classList.add("trix-active")):(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"))))}eachAttributeButton(t){return Array.from(this.element.querySelectorAll(pd)).map(n=>t(n,Yr(n)))}applyKeyboardCommand(t){const n=JSON.stringify(t.sort());for(const r of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const o=r.getAttribute("data-trix-key").split("+");if(JSON.stringify(o.sort())===n)return ko("mousedown",{onElement:r}),!0}return!1}dialogIsVisible(t){const n=this.getDialog(t);if(n)return n.hasAttribute("data-trix-active")}toggleDialog(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)}showDialog(t){var n,r;this.hideDialog(),(n=this.delegate)===null||n===void 0||n.toolbarWillShowDialog();const o=this.getDialog(t);o.setAttribute("data-trix-active",""),o.classList.add("trix-active"),Array.from(o.querySelectorAll("input[disabled]")).forEach(u=>{u.removeAttribute("disabled")});const a=Yr(o);if(a){const u=Xm(o,t);u&&(u.value=this.attributes[a]||"",u.select())}return(r=this.delegate)===null||r===void 0?void 0:r.toolbarDidShowDialog(t)}setAttribute(t){const n=Yr(t),r=Xm(t,n);return r.willValidate&&!r.checkValidity()?(r.setAttribute("data-trix-validate",""),r.classList.add("trix-validate"),r.focus()):((o=this.delegate)===null||o===void 0||o.toolbarDidUpdateAttribute(n,r.value),this.hideDialog());var o}removeAttribute(t){var n;const r=Yr(t);return(n=this.delegate)===null||n===void 0||n.toolbarDidRemoveAttribute(r),this.hideDialog()}hideDialog(){const t=this.element.querySelector(_E);var n;if(t)return t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"),this.resetDialogInputs(),(n=this.delegate)===null||n===void 0?void 0:n.toolbarDidHideDialog((r=>r.getAttribute("data-trix-dialog"))(t))}resetDialogInputs(){Array.from(this.element.querySelectorAll(Qm)).forEach(t=>{t.setAttribute("disabled","disabled"),t.removeAttribute("data-trix-validate"),t.classList.remove("trix-validate")})}getDialog(t){return this.element.querySelector("[data-trix-dialog=".concat(t,"]"))}}class Do extends Sy{constructor(t){let{editorElement:n,document:r,html:o}=t;super(...arguments),this.editorElement=n,this.selectionManager=new gr(this.editorElement),this.selectionManager.delegate=this,this.composition=new Fn,this.composition.delegate=this,this.attachmentManager=new hy(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=Dh.getLevel()===2?new Lo(this.editorElement):new mn(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new Cy(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new Ly(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new py(this.composition,this.selectionManager,this.editorElement),r?this.editor.loadDocument(r):this.editor.loadHTML(o)}registerSelectionManager(){return Ir.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return Ir.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(t){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(t){this.pasting&&(this.pastedRange=t)}compositionShouldAcceptFile(t){return this.notifyEditorElement("file-accept",{file:t})}compositionDidAddAttachment(t){const n=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-add",{attachment:n})}compositionDidEditAttachment(t){this.compositionController.rerenderViewForObject(t);const n=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement("attachment-edit",{attachment:n}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement("change")}compositionDidRemoveAttachment(t){const n=this.attachmentManager.unmanageAttachment(t);return this.notifyEditorElement("attachment-remove",{attachment:n})}compositionDidStartEditingAttachment(t,n){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,n),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(t){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(t){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(t,n){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,n)}compositionControllerDidRequestDeselectingAttachment(t){const n=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(t);return this.selectionManager.setLocationRange(n[1])}compositionControllerWillUpdateAttachment(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(t){return this.recordFormattingUndoEntry(t)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(t){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:t})}inputControllerDidPaste(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:t})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(t){return this.toolbarController.applyKeyboardCommand(t)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(t){return this.selectionManager.setLocationRangeFromPointRange(t)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!Ua(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(t,n){return this.invokeAction(t,n)}toolbarDidToggleAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(t,n){if(this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,n),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(t){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(t){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:t})}toolbarDidHideDialog(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:t})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(t){return!!this.actionIsExternal(t)||!((n=this.actions[t])===null||n===void 0||(n=n.test)===null||n===void 0||!n.call(this));var n}invokeAction(t,n){return this.actionIsExternal(t)?this.notifyEditorElement("action-invoke",{actionName:t,invokingElement:n}):(r=this.actions[t])===null||r===void 0||(r=r.perform)===null||r===void 0?void 0:r.call(this);var r}actionIsExternal(t){return/^x-./.test(t)}getCurrentActions(){const t={};for(const n in this.actions)t[n]=this.canInvokeAction(n);return t}updateCurrentActions(){const t=this.getCurrentActions();if(!Bi(t,this.currentActions))return this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let t=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(o=>{const{document:a,selectedRange:u}=t;t=o.call(this.editor,t)||{},t.document||(t.document=a),t.selectedRange||(t.selectedRange=u)}),n=t,r=this.composition.getSnapshot(),!Ua(n.selectedRange,r.selectedRange)||!n.document.isEqualTo(r.document))return this.composition.loadSnapshot(t);var n,r}updateInputElement(){const t=function(n,r){const o=vE[r];if(o)return o(n);throw new Error("unknown content type: ".concat(r))}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setFormValue(t)}notifyEditorElement(t,n){switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(t,n)}removeAttachment(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()}recordFormattingUndoEntry(t){const n=Rt(t),r=this.selectionManager.getLocationRange();if(n||!bn(r))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return[this.getLocationContext(),this.getTimeContext(),...Array.from(n)]}getLocationContext(){const t=this.selectionManager.getLocationRange();return bn(t)?t[0].index:t}getTimeContext(){return ad.interval>0?Math.floor(new Date().getTime()/ad.interval):0}isFocused(){var t;return this.editorElement===((t=this.editorElement.ownerDocument)===null||t===void 0?void 0:t.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}de(Do,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return Dh.pickFiles(this.editor.insertFiles)}}}),Do.proxyMethod("getSelectionManager().setLocationRange"),Do.proxyMethod("getSelectionManager().getLocationRange");var UE=Object.freeze({__proto__:null,AttachmentEditorController:xy,CompositionController:Cy,Controller:Sy,EditorController:Do,InputController:Cl,Level0InputController:mn,Level2InputController:Lo,ToolbarController:Ly}),$E=Object.freeze({__proto__:null,MutationObserver:wy,SelectionChangeObserver:ty}),HE=Object.freeze({__proto__:null,FileVerificationOperation:Ey,ImagePreloadOperation:uy});Q0("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class Dy extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=G0.getDefaultHTML())}}let qE=0;const KE=function(e){if(!e.hasAttribute("contenteditable"))return e.setAttribute("contenteditable",""),function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n.times=1,yt(t,n)}("focus",{onElement:e,withCallback:()=>JE(e)})},JE=function(e){return GE(e),QE()},GE=function(e){var t,n;if((t=(n=document).queryCommandSupported)!==null&&t!==void 0&&t.call(n,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),yt("mscontrolselect",{onElement:e,preventDefault:!0})},QE=function(e){var t,n;if((t=(n=document).queryCommandSupported)!==null&&t!==void 0&&t.call(n,"DefaultParagraphSeparator")){const{tagName:r}=Zt.default;if(["div","p"].includes(r))return document.execCommand("DefaultParagraphSeparator",!1,r)}},Zm=us.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};Q0("trix-editor",`%t {
    display: block;
}

%t:empty::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(xr,` figcaption textarea {
    resize: none;
}

%t `).concat(xr,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(xr,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(Zm.display,` !important;
    width: `).concat(Zm.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));var fn=new WeakMap,oo=new WeakSet;class XE{constructor(t){var n,r;ly(n=this,r=oo),r.add(n),To(this,fn,{writable:!0,value:void 0}),this.element=t,Mh(this,fn,t.attachInternals())}connectedCallback(){Js(this,oo,Gs).call(this)}disconnectedCallback(){}get labels(){return at(this,fn).labels}get disabled(){var t;return(t=this.element.inputElement)===null||t===void 0?void 0:t.disabled}set disabled(t){this.element.toggleAttribute("disabled",t)}get required(){return this.element.hasAttribute("required")}set required(t){this.element.toggleAttribute("required",t),Js(this,oo,Gs).call(this)}get validity(){return at(this,fn).validity}get validationMessage(){return at(this,fn).validationMessage}get willValidate(){return at(this,fn).willValidate}setFormValue(t){Js(this,oo,Gs).call(this)}checkValidity(){return at(this,fn).checkValidity()}reportValidity(){return at(this,fn).reportValidity()}setCustomValidity(t){Js(this,oo,Gs).call(this,t)}}function Gs(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{required:t,value:n}=this.element,r=t&&!n,o=!!e,a=J("input",{required:t}),u=e||a.validationMessage;at(this,fn).setValidity({valueMissing:r,customError:o},u)}var ic=new WeakMap,oc=new WeakMap,sc=new WeakMap;class YE{constructor(t){To(this,ic,{writable:!0,value:void 0}),To(this,oc,{writable:!0,value:n=>{n.defaultPrevented||n.target===this.element.form&&this.element.reset()}}),To(this,sc,{writable:!0,value:n=>{if(n.defaultPrevented||this.element.contains(n.target))return;const r=Yn(n.target,{matchingSelector:"label"});r&&Array.from(this.labels).includes(r)&&this.element.focus()}}),this.element=t}connectedCallback(){Mh(this,ic,function(t){if(t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby"))return;const n=function(){const r=Array.from(t.labels).map(a=>{if(!a.contains(t))return a.textContent}).filter(a=>a),o=r.join(" ");return o?t.setAttribute("aria-label",o):t.removeAttribute("aria-label")};return n(),yt("focus",{onElement:t,withCallback:n})}(this.element)),window.addEventListener("reset",at(this,oc),!1),window.addEventListener("click",at(this,sc),!1)}disconnectedCallback(){var t;(t=at(this,ic))===null||t===void 0||t.destroy(),window.removeEventListener("reset",at(this,oc),!1),window.removeEventListener("click",at(this,sc),!1)}get labels(){const t=[];this.element.id&&this.element.ownerDocument&&t.push(...Array.from(this.element.ownerDocument.querySelectorAll("label[for='".concat(this.element.id,"']"))||[]));const n=Yn(this.element,{matchingSelector:"label"});return n&&[this.element,null].includes(n.control)&&t.push(n),t}get disabled(){return console.warn("This browser does not support the [disabled] attribute for trix-editor elements."),!1}set disabled(t){console.warn("This browser does not support the [disabled] attribute for trix-editor elements.")}get required(){return console.warn("This browser does not support the [required] attribute for trix-editor elements."),!1}set required(t){console.warn("This browser does not support the [required] attribute for trix-editor elements.")}get validity(){return console.warn("This browser does not support the validity property for trix-editor elements."),null}get validationMessage(){return console.warn("This browser does not support the validationMessage property for trix-editor elements."),""}get willValidate(){return console.warn("This browser does not support the willValidate property for trix-editor elements."),!1}setFormValue(t){}checkValidity(){return console.warn("This browser does not support checkValidity() for trix-editor elements."),!0}reportValidity(){return console.warn("This browser does not support reportValidity() for trix-editor elements."),!0}setCustomValidity(t){console.warn("This browser does not support setCustomValidity(validationMessage) for trix-editor elements.")}}var Kt=new WeakMap;class zh extends HTMLElement{constructor(){super(),To(this,Kt,{writable:!0,value:void 0}),Mh(this,Kt,this.constructor.formAssociated?new XE(this):new YE(this))}get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++qE),this.trixId)}get labels(){return at(this,Kt).labels}get disabled(){return at(this,Kt).disabled}set disabled(t){at(this,Kt).disabled=t}get required(){return at(this,Kt).required}set required(t){at(this,Kt).required=t}get validity(){return at(this,Kt).validity}get validationMessage(){return at(this,Kt).validationMessage}get willValidate(){return at(this,Kt).willValidate}get type(){return this.localName}get toolbarElement(){var t;if(this.hasAttribute("toolbar"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const n="trix-toolbar-".concat(this.trixId);this.setAttribute("toolbar",n);const r=J("trix-toolbar",{id:n});return this.parentNode.insertBefore(r,this),r}}get form(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.form}get inputElement(){var t;if(this.hasAttribute("input"))return(t=this.ownerDocument)===null||t===void 0?void 0:t.getElementById(this.getAttribute("input"));if(this.parentNode){const n="trix-input-".concat(this.trixId);this.setAttribute("input",n);const r=J("input",{type:"hidden",id:n});return this.parentNode.insertBefore(r,this.nextElementSibling),r}}get editor(){var t;return(t=this.editorController)===null||t===void 0?void 0:t.editor}get name(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.name}get value(){var t;return(t=this.inputElement)===null||t===void 0?void 0:t.value}set value(t){var n;this.defaultValue=t,(n=this.editor)===null||n===void 0||n.loadHTML(this.defaultValue)}notify(t,n){if(this.editorController)return ko("trix-".concat(t),{onElement:this,attributes:n})}setFormValue(t){this.inputElement&&(this.inputElement.value=t,at(this,Kt).setFormValue(t))}connectedCallback(){this.hasAttribute("data-trix-internal")||(KE(this),function(t){t.hasAttribute("role")||t.setAttribute("role","textbox")}(this),this.editorController||(ko("trix-before-initialize",{onElement:this}),this.editorController=new Do({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>ko("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),at(this,Kt).connectedCallback(),function(t){!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t&&t.focus()}(this))}disconnectedCallback(){var t;(t=this.editorController)===null||t===void 0||t.unregisterSelectionManager(),at(this,Kt).disconnectedCallback()}checkValidity(){return at(this,Kt).checkValidity()}reportValidity(){return at(this,Kt).reportValidity()}setCustomValidity(t){at(this,Kt).setCustomValidity(t)}formDisabledCallback(t){this.inputElement&&(this.inputElement.disabled=t),this.toggleAttribute("contenteditable",!t)}formResetCallback(){this.reset()}reset(){this.value=this.defaultValue}}de(zh,"formAssociated","ElementInternals"in window);const yd={VERSION:Sw,config:cs,core:yE,models:Ay,views:SE,controllers:UE,observers:$E,operations:HE,elements:Object.freeze({__proto__:null,TrixEditorElement:zh,TrixToolbarElement:Dy}),filters:Object.freeze({__proto__:null,Filter:gy,attachmentGalleryFilter:my})};Object.assign(yd,Ay),window.Trix=yd,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",Dy),customElements.get("trix-editor")||customElements.define("trix-editor",zh)},0);var ZE={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(DA,function(){var n="2.1.8";const r="[data-trix-attachment]",o={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},a={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(c){return u(c.parentNode)===a[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(c){return u(c.parentNode)===a[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},u=c=>{var i;return c==null||(i=c.tagName)===null||i===void 0?void 0:i.toLowerCase()},d=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),f=d&&parseInt(d[1]);var m={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:f&&f>12,samsungAndroid:f&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(c=>c in InputEvent.prototype)},b={attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},v={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption…",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL…",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const x=[v.bytes,v.KB,v.MB,v.GB,v.TB,v.PB];var T={prefix:"IEC",precision:2,formatter(c){switch(c){case 0:return"0 ".concat(v.bytes);case 1:return"1 ".concat(v.byte);default:let i;this.prefix==="SI"?i=1e3:this.prefix==="IEC"&&(i=1024);const s=Math.floor(Math.log(c)/Math.log(i)),g=(c/Math.pow(i,s)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(g," ").concat(x[s])}}};const R="\uFEFF",w=" ",j="￼",C=function(c){for(const i in c){const s=c[i];this[i]=s}return this},A=document.documentElement,S=A.matches,k=function(c){let{onElement:i,matchingSelector:s,withCallback:l,inPhase:h,preventDefault:g,times:y}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const E=i||A,P=s,M=h==="capturing",Q=function(Pt){y!=null&&--y===0&&Q.destroy();const Ft=F(Pt.target,{matchingSelector:P});Ft!=null&&(l==null||l.call(Ft,Pt,Ft),g&&Pt.preventDefault())};return Q.destroy=()=>E.removeEventListener(c,Q,M),E.addEventListener(c,Q,M),Q},D=function(c){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return i.times=1,k(c,i)},O=function(c){let{onElement:i,bubbles:s,cancelable:l,attributes:h}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const g=i??A;s=s!==!1,l=l!==!1;const y=document.createEvent("Events");return y.initEvent(c,s,l),h!=null&&C.call(y,h),g.dispatchEvent(y)},I=function(c,i){if((c==null?void 0:c.nodeType)===1)return S.call(c,i)},F=function(c){let{matchingSelector:i,untilNode:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;c&&c.nodeType!==Node.ELEMENT_NODE;)c=c.parentNode;if(c!=null)if(i!=null){if(c.closest&&s==null)return c.closest(i);for(;c&&c!==s;){if(I(c,i))return c;c=c.parentNode}}else return c},H=function(c){for(;(i=c)!==null&&i!==void 0&&i.firstElementChild;){var i;c=c.firstElementChild}return c},p=c=>document.activeElement!==c&&N(c,document.activeElement),N=function(c,i){if(!(!c||!i))for(;i;){if(i===c)return!0;i=i.parentNode}},V=function(c){var i;if(!((i=c)!==null&&i!==void 0&&i.parentNode))return;let s=0;for(c=c.previousSibling;c;)s++,c=c.previousSibling;return s},q=c=>{var i;return c==null||(i=c.parentNode)===null||i===void 0?void 0:i.removeChild(c)},pt=function(c){let{onlyNodesOfType:i,usingFilter:s,expandEntityReferences:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const h=(()=>{switch(i){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(c,h,s??null,l===!0)},rt=c=>{var i;return c==null||(i=c.tagName)===null||i===void 0?void 0:i.toLowerCase()},_=function(c){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,l;typeof c=="object"?(i=c,c=i.tagName):i={attributes:i};const h=document.createElement(c);if(i.editable!=null&&(i.attributes==null&&(i.attributes={}),i.attributes.contenteditable=i.editable),i.attributes)for(s in i.attributes)l=i.attributes[s],h.setAttribute(s,l);if(i.style)for(s in i.style)l=i.style[s],h.style[s]=l;if(i.data)for(s in i.data)l=i.data[s],h.dataset[s]=l;return i.className&&i.className.split(" ").forEach(g=>{h.classList.add(g)}),i.textContent&&(h.textContent=i.textContent),i.childNodes&&[].concat(i.childNodes).forEach(g=>{h.appendChild(g)}),h};let we;const z=function(){if(we!=null)return we;we=[];for(const c in a){const i=a[c];i.tagName&&we.push(i.tagName)}return we},U=c=>ut(c==null?void 0:c.firstChild),K=function(c){return z().includes(rt(c))&&!z().includes(rt(c.firstChild))},ht=function(c){let{strict:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return i?ut(c):ut(c)||!ut(c.firstChild)&&K(c)},ut=c=>jr(c)&&(c==null?void 0:c.data)==="block",jr=c=>(c==null?void 0:c.nodeType)===Node.COMMENT_NODE,re=function(c){let{name:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(c)if(Ke(c)){if(c.data===R)return i?c.parentNode.dataset.trixCursorTarget===i:!0}else return re(c.firstChild)},Ne=c=>I(c,r),qe=c=>Ke(c)&&(c==null?void 0:c.data)==="",Ke=c=>(c==null?void 0:c.nodeType)===Node.TEXT_NODE,kl={level2Enabled:!0,getLevel(){return this.level2Enabled&&m.supportsInputEvents?2:0},pickFiles(c){const i=_("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});i.addEventListener("change",()=>{c(i.files),q(i)}),q(document.getElementById(this.fileInputId)),document.body.appendChild(i),i.click()}};var Py={8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},ds={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},rr={bold:{tagName:"strong",inheritable:!0,parser(c){const i=window.getComputedStyle(c);return i.fontWeight==="bold"||i.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser(c){return window.getComputedStyle(c).fontStyle==="italic"}},href:{groupTagName:"a",parser(c){const i="a:not(".concat(r,")"),s=c.closest(i);if(s)return s.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},Wh={getDefaultHTML(){return`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(v.bold,'" tabindex="-1">').concat(v.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(v.italic,'" tabindex="-1">').concat(v.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(v.strike,'" tabindex="-1">').concat(v.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(v.link,'" tabindex="-1">').concat(v.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(v.heading1,'" tabindex="-1">').concat(v.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(v.quote,'" tabindex="-1">').concat(v.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(v.code,'" tabindex="-1">').concat(v.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(v.bullets,'" tabindex="-1">').concat(v.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(v.numbers,'" tabindex="-1">').concat(v.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(v.outdent,'" tabindex="-1">').concat(v.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(v.indent,'" tabindex="-1">').concat(v.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(v.attachFiles,'" tabindex="-1">').concat(v.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(v.undo,'" tabindex="-1">').concat(v.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(v.redo,'" tabindex="-1">').concat(v.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(v.urlPlaceholder,'" aria-label="').concat(v.url,`" required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(v.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(v.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)}};const wl={interval:5e3};var Ni=Object.freeze({__proto__:null,attachments:o,blockAttributes:a,browser:m,css:b,fileSize:T,input:kl,keyNames:Py,lang:v,parser:ds,textAttributes:rr,toolbar:Wh,undo:wl});class Dt{static proxyMethod(i){const{name:s,toMethod:l,toProperty:h,optional:g}=Iy(i);this.prototype[s]=function(){let y,E;if(l)if(g){var P;E=(P=this[l])===null||P===void 0?void 0:P.call(this)}else E=this[l]();else h&&(E=this[h]);if(g){var M;if(y=(M=E)===null||M===void 0?void 0:M[s],y)return _h.call(y,E,arguments)}else return y=E[s],_h.call(y,E,arguments)}}}const Iy=function(c){const i=c.match(Oy);if(!i)throw new Error("can't parse @proxyMethod expression: ".concat(c));const s={name:i[4]};return i[2]!=null?s.toMethod=i[1]:s.toProperty=i[1],i[3]!=null&&(s.optional=!0),s},{apply:_h}=Function.prototype,Oy=new RegExp("	^	(.+?)	(\\(\\))?	(\\?)?	\\.	(.+?)	$	");var El,Rl,Vh,Tl;class Mi extends Dt{static box(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return i instanceof this?i:this.fromUCS2String(i==null?void 0:i.toString())}static fromUCS2String(i){return new this(i,hs(i))}static fromCodepoints(i){return new this(fs(i),i)}constructor(i,s){super(...arguments),this.ucs2String=i,this.codepoints=s,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(i){return fs(this.codepoints.slice(0,Math.max(0,i))).length}offsetFromUCS2Offset(i){return hs(this.ucs2String.slice(0,Math.max(0,i))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(i){return this.slice(i,i+1)}isEqualTo(i){return this.constructor.box(i).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const By=((El=Array.from)===null||El===void 0?void 0:El.call(Array,"👼").length)===1,Fy=((Rl=(Vh=" ").codePointAt)===null||Rl===void 0?void 0:Rl.call(Vh,0))!=null,Ny=((Tl=String.fromCodePoint)===null||Tl===void 0?void 0:Tl.call(String,32,128124))===" 👼";let hs,fs;By&&Fy?hs=c=>Array.from(c).map(i=>i.codePointAt(0)):hs=function(c){const i=[];let s=0;const{length:l}=c;for(;s<l;){let h=c.charCodeAt(s++);if(55296<=h&&h<=56319&&s<l){const g=c.charCodeAt(s++);(g&64512)===56320?h=((h&1023)<<10)+(g&1023)+65536:s--}i.push(h)}return i},Ny?fs=c=>String.fromCodePoint(...Array.from(c||[])):fs=function(c){return(()=>{const s=[];return Array.from(c).forEach(l=>{let h="";l>65535&&(l-=65536,h+=String.fromCharCode(l>>>10&1023|55296),l=56320|l&1023),s.push(h+String.fromCharCode(l))}),s})().join("")};let My=0;class ir extends Dt{static fromJSONString(i){return this.fromJSON(JSON.parse(i))}constructor(){super(...arguments),this.id=++My}hasSameConstructorAs(i){return this.constructor===(i==null?void 0:i.constructor)}isEqualTo(i){return this===i}inspect(){const i=[],s=this.contentsForInspection()||{};for(const l in s){const h=s[l];i.push("".concat(l,"=").concat(h))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(i.length?" ".concat(i.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return Mi.box(this)}getCacheKey(){return this.id.toString()}}const or=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(c.length!==i.length)return!1;for(let s=0;s<c.length;s++)if(c[s]!==i[s])return!1;return!0},jy=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return or(c.slice(0,i.length),i)},Ll=function(c){const i=c.slice(0);for(var s=arguments.length,l=new Array(s>1?s-1:0),h=1;h<s;h++)l[h-1]=arguments[h];return i.splice(...l),i},zy=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const s=[],l=[],h=new Set;c.forEach(y=>{h.add(y)});const g=new Set;return i.forEach(y=>{g.add(y),h.has(y)||s.push(y)}),c.forEach(y=>{g.has(y)||l.push(y)}),{added:s,removed:l}},Wy=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,_y=function(){const c=_("input",{dir:"auto",name:"x",dirName:"x.dir"}),i=_("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),s=_("form");s.appendChild(c),s.appendChild(i);const l=function(){try{return new FormData(s).has(i.dirName)}catch{return!1}}(),h=function(){try{return c.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return l?function(g){return i.value=g,new FormData(s).get(i.dirName)}:h?function(g){return c.value=g,c.matches(":dir(rtl)")?"rtl":"ltr"}:function(g){const y=g.trim().charAt(0);return Wy.test(y)?"rtl":"ltr"}}();let Dl=null,Pl=null,Il=null,gs=null;const Ol=()=>(Dl||(Dl=Uy().concat(Vy())),Dl),kt=c=>a[c],Vy=()=>(Pl||(Pl=Object.keys(a)),Pl),Bl=c=>rr[c],Uy=()=>(Il||(Il=Object.keys(rr)),Il),$y=()=>{if(!gs){gs=[];for(const c in a){const{listAttribute:i}=a[c];i!=null&&gs.push(i)}}return gs},Uh=function(c,i){const s=Hy(c);s.textContent=i.replace(/%t/g,c)},Hy=function(c){const i=document.createElement("style");i.setAttribute("type","text/css"),i.setAttribute("data-tag-name",c.toLowerCase());const s=qy();return s&&i.setAttribute("nonce",s),document.head.insertBefore(i,document.head.firstChild),i},qy=function(){const c=$h("trix-csp-nonce")||$h("csp-nonce");if(c){const{nonce:i,content:s}=c;return i==""?s:i}},$h=c=>document.head.querySelector("meta[name=".concat(c,"]")),Hh={"application/x-trix-feature-detection":"test"},qh=function(c){const i=c.getData("text/plain"),s=c.getData("text/html");if(i&&s){const{body:l}=new DOMParser().parseFromString(s,"text/html");if(l.textContent===i)return!l.querySelector("*")}else return i==null?void 0:i.length},Ky=c=>{let{dataTransfer:i}=c;return i.types.includes("Files")&&i.types.includes("text/html")&&i.getData("text/html").includes("urn:schemas-microsoft-com:office:office")},Jy=function(c){if(!(c!=null&&c.setData))return!1;for(const i in Hh){const s=Hh[i];try{if(c.setData(i,s),!c.getData(i)===s)return!1}catch{return!1}}return!0},Kh=function(){return/Mac|^iP/.test(navigator.platform)?c=>c.metaKey:c=>c.ctrlKey}();function Gy(c){return/iPhone|iPad/.test(navigator.userAgent)?!c.inputType||c.inputType==="insertParagraph":!1}const Fl=c=>setTimeout(c,1),Jh=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const i={};for(const s in c){const l=c[s];i[s]=l}return i},zr=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(c).length!==Object.keys(i).length)return!1;for(const s in c)if(c[s]!==i[s])return!1;return!0},tt=function(c){if(c!=null)return Array.isArray(c)||(c=[c,c]),[Gh(c[0]),Gh(c[1]!=null?c[1]:c[0])]},ln=function(c){if(c==null)return;const[i,s]=tt(c);return Nl(i,s)},ms=function(c,i){if(c==null||i==null)return;const[s,l]=tt(c),[h,g]=tt(i);return Nl(s,h)&&Nl(l,g)},Gh=function(c){return typeof c=="number"?c:Jh(c)},Nl=function(c,i){return typeof c=="number"?c===i:zr(c,i)};class Qh extends Dt{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(i){if(!this.selectionManagers.includes(i))return this.selectionManagers.push(i),this.start()}unregisterSelectionManager(i){if(this.selectionManagers=this.selectionManagers.filter(s=>s!==i),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(i=>i.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const sr=new Qh,Xh=function(){const c=window.getSelection();if(c.rangeCount>0)return c},ji=function(){var c;const i=(c=Xh())===null||c===void 0?void 0:c.getRangeAt(0);if(i&&!Qy(i))return i},Yh=function(c){const i=window.getSelection();return i.removeAllRanges(),i.addRange(c),sr.update()},Qy=c=>Zh(c.startContainer)||Zh(c.endContainer),Zh=c=>!Object.getPrototypeOf(c),zi=c=>c.replace(new RegExp("".concat(R),"g"),"").replace(new RegExp("".concat(w),"g")," "),Xy=c=>c.replace(/\r\n?/g,`
`),Ml=new RegExp("[^\\S".concat(w,"]")),jl=c=>c.replace(new RegExp("".concat(Ml.source),"g")," ").replace(/\ {2,}/g," "),Yy=function(c,i){let s,l;return c=Mi.box(c),i=Mi.box(i),i.length<c.length?[l,s]=tf(c,i):[s,l]=tf(i,c),{added:s,removed:l}},tf=function(c,i){if(c.isEqualTo(i))return["",""];const s=zl(c,i),{length:l}=s.utf16String;let h;if(l){const{offset:g}=s,y=c.codepoints.slice(0,g).concat(c.codepoints.slice(g+l));h=zl(i,Mi.fromCodepoints(y))}else h=zl(i,c);return[s.utf16String.toString(),h.utf16String.toString()]},zl=function(c,i){let s=0,l=c.length,h=i.length;for(;s<l&&c.charAt(s).isEqualTo(i.charAt(s));)s++;for(;l>s+1&&c.charAt(l-1).isEqualTo(i.charAt(h-1));)l--,h--;return{utf16String:c.slice(s,l),offset:s}};class fe extends ir{static fromCommonAttributesOfObjects(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!i.length)return new this;let s=Wi(i[0]),l=s.getKeys();return i.slice(1).forEach(h=>{l=s.getKeysCommonToHash(Wi(h)),s=s.slice(l)}),s}static box(i){return Wi(i)}constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=ps(i)}add(i,s){return this.merge(Zy(i,s))}remove(i){return new fe(ps(this.values,i))}get(i){return this.values[i]}has(i){return i in this.values}merge(i){return new fe(tb(this.values,eb(i)))}slice(i){const s={};return Array.from(i).forEach(l=>{this.has(l)&&(s[l]=this.values[l])}),new fe(s)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(i){return i=Wi(i),this.getKeys().filter(s=>this.values[s]===i.values[s])}isEqualTo(i){return or(this.toArray(),Wi(i).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const i=[];for(const s in this.values){const l=this.values[s];i.push(i.push(s,l))}this.array=i.slice(0)}return this.array}toObject(){return ps(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const Zy=function(c,i){const s={};return s[c]=i,s},tb=function(c,i){const s=ps(c);for(const l in i){const h=i[l];s[l]=h}return s},ps=function(c,i){const s={};return Object.keys(c).sort().forEach(h=>{h!==i&&(s[h]=c[h])}),s},Wi=function(c){return c instanceof fe?c:new fe(c)},eb=function(c){return c instanceof fe?c.values:c};class Wl{static groupObjects(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:s,asTree:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},h;l&&s==null&&(s=0);const g=[];return Array.from(i).forEach(y=>{var E;if(h){var P,M,Q;if((P=y.canBeGrouped)!==null&&P!==void 0&&P.call(y,s)&&(M=(Q=h[h.length-1]).canBeGroupedWith)!==null&&M!==void 0&&M.call(Q,y,s)){h.push(y);return}else g.push(new this(h,{depth:s,asTree:l})),h=null}(E=y.canBeGrouped)!==null&&E!==void 0&&E.call(y,s)?h=[y]:g.push(y)}),h&&g.push(new this(h,{depth:s,asTree:l})),g}constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:s,asTree:l}=arguments.length>1?arguments[1]:void 0;this.objects=i,l&&(this.depth=s,this.objects=this.constructor.groupObjects(this.objects,{asTree:l,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const i=["objectGroup"];return Array.from(this.getObjects()).forEach(s=>{i.push(s.getCacheKey())}),i.join("/")}}class nb extends Dt{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(i).forEach(s=>{const l=JSON.stringify(s);this.objects[l]==null&&(this.objects[l]=s)})}find(i){const s=JSON.stringify(i);return this.objects[s]}}class rb{constructor(i){this.reset(i)}add(i){const s=ef(i);this.elements[s]=i}remove(i){const s=ef(i),l=this.elements[s];if(l)return delete this.elements[s],l}reset(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(i).forEach(s=>{this.add(s)}),i}}const ef=c=>c.dataset.trixStoreKey;class vs extends Dt{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((i,s)=>(this.performing=!0,this.perform((l,h)=>{this.succeeded=l,this.performing=!1,this.performed=!0,this.succeeded?i(h):s(h)})))),this.promise}perform(i){return i(!1)}release(){var i,s;(i=this.promise)===null||i===void 0||(s=i.cancel)===null||s===void 0||s.call(i),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}vs.proxyMethod("getPromise().then"),vs.proxyMethod("getPromise().catch");class ar extends Dt{constructor(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=i,this.options=s,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(i=>i.cloneNode(!0))}invalidate(){var i;return this.nodes=null,this.childViews=[],(i=this.parentView)===null||i===void 0?void 0:i.invalidate()}invalidateViewForObject(i){var s;return(s=this.findViewForObject(i))===null||s===void 0?void 0:s.invalidate()}findOrCreateCachedChildView(i,s,l){let h=this.getCachedViewForObject(s);return h?this.recordChildView(h):(h=this.createChildView(...arguments),this.cacheViewForObject(h,s)),h}createChildView(i,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};s instanceof Wl&&(l.viewClass=i,i=ib);const h=new i(s,l);return this.recordChildView(h)}recordChildView(i){return i.parentView=this,i.rootView=this.rootView,this.childViews.push(i),i}getAllChildViews(){let i=[];return this.childViews.forEach(s=>{i.push(s),i=i.concat(s.getAllChildViews())}),i}findElement(){return this.findElementForObject(this.object)}findElementForObject(i){const s=i==null?void 0:i.id;if(s)return this.rootView.element.querySelector("[data-trix-id='".concat(s,"']"))}findViewForObject(i){for(const s of this.getAllChildViews())if(s.object===i)return s}getViewCache(){if(this.rootView===this){if(this.isViewCachingEnabled())return this.viewCache||(this.viewCache={}),this.viewCache}else return this.rootView.getViewCache()}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(i){var s;return(s=this.getViewCache())===null||s===void 0?void 0:s[i.getCacheKey()]}cacheViewForObject(i,s){const l=this.getViewCache();l&&(l[s.getCacheKey()]=i)}garbageCollectCachedViews(){const i=this.getViewCache();if(i){const l=this.getAllChildViews().concat(this).map(h=>h.object.getCacheKey());for(const h in i)l.includes(h)||delete i[h]}}}class ib extends ar{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(i=>{this.findOrCreateCachedChildView(this.viewClass,i,this.options)}),this.childViews}createNodes(){const i=this.createContainerElement();return this.getChildViews().forEach(s=>{Array.from(s.getNodes()).forEach(l=>{i.appendChild(l)})}),[i]}createContainerElement(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(i)}}const ob="style href src width height language class".split(" "),sb="javascript:".split(" "),ab="script iframe form noscript".split(" ");class ys extends Dt{static setHTML(i,s){const l=new this(s).sanitize(),h=l.getHTML?l.getHTML():l.outerHTML;i.innerHTML=h}static sanitize(i,s){const l=new this(i,s);return l.sanitize(),l}constructor(i){let{allowedAttributes:s,forbiddenProtocols:l,forbiddenElements:h}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=s||ob,this.forbiddenProtocols=l||sb,this.forbiddenElements=h||ab,this.body=lb(i)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting()}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const i=pt(this.body),s=[];for(;i.nextNode();){const l=i.currentNode;switch(l.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(l)?s.push(l):this.sanitizeElement(l);break;case Node.COMMENT_NODE:s.push(l);break}}return s.forEach(l=>q(l)),this.body}sanitizeElement(i){return i.hasAttribute("href")&&this.forbiddenProtocols.includes(i.protocol)&&i.removeAttribute("href"),Array.from(i.attributes).forEach(s=>{let{name:l}=s;!this.allowedAttributes.includes(l)&&l.indexOf("data-trix")!==0&&i.removeAttribute(l)}),i}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(i=>{const s=i.previousElementSibling;s&&rt(s)==="li"&&s.appendChild(i)}),this.body}elementIsRemovable(i){if((i==null?void 0:i.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(i)||this.elementIsntSerializable(i)}elementIsForbidden(i){return this.forbiddenElements.includes(rt(i))}elementIsntSerializable(i){return i.getAttribute("data-trix-serialize")==="false"&&!Ne(i)}}const lb=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";c=c.replace(/<\/html[^>]*>[^]*$/i,"</html>");const i=document.implementation.createHTMLDocument("");return i.documentElement.innerHTML=c,Array.from(i.head.querySelectorAll("style")).forEach(s=>{i.body.appendChild(s)}),i.body},{css:Rn}=Ni;class _l extends ar{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let i;const s=i=_({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),l=this.getHref();return l&&(i=_({tagName:"a",editable:!1,attributes:{href:l,tabindex:-1}}),s.appendChild(i)),this.attachment.hasContent()?ys.setHTML(i,this.attachment.getContent()):this.createContentNodes().forEach(h=>{i.appendChild(h)}),i.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=_({tagName:"progress",attributes:{class:Rn.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),s.appendChild(this.progressElement)),[nf("left"),s,nf("right")]}createCaptionElement(){const i=_({tagName:"figcaption",className:Rn.attachmentCaption}),s=this.attachmentPiece.getCaption();if(s)i.classList.add("".concat(Rn.attachmentCaption,"--edited")),i.textContent=s;else{let l,h;const g=this.getCaptionConfig();if(g.name&&(l=this.attachment.getFilename()),g.size&&(h=this.attachment.getFormattedFilesize()),l){const y=_({tagName:"span",className:Rn.attachmentName,textContent:l});i.appendChild(y)}if(h){l&&i.appendChild(document.createTextNode(" "));const y=_({tagName:"span",className:Rn.attachmentSize,textContent:h});i.appendChild(y)}}return i}getClassName(){const i=[Rn.attachment,"".concat(Rn.attachment,"--").concat(this.attachment.getType())],s=this.attachment.getExtension();return s&&i.push("".concat(Rn.attachment,"--").concat(s)),i.join(" ")}getData(){const i={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:s}=this.attachmentPiece;return s.isEmpty()||(i.trixAttributes=JSON.stringify(s)),this.attachment.isPending()&&(i.trixSerialize=!1),i}getHref(){if(!ub(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var i;const s=this.attachment.getType(),l=Jh((i=o[s])===null||i===void 0?void 0:i.caption);return s==="file"&&(l.name=!0),l}findProgressElement(){var i;return(i=this.findElement())===null||i===void 0?void 0:i.querySelector("progress")}attachmentDidChangeUploadProgress(){const i=this.attachment.getUploadProgress(),s=this.findProgressElement();s&&(s.value=i)}}const nf=c=>_({tagName:"span",textContent:R,data:{trixCursorTarget:c,trixSerialize:!1}}),ub=function(c,i){const s=_("div");return ys.setHTML(s,c||""),s.querySelector(i)};class rf extends _l{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=_({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const i=super.createCaptionElement(...arguments);return i.textContent||i.setAttribute("data-trix-placeholder",v.captionPlaceholder),i}refresh(i){if(!i){var s;i=(s=this.findElement())===null||s===void 0?void 0:s.querySelector("img")}if(i)return this.updateAttributesForImage(i)}updateAttributesForImage(i){const s=this.attachment.getURL(),l=this.attachment.getPreviewURL();if(i.src=l||s,l===s)i.removeAttribute("data-trix-serialized-attributes");else{const E=JSON.stringify({src:s});i.setAttribute("data-trix-serialized-attributes",E)}const h=this.attachment.getWidth(),g=this.attachment.getHeight();h!=null&&(i.width=h),g!=null&&(i.height=g);const y=["imageElement",this.attachment.id,i.src,i.width,i.height].join("/");i.dataset.trixStoreKey=y}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class of extends ar{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let i=this.attachment?this.createAttachmentNodes():this.createStringNodes();const s=this.createElement();if(s){const l=H(s);Array.from(i).forEach(h=>{l.appendChild(h)}),i=[s]}return i}createAttachmentNodes(){const i=this.attachment.isPreviewable()?rf:_l;return this.createChildView(i,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var i;if((i=this.textConfig)!==null&&i!==void 0&&i.plaintext)return[document.createTextNode(this.string)];{const s=[],l=this.string.split(`
`);for(let h=0;h<l.length;h++){const g=l[h];if(h>0){const y=_("br");s.push(y)}if(g.length){const y=document.createTextNode(this.preserveSpaces(g));s.push(y)}}return s}}createElement(){let i,s,l;const h={};for(s in this.attributes){l=this.attributes[s];const y=Bl(s);if(y){if(y.tagName){var g;const E=_(y.tagName);g?(g.appendChild(E),g=E):i=g=E}if(y.styleProperty&&(h[y.styleProperty]=l),y.style)for(s in y.style)l=y.style[s],h[s]=l}}if(Object.keys(h).length){i||(i=_("span"));for(s in h)l=h[s],i.style[s]=l}return i}createContainerElement(){for(const i in this.attributes){const s=this.attributes[i],l=Bl(i);if(l&&l.groupTagName){const h={};return h[i]=s,_(l.groupTagName,h)}}}preserveSpaces(i){return this.context.isLast&&(i=i.replace(/\ $/,w)),i=i.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(w," $2")).replace(/\ {2}/g,"".concat(w," ")).replace(/\ {2}/g," ".concat(w)),(this.context.isFirst||this.context.followsWhitespace)&&(i=i.replace(/^\ /,w)),i}}class sf extends ar{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const i=[],s=Wl.groupObjects(this.getPieces()),l=s.length-1;for(let g=0;g<s.length;g++){const y=s[g],E={};g===0&&(E.isFirst=!0),g===l&&(E.isLast=!0),cb(h)&&(E.followsWhitespace=!0);const P=this.findOrCreateCachedChildView(of,y,{textConfig:this.textConfig,context:E});i.push(...Array.from(P.getNodes()||[]));var h=y}return i}getPieces(){return Array.from(this.text.getPieces()).filter(i=>!i.hasAttribute("blockBreak"))}}const cb=c=>/\s$/.test(c==null?void 0:c.toString()),{css:af}=Ni;class lf extends ar{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const s=[document.createComment("block")];if(this.block.isEmpty())s.push(_("br"));else{var l;const h=(l=kt(this.block.getLastAttribute()))===null||l===void 0?void 0:l.text,g=this.findOrCreateCachedChildView(sf,this.block.text,{textConfig:h});s.push(...Array.from(g.getNodes()||[])),this.shouldAddExtraNewlineElement()&&s.push(_("br"))}if(this.attributes.length)return s;{let h;const{tagName:g}=a.default;this.block.isRTL()&&(h={dir:"rtl"});const y=_({tagName:g,attributes:h});return s.forEach(E=>y.appendChild(E)),[y]}}createContainerElement(i){const s={};let l;const h=this.attributes[i],{tagName:g,htmlAttributes:y=[]}=kt(h);if(i===0&&this.block.isRTL()&&Object.assign(s,{dir:"rtl"}),h==="attachmentGallery"){const E=this.block.getBlockBreakPosition();l="".concat(af.attachmentGallery," ").concat(af.attachmentGallery,"--").concat(E)}return Object.entries(this.block.htmlAttributes).forEach(E=>{let[P,M]=E;y.includes(P)&&(s[P]=M)}),_({tagName:g,className:l,attributes:s})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class bs extends ar{static render(i){const s=_("div"),l=new this(i,{element:s});return l.render(),l.sync(),s}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new rb,this.setDocument(this.object)}setDocument(i){i.isEqualTo(this.document)||(this.document=this.object=i)}render(){if(this.childViews=[],this.shadowElement=_("div"),!this.document.isEmpty()){const i=Wl.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(i).forEach(s=>{const l=this.findOrCreateCachedChildView(lf,s);Array.from(l.getNodes()).map(h=>this.shadowElement.appendChild(h))})}}isSynced(){return db(this.shadowElement,this.element)}sync(){const i=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(i),this.didSync()}didSync(){return this.elementStore.reset(uf(this.element)),Fl(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const i=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(s=>{i.appendChild(s.cloneNode(!0))}),Array.from(uf(i)).forEach(s=>{const l=this.elementStore.remove(s);l&&s.parentNode.replaceChild(l,s)}),i}}const uf=c=>c.querySelectorAll("[data-trix-store-key]"),db=(c,i)=>cf(c.innerHTML)===cf(i.innerHTML),cf=c=>c.replace(/&nbsp;/g," ");function ie(c,i,s){return i=fb(i),i in c?Object.defineProperty(c,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):c[i]=s,c}function hb(c,i){if(typeof c!="object"||c===null)return c;var s=c[Symbol.toPrimitive];if(s!==void 0){var l=s.call(c,i||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(c)}function fb(c){var i=hb(c,"string");return typeof i=="symbol"?i:String(i)}function st(c,i){var s=df(c,i,"get");return gb(c,s)}function Vl(c,i,s){var l=df(c,i,"set");return mb(c,l,s),s}function df(c,i,s){if(!i.has(c))throw new TypeError("attempted to "+s+" private field on non-instance");return i.get(c)}function gb(c,i){return i.get?i.get.call(c):i.value}function mb(c,i,s){if(i.set)i.set.call(c,s);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=s}}function As(c,i,s){if(!i.has(c))throw new TypeError("attempted to get private field on non-instance");return s}function hf(c,i){if(i.has(c))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _i(c,i,s){hf(c,i),i.set(c,s)}function pb(c,i){hf(c,i),i.add(c)}class lr extends ir{static registerType(i,s){s.type=i,this.types[i]=s}static fromJSON(i){const s=this.types[i.type];if(s)return s.fromJSON(i)}constructor(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=fe.box(s)}copyWithAttributes(i){return new this.constructor(this.getValue(),i)}copyWithAdditionalAttributes(i){return this.copyWithAttributes(this.attributes.merge(i))}copyWithoutAttribute(i){return this.copyWithAttributes(this.attributes.remove(i))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(i){return this.attributes.get(i)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(i){return this.attributes.has(i)}hasSameStringValueAsPiece(i){return i&&this.toString()===i.toString()}hasSameAttributesAsPiece(i){return i&&(this.attributes===i.attributes||this.attributes.isEqualTo(i.attributes))}isBlockBreak(){return!1}isEqualTo(i){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(i)&&this.hasSameStringValueAsPiece(i)&&this.hasSameAttributesAsPiece(i)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(i){return this.getAttribute("href")===i.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(i){return!1}}ie(lr,"types",{});class ff extends vs{constructor(i){super(...arguments),this.url=i}perform(i){const s=new Image;s.onload=()=>(s.width=this.width=s.naturalWidth,s.height=this.height=s.naturalHeight,i(!0,s)),s.onerror=()=>i(!1),s.src=this.url}}class Wr extends ir{static attachmentForFile(i){const s=this.attributesForFile(i),l=new this(s);return l.setFile(i),l}static attributesForFile(i){return new fe({filename:i.name,filesize:i.size,contentType:i.type})}static fromJSON(i){return new this(i)}constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(i),this.releaseFile=this.releaseFile.bind(this),this.attributes=fe.box(i),this.didChangeAttributes()}getAttribute(i){return this.attributes.get(i)}hasAttribute(i){return this.attributes.has(i)}getAttributes(){return this.attributes.toObject()}setAttributes(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=this.attributes.merge(i);if(!this.attributes.isEqualTo(s)){var l,h,g,y;return this.attributes=s,this.didChangeAttributes(),(l=this.previewDelegate)===null||l===void 0||(h=l.attachmentDidChangeAttributes)===null||h===void 0||h.call(l,this),(g=this.delegate)===null||g===void 0||(y=g.attachmentDidChangeAttributes)===null||y===void 0?void 0:y.call(g,this)}}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Wr.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const i=this.attributes.get("filesize");return typeof i=="number"?T.formatter(i):""}getExtension(){var i;return(i=this.getFilename().match(/\.(\w+)$/))===null||i===void 0?void 0:i[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(i){if(this.file=i,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(i){if(this.uploadProgress!==i){var s,l;return this.uploadProgress=i,(s=this.uploadProgressDelegate)===null||s===void 0||(l=s.attachmentDidChangeUploadProgress)===null||l===void 0?void 0:l.call(s,this)}}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(i){if(i!==this.getPreviewURL()){var s,l,h,g;return this.previewURL=i,(s=this.previewDelegate)===null||s===void 0||(l=s.attachmentDidChangeAttributes)===null||l===void 0||l.call(s,this),(h=this.delegate)===null||h===void 0||(g=h.attachmentDidChangePreviewURL)===null||g===void 0?void 0:g.call(h,this)}}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(i,s){if(i&&i!==this.getPreviewURL())return this.preloadingURL=i,new ff(i).then(h=>{let{width:g,height:y}=h;return(!this.getWidth()||!this.getHeight())&&this.setAttributes({width:g,height:y}),this.preloadingURL=null,this.setPreviewURL(i),s==null?void 0:s()}).catch(()=>(this.preloadingURL=null,s==null?void 0:s()))}}ie(Wr,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class _r extends lr{static fromJSON(i){return new this(Wr.fromJSON(i.attachment),i.attributes)}constructor(i){super(...arguments),this.attachment=i,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(i){this.hasAttribute(i)&&(this.attachment.hasAttribute(i)||this.attachment.setAttributes(this.attributes.slice([i])),this.attributes=this.attributes.remove(i))}removeProhibitedAttributes(){const i=this.attributes.slice(_r.permittedAttributes);i.isEqualTo(this.attributes)||(this.attributes=i)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(i){var s;return super.isEqualTo(i)&&this.attachment.id===(i==null||(s=i.attachment)===null||s===void 0?void 0:s.id)}toString(){return j}toJSON(){const i=super.toJSON(...arguments);return i.attachment=this.attachment,i}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}ie(_r,"permittedAttributes",["caption","presentation"]),lr.registerType("attachment",_r);class Ul extends lr{static fromJSON(i){return new this(i.string,i.attributes)}constructor(i){super(...arguments),this.string=Xy(i),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const i=super.toJSON(...arguments);return i.string=this.string,i}canBeConsolidatedWith(i){return i&&this.hasSameConstructorAs(i)&&this.hasSameAttributesAsPiece(i)}consolidateWith(i){return new this.constructor(this.toString()+i.toString(),this.attributes)}splitAtOffset(i){let s,l;return i===0?(s=null,l=this):i===this.length?(s=this,l=null):(s=new this.constructor(this.string.slice(0,i),this.attributes),l=new this.constructor(this.string.slice(i),this.attributes)),[s,l]}toConsole(){let{string:i}=this;return i.length>15&&(i=i.slice(0,14)+"…"),JSON.stringify(i.toString())}}lr.registerType("string",Ul);class xs extends ir{static box(i){return i instanceof this?i:new this(i)}constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=i.slice(0),this.length=this.objects.length}indexOf(i){return this.objects.indexOf(i)}splice(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return new this.constructor(Ll(this.objects,...s))}eachObject(i){return this.objects.map((s,l)=>i(s,l))}insertObjectAtIndex(i,s){return this.splice(s,0,i)}insertSplittableListAtIndex(i,s){return this.splice(s,0,...i.objects)}insertSplittableListAtPosition(i,s){const[l,h]=this.splitObjectAtPosition(s);return new this.constructor(l).insertSplittableListAtIndex(i,h)}editObjectAtIndex(i,s){return this.replaceObjectAtIndex(s(this.objects[i]),i)}replaceObjectAtIndex(i,s){return this.splice(s,1,i)}removeObjectAtIndex(i){return this.splice(i,1)}getObjectAtIndex(i){return this.objects[i]}getSplittableListInRange(i){const[s,l,h]=this.splitObjectsAtRange(i);return new this.constructor(s.slice(l,h+1))}selectSplittableList(i){const s=this.objects.filter(l=>i(l));return new this.constructor(s)}removeObjectsInRange(i){const[s,l,h]=this.splitObjectsAtRange(i);return new this.constructor(s).splice(l,h-l+1)}transformObjectsInRange(i,s){const[l,h,g]=this.splitObjectsAtRange(i),y=l.map((E,P)=>h<=P&&P<=g?s(E):E);return new this.constructor(y)}splitObjectsAtRange(i){let s,[l,h,g]=this.splitObjectAtPosition(yb(i));return[l,s]=new this.constructor(l).splitObjectAtPosition(bb(i)+g),[l,h,s-1]}getObjectAtPosition(i){const{index:s}=this.findIndexAndOffsetAtPosition(i);return this.objects[s]}splitObjectAtPosition(i){let s,l;const{index:h,offset:g}=this.findIndexAndOffsetAtPosition(i),y=this.objects.slice(0);if(h!=null)if(g===0)s=h,l=0;else{const E=this.getObjectAtIndex(h),[P,M]=E.splitAtOffset(g);y.splice(h,1,P,M),s=h+1,l=P.getLength()-g}else s=y.length,l=0;return[y,s,l]}consolidate(){const i=[];let s=this.objects[0];return this.objects.slice(1).forEach(l=>{var h,g;(h=(g=s).canBeConsolidatedWith)!==null&&h!==void 0&&h.call(g,l)?s=s.consolidateWith(l):(i.push(s),s=l)}),s&&i.push(s),new this.constructor(i)}consolidateFromIndexToIndex(i,s){const h=this.objects.slice(0).slice(i,s+1),g=new this.constructor(h).consolidate().toArray();return this.splice(i,h.length,...g)}findIndexAndOffsetAtPosition(i){let s,l=0;for(s=0;s<this.objects.length;s++){const h=this.objects[s],g=l+h.getLength();if(l<=i&&i<g)return{index:s,offset:i-l};l=g}return{index:null,offset:null}}findPositionAtIndexAndOffset(i,s){let l=0;for(let h=0;h<this.objects.length;h++){const g=this.objects[h];if(h<i)l+=g.getLength();else if(h===i){l+=s;break}}return l}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(i=>this.endPosition+=i.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(i){return super.isEqualTo(...arguments)||vb(this.objects,i==null?void 0:i.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(i=>i.inspect()).join(", "),"]")}}}const vb=function(c){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(c.length!==i.length)return!1;let s=!0;for(let l=0;l<c.length;l++){const h=c[l];s&&!h.isEqualTo(i[l])&&(s=!1)}return s},yb=c=>c[0],bb=c=>c[1];class Me extends ir{static textForAttachmentWithAttributes(i,s){const l=new _r(i,s);return new this([l])}static textForStringWithAttributes(i,s){const l=new Ul(i,s);return new this([l])}static fromJSON(i){const s=Array.from(i).map(l=>lr.fromJSON(l));return new this(s)}constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const s=i.filter(l=>!l.isEmpty());this.pieceList=new xs(s)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(i){return new this.constructor(i.consolidate().toArray())}copyUsingObjectMap(i){const s=this.getPieces().map(l=>i.find(l)||l);return new this.constructor(s)}appendText(i){return this.insertTextAtPosition(i,this.getLength())}insertTextAtPosition(i,s){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(i.pieceList,s))}removeTextAtRange(i){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(i))}replaceTextAtRange(i,s){return this.removeTextAtRange(s).insertTextAtPosition(i,s[0])}moveTextFromRangeToPosition(i,s){if(i[0]<=s&&s<=i[1])return;const l=this.getTextAtRange(i),h=l.getLength();return i[0]<s&&(s-=h),this.removeTextAtRange(i).insertTextAtPosition(l,s)}addAttributeAtRange(i,s,l){const h={};return h[i]=s,this.addAttributesAtRange(h,l)}addAttributesAtRange(i,s){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(s,l=>l.copyWithAdditionalAttributes(i)))}removeAttributeAtRange(i,s){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(s,l=>l.copyWithoutAttribute(i)))}setAttributesAtRange(i,s){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(s,l=>l.copyWithAttributes(i)))}getAttributesAtPosition(i){var s;return((s=this.pieceList.getObjectAtPosition(i))===null||s===void 0?void 0:s.getAttributes())||{}}getCommonAttributes(){const i=Array.from(this.pieceList.toArray()).map(s=>s.getAttributes());return fe.fromCommonAttributesOfObjects(i).toObject()}getCommonAttributesAtRange(i){return this.getTextAtRange(i).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(i,s){let l,h=l=s;const g=this.getLength();for(;h>0&&this.getCommonAttributesAtRange([h-1,l])[i];)h--;for(;l<g&&this.getCommonAttributesAtRange([s,l+1])[i];)l++;return[h,l]}getTextAtRange(i){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(i))}getStringAtRange(i){return this.pieceList.getSplittableListInRange(i).toString()}getStringAtPosition(i){return this.getStringAtRange([i,i+1])}startsWithString(i){return this.getStringAtRange([0,i.length])===i}endsWithString(i){const s=this.getLength();return this.getStringAtRange([s-i.length,s])===i}getAttachmentPieces(){return this.pieceList.toArray().filter(i=>!!i.attachment)}getAttachments(){return this.getAttachmentPieces().map(i=>i.attachment)}getAttachmentAndPositionById(i){let s=0;for(const h of this.pieceList.toArray()){var l;if(((l=h.attachment)===null||l===void 0?void 0:l.id)===i)return{attachment:h.attachment,position:s};s+=h.length}return{attachment:null,position:null}}getAttachmentById(i){const{attachment:s}=this.getAttachmentAndPositionById(i);return s}getRangeOfAttachment(i){const s=this.getAttachmentAndPositionById(i.id),l=s.position;if(i=s.attachment,i)return[l,l+1]}updateAttributesForAttachment(i,s){const l=this.getRangeOfAttachment(s);return l?this.addAttributesAtRange(i,l):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(i){var s;return super.isEqualTo(i)||(i==null||(s=i.pieceList)===null||s===void 0?void 0:s.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(i){return this.pieceList.eachObject(i)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(i){return this.pieceList.getObjectAtPosition(i)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const i=this.pieceList.selectSplittableList(s=>s.isSerializable());return this.copyWithPieceList(i)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(i=>JSON.parse(i.toConsole())))}getDirection(){return _y(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class Je extends ir{static fromJSON(i){const s=Me.fromJSON(i.text);return new this(s,i.attributes,i.htmlAttributes)}constructor(i,s,l){super(...arguments),this.text=Ab(i||new Me),this.attributes=s||[],this.htmlAttributes=l||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(i){return super.isEqualTo(i)?!0:this.text.isEqualTo(i==null?void 0:i.text)&&or(this.attributes,i==null?void 0:i.attributes)&&zr(this.htmlAttributes,i==null?void 0:i.htmlAttributes)}copyWithText(i){return new Je(i,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(i){return new Je(this.text,i,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(i){const s=i.find(this.text);return s?this.copyWithText(s):this.copyWithText(this.text.copyUsingObjectMap(i))}addAttribute(i){const s=this.attributes.concat(mf(i));return this.copyWithAttributes(s)}addHTMLAttribute(i,s){const l=Object.assign({},this.htmlAttributes,{[i]:s});return new Je(this.text,this.attributes,l)}removeAttribute(i){const{listAttribute:s}=kt(i),l=vf(vf(this.attributes,i),s);return this.copyWithAttributes(l)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return pf(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(i){return this.attributes[i-1]}hasAttribute(i){return this.attributes.includes(i)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return pf(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(i=>kt(i).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const i=this.getLastNestableAttribute();return i?this.removeAttribute(i):this}increaseNestingLevel(){const i=this.getLastNestableAttribute();if(i){const s=this.attributes.lastIndexOf(i),l=Ll(this.attributes,s+1,0,...mf(i));return this.copyWithAttributes(l)}else return this}getListItemAttributes(){return this.attributes.filter(i=>kt(i).listAttribute)}isListItem(){var i;return(i=kt(this.getLastAttribute()))===null||i===void 0?void 0:i.listAttribute}isTerminalBlock(){var i;return(i=kt(this.getLastAttribute()))===null||i===void 0?void 0:i.terminal}breaksOnReturn(){var i;return(i=kt(this.getLastAttribute()))===null||i===void 0?void 0:i.breakOnReturn}findLineBreakInDirectionFromPosition(i,s){const l=this.toString();let h;switch(i){case"forward":h=l.indexOf(`
`,s);break;case"backward":h=l.slice(0,s).lastIndexOf(`
`)}if(h!==-1)return h}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(i){return!this.hasAttributes()&&!i.hasAttributes()&&this.getDirection()===i.getDirection()}consolidateWith(i){const s=Me.textForStringWithAttributes(`
`),l=this.getTextWithoutBlockBreak().appendText(s);return this.copyWithText(l.appendText(i.text))}splitAtOffset(i){let s,l;return i===0?(s=null,l=this):i===this.getLength()?(s=this,l=null):(s=this.copyWithText(this.text.getTextAtRange([0,i])),l=this.copyWithText(this.text.getTextAtRange([i,this.getLength()]))),[s,l]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return gf(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(i){return this.attributes[i]}canBeGroupedWith(i,s){const l=i.getAttributes(),h=l[s],g=this.attributes[s];return g===h&&!(kt(g).group===!1&&!$y().includes(l[s+1]))&&(this.getDirection()===i.getDirection()||i.isEmpty())}}const Ab=function(c){return c=xb(c),c=Sb(c),c},xb=function(c){let i=!1;const s=c.getPieces();let l=s.slice(0,s.length-1);const h=s[s.length-1];return h?(l=l.map(g=>g.isBlockBreak()?(i=!0,kb(g)):g),i?new Me([...l,h]):c):c},Cb=Me.textForStringWithAttributes(`
`,{blockBreak:!0}),Sb=function(c){return gf(c)?c:c.appendText(Cb)},gf=function(c){const i=c.getLength();return i===0?!1:c.getTextAtRange([i-1,i]).isBlockBreak()},kb=c=>c.copyWithoutAttribute("blockBreak"),mf=function(c){const{listAttribute:i}=kt(c);return i?[i,c]:[c]},pf=c=>c.slice(-1)[0],vf=function(c,i){const s=c.lastIndexOf(i);return s===-1?c:Ll(c,s,1)};class Ee extends ir{static fromJSON(i){const s=Array.from(i).map(l=>Je.fromJSON(l));return new this(s)}static fromString(i,s){const l=Me.textForStringWithAttributes(i,s);return new this([new Je(l)])}constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),i.length===0&&(i=[new Je]),this.blockList=xs.box(i)}isEmpty(){const i=this.getBlockAtIndex(0);return this.blockList.length===1&&i.isEmpty()&&!i.hasAttributes()}copy(){const s=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(s)}copyUsingObjectsFromDocument(i){const s=new nb(i.getObjects());return this.copyUsingObjectMap(s)}copyUsingObjectMap(i){const s=this.getBlocks().map(l=>i.find(l)||l.copyUsingObjectMap(i));return new this.constructor(s)}copyWithBaseBlockAttributes(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const s=this.getBlocks().map(l=>{const h=i.concat(l.getAttributes());return l.copyWithAttributes(h)});return new this.constructor(s)}replaceBlock(i,s){const l=this.blockList.indexOf(i);return l===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(s,l))}insertDocumentAtRange(i,s){const{blockList:l}=i;s=tt(s);let[h]=s;const{index:g,offset:y}=this.locationFromPosition(h);let E=this;const P=this.getBlockAtPosition(h);return ln(s)&&P.isEmpty()&&!P.hasAttributes()?E=new this.constructor(E.blockList.removeObjectAtIndex(g)):P.getBlockBreakPosition()===y&&h++,E=E.removeTextAtRange(s),new this.constructor(E.blockList.insertSplittableListAtPosition(l,h))}mergeDocumentAtRange(i,s){let l,h;s=tt(s);const[g]=s,y=this.locationFromPosition(g),E=this.getBlockAtIndex(y.index).getAttributes(),P=i.getBaseBlockAttributes(),M=E.slice(-P.length);if(or(P,M)){const Ft=E.slice(0,-P.length);l=i.copyWithBaseBlockAttributes(Ft)}else l=i.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(E);const Q=l.getBlockCount(),Pt=l.getBlockAtIndex(0);if(or(E,Pt.getAttributes())){const Ft=Pt.getTextWithoutBlockBreak();if(h=this.insertTextAtRange(Ft,s),Q>1){l=new this.constructor(l.getBlocks().slice(1));const Ur=g+Ft.getLength();h=h.insertDocumentAtRange(l,Ur)}}else h=this.insertDocumentAtRange(l,s);return h}insertTextAtRange(i,s){s=tt(s);const[l]=s,{index:h,offset:g}=this.locationFromPosition(l),y=this.removeTextAtRange(s);return new this.constructor(y.blockList.editObjectAtIndex(h,E=>E.copyWithText(E.text.insertTextAtPosition(i,g))))}removeTextAtRange(i){let s;i=tt(i);const[l,h]=i;if(ln(i))return this;const[g,y]=Array.from(this.locationRangeFromRange(i)),E=g.index,P=g.offset,M=this.getBlockAtIndex(E),Q=y.index,Pt=y.offset,Ft=this.getBlockAtIndex(Q);if(h-l===1&&M.getBlockBreakPosition()===P&&Ft.getBlockBreakPosition()!==Pt&&Ft.text.getStringAtPosition(Pt)===`
`)s=this.blockList.editObjectAtIndex(Q,Ge=>Ge.copyWithText(Ge.text.removeTextAtRange([Pt,Pt+1])));else{let Ge;const dn=M.text.getTextAtRange([0,P]),qi=Ft.text.getTextAtRange([Pt,Ft.getLength()]),$r=dn.appendText(qi);E!==Q&&P===0&&M.getAttributeLevel()>=Ft.getAttributeLevel()?Ge=Ft.copyWithText($r):Ge=M.copyWithText($r);const oe=Q+1-E;s=this.blockList.splice(E,oe,Ge)}return new this.constructor(s)}moveTextFromRangeToPosition(i,s){let l;i=tt(i);const[h,g]=i;if(h<=s&&s<=g)return this;let y=this.getDocumentAtRange(i),E=this.removeTextAtRange(i);const P=h<s;P&&(s-=y.getLength());const[M,...Q]=y.getBlocks();return Q.length===0?(l=M.getTextWithoutBlockBreak(),P&&(s+=1)):l=M.text,E=E.insertTextAtRange(l,s),Q.length===0?E:(y=new this.constructor(Q),s+=l.getLength(),E.insertDocumentAtRange(y,s))}addAttributeAtRange(i,s,l){let{blockList:h}=this;return this.eachBlockAtRange(l,(g,y,E)=>h=h.editObjectAtIndex(E,function(){return kt(i)?g.addAttribute(i,s):y[0]===y[1]?g:g.copyWithText(g.text.addAttributeAtRange(i,s,y))})),new this.constructor(h)}addAttribute(i,s){let{blockList:l}=this;return this.eachBlock((h,g)=>l=l.editObjectAtIndex(g,()=>h.addAttribute(i,s))),new this.constructor(l)}removeAttributeAtRange(i,s){let{blockList:l}=this;return this.eachBlockAtRange(s,function(h,g,y){kt(i)?l=l.editObjectAtIndex(y,()=>h.removeAttribute(i)):g[0]!==g[1]&&(l=l.editObjectAtIndex(y,()=>h.copyWithText(h.text.removeAttributeAtRange(i,g))))}),new this.constructor(l)}updateAttributesForAttachment(i,s){const l=this.getRangeOfAttachment(s),[h]=Array.from(l),{index:g}=this.locationFromPosition(h),y=this.getTextAtIndex(g);return new this.constructor(this.blockList.editObjectAtIndex(g,E=>E.copyWithText(y.updateAttributesForAttachment(i,s))))}removeAttributeForAttachment(i,s){const l=this.getRangeOfAttachment(s);return this.removeAttributeAtRange(i,l)}setHTMLAttributeAtPosition(i,s,l){const h=this.getBlockAtPosition(i),g=h.addHTMLAttribute(s,l);return this.replaceBlock(h,g)}insertBlockBreakAtRange(i){let s;i=tt(i);const[l]=i,{offset:h}=this.locationFromPosition(l),g=this.removeTextAtRange(i);return h===0&&(s=[new Je]),new this.constructor(g.blockList.insertSplittableListAtPosition(new xs(s),l))}applyBlockAttributeAtRange(i,s,l){const h=this.expandRangeToLineBreaksAndSplitBlocks(l);let g=h.document;l=h.range;const y=kt(i);if(y.listAttribute){g=g.removeLastListAttributeAtRange(l,{exceptAttributeName:i});const E=g.convertLineBreaksToBlockBreaksInRange(l);g=E.document,l=E.range}else y.exclusive?g=g.removeBlockAttributesAtRange(l):y.terminal?g=g.removeLastTerminalAttributeAtRange(l):g=g.consolidateBlocksAtRange(l);return g.addAttributeAtRange(i,s,l)}removeLastListAttributeAtRange(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:l}=this;return this.eachBlockAtRange(i,function(h,g,y){const E=h.getLastAttribute();E&&kt(E).listAttribute&&E!==s.exceptAttributeName&&(l=l.editObjectAtIndex(y,()=>h.removeAttribute(E)))}),new this.constructor(l)}removeLastTerminalAttributeAtRange(i){let{blockList:s}=this;return this.eachBlockAtRange(i,function(l,h,g){const y=l.getLastAttribute();y&&kt(y).terminal&&(s=s.editObjectAtIndex(g,()=>l.removeAttribute(y)))}),new this.constructor(s)}removeBlockAttributesAtRange(i){let{blockList:s}=this;return this.eachBlockAtRange(i,function(l,h,g){l.hasAttributes()&&(s=s.editObjectAtIndex(g,()=>l.copyWithoutAttributes()))}),new this.constructor(s)}expandRangeToLineBreaksAndSplitBlocks(i){let s;i=tt(i);let[l,h]=i;const g=this.locationFromPosition(l),y=this.locationFromPosition(h);let E=this;const P=E.getBlockAtIndex(g.index);if(g.offset=P.findLineBreakInDirectionFromPosition("backward",g.offset),g.offset!=null&&(s=E.positionFromLocation(g),E=E.insertBlockBreakAtRange([s,s+1]),y.index+=1,y.offset-=E.getBlockAtIndex(g.index).getLength(),g.index+=1),g.offset=0,y.offset===0&&y.index>g.index)y.index-=1,y.offset=E.getBlockAtIndex(y.index).getBlockBreakPosition();else{const M=E.getBlockAtIndex(y.index);M.text.getStringAtRange([y.offset-1,y.offset])===`
`?y.offset-=1:y.offset=M.findLineBreakInDirectionFromPosition("forward",y.offset),y.offset!==M.getBlockBreakPosition()&&(s=E.positionFromLocation(y),E=E.insertBlockBreakAtRange([s,s+1]))}return l=E.positionFromLocation(g),h=E.positionFromLocation(y),i=tt([l,h]),{document:E,range:i}}convertLineBreaksToBlockBreaksInRange(i){i=tt(i);let[s]=i;const l=this.getStringAtRange(i).slice(0,-1);let h=this;return l.replace(/.*?\n/g,function(g){s+=g.length,h=h.insertBlockBreakAtRange([s-1,s])}),{document:h,range:i}}consolidateBlocksAtRange(i){i=tt(i);const[s,l]=i,h=this.locationFromPosition(s).index,g=this.locationFromPosition(l).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(h,g))}getDocumentAtRange(i){i=tt(i);const s=this.blockList.getSplittableListInRange(i).toArray();return new this.constructor(s)}getStringAtRange(i){let s;const l=i=tt(i);return l[l.length-1]!==this.getLength()&&(s=-1),this.getDocumentAtRange(i).toString().slice(0,s)}getBlockAtIndex(i){return this.blockList.getObjectAtIndex(i)}getBlockAtPosition(i){const{index:s}=this.locationFromPosition(i);return this.getBlockAtIndex(s)}getTextAtIndex(i){var s;return(s=this.getBlockAtIndex(i))===null||s===void 0?void 0:s.text}getTextAtPosition(i){const{index:s}=this.locationFromPosition(i);return this.getTextAtIndex(s)}getPieceAtPosition(i){const{index:s,offset:l}=this.locationFromPosition(i);return this.getTextAtIndex(s).getPieceAtPosition(l)}getCharacterAtPosition(i){const{index:s,offset:l}=this.locationFromPosition(i);return this.getTextAtIndex(s).getStringAtRange([l,l+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(i){return this.blockList.eachObject(i)}eachBlockAtRange(i,s){let l,h;i=tt(i);const[g,y]=i,E=this.locationFromPosition(g),P=this.locationFromPosition(y);if(E.index===P.index)return l=this.getBlockAtIndex(E.index),h=[E.offset,P.offset],s(l,h,E.index);for(let M=E.index;M<=P.index;M++)if(l=this.getBlockAtIndex(M),l){switch(M){case E.index:h=[E.offset,l.text.getLength()];break;case P.index:h=[0,P.offset];break;default:h=[0,l.text.getLength()]}s(l,h,M)}}getCommonAttributesAtRange(i){i=tt(i);const[s]=i;if(ln(i))return this.getCommonAttributesAtPosition(s);{const l=[],h=[];return this.eachBlockAtRange(i,function(g,y){if(y[0]!==y[1])return l.push(g.text.getCommonAttributesAtRange(y)),h.push(yf(g))}),fe.fromCommonAttributesOfObjects(l).merge(fe.fromCommonAttributesOfObjects(h)).toObject()}}getCommonAttributesAtPosition(i){let s,l;const{index:h,offset:g}=this.locationFromPosition(i),y=this.getBlockAtIndex(h);if(!y)return{};const E=yf(y),P=y.text.getAttributesAtPosition(g),M=y.text.getAttributesAtPosition(g-1),Q=Object.keys(rr).filter(Pt=>rr[Pt].inheritable);for(s in M)l=M[s],(l===P[s]||Q.includes(s))&&(E[s]=l);return E}getRangeOfCommonAttributeAtPosition(i,s){const{index:l,offset:h}=this.locationFromPosition(s),g=this.getTextAtIndex(l),[y,E]=Array.from(g.getExpandedRangeForAttributeAtOffset(i,h)),P=this.positionFromLocation({index:l,offset:y}),M=this.positionFromLocation({index:l,offset:E});return tt([P,M])}getBaseBlockAttributes(){let i=this.getBlockAtIndex(0).getAttributes();for(let s=1;s<this.getBlockCount();s++){const l=this.getBlockAtIndex(s).getAttributes(),h=Math.min(i.length,l.length);i=(()=>{const g=[];for(let y=0;y<h&&l[y]===i[y];y++)g.push(l[y]);return g})()}return i}getAttachmentById(i){for(const s of this.getAttachments())if(s.id===i)return s}getAttachmentPieces(){let i=[];return this.blockList.eachObject(s=>{let{text:l}=s;return i=i.concat(l.getAttachmentPieces())}),i}getAttachments(){return this.getAttachmentPieces().map(i=>i.attachment)}getRangeOfAttachment(i){let s=0;const l=this.blockList.toArray();for(let h=0;h<l.length;h++){const{text:g}=l[h],y=g.getRangeOfAttachment(i);if(y)return tt([s+y[0],s+y[1]]);s+=g.getLength()}}getLocationRangeOfAttachment(i){const s=this.getRangeOfAttachment(i);return this.locationRangeFromRange(s)}getAttachmentPieceForAttachment(i){for(const s of this.getAttachmentPieces())if(s.attachment===i)return s}findRangesForBlockAttribute(i){let s=0;const l=[];return this.getBlocks().forEach(h=>{const g=h.getLength();h.hasAttribute(i)&&l.push([s,s+g]),s+=g}),l}findRangesForTextAttribute(i){let{withValue:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=0,h=[];const g=[],y=function(E){return s?E.getAttribute(i)===s:E.hasAttribute(i)};return this.getPieces().forEach(E=>{const P=E.getLength();y(E)&&(h[1]===l?h[1]=l+P:g.push(h=[l,l+P])),l+=P}),g}locationFromPosition(i){const s=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,i));if(s.index!=null)return s;{const l=this.getBlocks();return{index:l.length-1,offset:l[l.length-1].getLength()}}}positionFromLocation(i){return this.blockList.findPositionAtIndexAndOffset(i.index,i.offset)}locationRangeFromPosition(i){return tt(this.locationFromPosition(i))}locationRangeFromRange(i){if(i=tt(i),!i)return;const[s,l]=Array.from(i),h=this.locationFromPosition(s),g=this.locationFromPosition(l);return tt([h,g])}rangeFromLocationRange(i){let s;i=tt(i);const l=this.positionFromLocation(i[0]);return ln(i)||(s=this.positionFromLocation(i[1])),tt([l,s])}isEqualTo(i){return this.blockList.isEqualTo(i==null?void 0:i.blockList)}getTexts(){return this.getBlocks().map(i=>i.text)}getPieces(){const i=[];return Array.from(this.getTexts()).forEach(s=>{i.push(...Array.from(s.getPieces()||[]))}),i}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const i=[];return this.blockList.eachObject(s=>i.push(s.copyWithText(s.text.toSerializableText()))),new this.constructor(i)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(i=>JSON.parse(i.text.toConsole())))}}const yf=function(c){const i={},s=c.getLastAttribute();return s&&(i[s]=!0),i},$l=function(c){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s="string";return c=zi(c),{string:c,attributes:i,type:s}},wb=function(c){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{attachment:c,attributes:i,type:"attachment"}},Eb=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{text:[],attributes:c,htmlAttributes:i}},bf=(c,i)=>{try{return JSON.parse(c.getAttribute("data-trix-".concat(i)))}catch{return{}}},Rb=c=>{const i=c.getAttribute("width"),s=c.getAttribute("height"),l={};return i&&(l.width=parseInt(i,10)),s&&(l.height=parseInt(s,10)),l};class Vi extends Dt{static parse(i,s){const l=new this(i,s);return l.parse(),l}constructor(i){let{referenceElement:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=i,this.referenceElement=s,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return Ee.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer(),ys.setHTML(this.containerElement,this.html);const i=pt(this.containerElement,{usingFilter:Lb});for(;i.nextNode();)this.processNode(i.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=_({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return q(this.containerElement)}processNode(i){switch(i.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(i))return this.appendBlockForTextNode(i),this.processTextNode(i);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(i),this.processElement(i)}}appendBlockForTextNode(i){const s=i.parentNode;if(s===this.currentBlockElement&&this.isBlockElement(i.previousSibling))return this.appendStringWithAttributes(`
`);if(s===this.containerElement||this.isBlockElement(s)){var l;const h=this.getBlockAttributes(s),g=this.getBlockHTMLAttributes(s);or(h,(l=this.currentBlock)===null||l===void 0?void 0:l.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(h,s,g),this.currentBlockElement=s)}}appendBlockForElement(i){const s=this.isBlockElement(i),l=N(this.currentBlockElement,i);if(s&&!this.isBlockElement(i.firstChild)){if(!this.isInsignificantTextNode(i.firstChild)||!this.isBlockElement(i.firstElementChild)){const h=this.getBlockAttributes(i),g=this.getBlockHTMLAttributes(i);if(i.firstChild)if(!(l&&or(h,this.currentBlock.attributes)))this.currentBlock=this.appendBlockForAttributesWithElement(h,i,g),this.currentBlockElement=i;else return this.appendStringWithAttributes(`
`)}}else if(this.currentBlockElement&&!l&&!s){const h=this.findParentBlockElement(i);if(h)return this.appendBlockForElement(h);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(i){let{parentElement:s}=i;for(;s&&s!==this.containerElement;){if(this.isBlockElement(s)&&this.blockElements.includes(s))return s;s=s.parentElement}return null}processTextNode(i){let s=i.data;if(!Af(i.parentNode)){var l;s=jl(s),Cf((l=i.previousSibling)===null||l===void 0?void 0:l.textContent)&&(s=Db(s))}return this.appendStringWithAttributes(s,this.getTextAttributes(i.parentNode))}processElement(i){let s;if(Ne(i)){if(s=bf(i,"attachment"),Object.keys(s).length){const l=this.getTextAttributes(i);this.appendAttachmentWithAttributes(s,l),i.innerHTML=""}return this.processedElements.push(i)}else switch(rt(i)){case"br":return!this.isExtraBR(i)&&!this.isBlockElement(i.nextSibling)&&this.appendStringWithAttributes(`
`,this.getTextAttributes(i)),this.processedElements.push(i);case"img":s={url:i.getAttribute("src"),contentType:"image"};const l=Rb(i);for(const h in l){const g=l[h];s[h]=g}return this.appendAttachmentWithAttributes(s,this.getTextAttributes(i)),this.processedElements.push(i);case"tr":if(this.needsTableSeparator(i))return this.appendStringWithAttributes(ds.tableRowSeparator);break;case"td":if(this.needsTableSeparator(i))return this.appendStringWithAttributes(ds.tableCellSeparator);break}}appendBlockForAttributesWithElement(i,s){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(s);const h=Eb(i,l);return this.blocks.push(h),h}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(i,s){return this.appendPiece($l(i,s))}appendAttachmentWithAttributes(i,s){return this.appendPiece(wb(i,s))}appendPiece(i){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(i)}appendStringToTextAtIndex(i,s){const{text:l}=this.blocks[s],h=l[l.length-1];if((h==null?void 0:h.type)==="string")h.string+=i;else return l.push($l(i))}prependStringToTextAtIndex(i,s){const{text:l}=this.blocks[s],h=l[0];if((h==null?void 0:h.type)==="string")h.string=i+h.string;else return l.unshift($l(i))}getTextAttributes(i){let s;const l={};for(const h in rr){const g=rr[h];if(g.tagName&&F(i,{matchingSelector:g.tagName,untilNode:this.containerElement}))l[h]=!0;else if(g.parser){if(s=g.parser(i),s){let y=!1;for(const E of this.findBlockElementAncestors(i))if(g.parser(E)===s){y=!0;break}y||(l[h]=s)}}else g.styleProperty&&(s=i.style[g.styleProperty],s&&(l[h]=s))}if(Ne(i)){const h=bf(i,"attributes");for(const g in h)s=h[g],l[g]=s}return l}getBlockAttributes(i){const s=[];for(;i&&i!==this.containerElement;){for(const h in a){const g=a[h];if(g.parse!==!1&&rt(i)===g.tagName){var l;((l=g.test)!==null&&l!==void 0&&l.call(g,i)||!g.test)&&(s.push(h),g.listAttribute&&s.push(g.listAttribute))}}i=i.parentNode}return s.reverse()}getBlockHTMLAttributes(i){const s={},l=Object.values(a).find(g=>g.tagName===rt(i));return((l==null?void 0:l.htmlAttributes)||[]).forEach(g=>{i.hasAttribute(g)&&(s[g]=i.getAttribute(g))}),s}findBlockElementAncestors(i){const s=[];for(;i&&i!==this.containerElement;){const l=rt(i);z().includes(l)&&s.push(i),i=i.parentNode}return s}isBlockElement(i){if((i==null?void 0:i.nodeType)===Node.ELEMENT_NODE&&!Ne(i)&&!F(i,{matchingSelector:"td",untilNode:this.containerElement}))return z().includes(rt(i))||window.getComputedStyle(i).display==="block"}isInsignificantTextNode(i){if((i==null?void 0:i.nodeType)!==Node.TEXT_NODE||!Pb(i.data))return;const{parentNode:s,previousSibling:l,nextSibling:h}=i;if(!(Tb(s.previousSibling)&&!this.isBlockElement(s.previousSibling))&&!Af(s))return!l||this.isBlockElement(l)||!h||this.isBlockElement(h)}isExtraBR(i){return rt(i)==="br"&&this.isBlockElement(i.parentNode)&&i.parentNode.lastChild===i}needsTableSeparator(i){if(ds.removeBlankTableCells){var s;const l=(s=i.previousSibling)===null||s===void 0?void 0:s.textContent;return l&&/\S/.test(l)}else return i.previousSibling}translateBlockElementMarginsToNewlines(){const i=this.getMarginOfDefaultBlockElement();for(let s=0;s<this.blocks.length;s++){const l=this.getMarginOfBlockElementAtIndex(s);l&&(l.top>i.top*2&&this.prependStringToTextAtIndex(`
`,s),l.bottom>i.bottom*2&&this.appendStringToTextAtIndex(`
`,s))}}getMarginOfBlockElementAtIndex(i){const s=this.blockElements[i];if(s&&s.textContent&&!z().includes(rt(s))&&!this.processedElements.includes(s))return xf(s)}getMarginOfDefaultBlockElement(){const i=_(a.default.tagName);return this.containerElement.appendChild(i),xf(i)}}const Af=function(c){const{whiteSpace:i}=window.getComputedStyle(c);return["pre","pre-wrap","pre-line"].includes(i)},Tb=c=>c&&!Cf(c.textContent),xf=function(c){const i=window.getComputedStyle(c);if(i.display==="block")return{top:parseInt(i.marginTop),bottom:parseInt(i.marginBottom)}},Lb=function(c){return rt(c)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},Db=c=>c.replace(new RegExp("^".concat(Ml.source,"+")),""),Pb=c=>new RegExp("^".concat(Ml.source,"*$")).test(c),Cf=c=>/\s$/.test(c),Ib="[data-trix-serialize=false]",Ob=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],Hl="data-trix-serialized-attributes",Bb="[".concat(Hl,"]"),Fb=new RegExp("<!--block-->","g"),Nb={"application/json":function(c){let i;if(c instanceof Ee)i=c;else if(c instanceof HTMLElement)i=Vi.parse(c.innerHTML).getDocument();else throw new Error("unserializable object");return i.toSerializableDocument().toJSONString()},"text/html":function(c){let i;if(c instanceof Ee)i=bs.render(c);else if(c instanceof HTMLElement)i=c.cloneNode(!0);else throw new Error("unserializable object");return Array.from(i.querySelectorAll(Ib)).forEach(s=>{q(s)}),Ob.forEach(s=>{Array.from(i.querySelectorAll("[".concat(s,"]"))).forEach(l=>{l.removeAttribute(s)})}),Array.from(i.querySelectorAll(Bb)).forEach(s=>{try{const l=JSON.parse(s.getAttribute(Hl));s.removeAttribute(Hl);for(const h in l){const g=l[h];s.setAttribute(h,g)}}catch{}}),i.innerHTML.replace(Fb,"")}},Mb=function(c,i){const s=Nb[i];if(s)return s(c);throw new Error("unknown content type: ".concat(i))};var jb=Object.freeze({__proto__:null});class wt extends Dt{constructor(i,s){super(...arguments),this.attachmentManager=i,this.attachment=s,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}wt.proxyMethod("attachment.getAttribute"),wt.proxyMethod("attachment.hasAttribute"),wt.proxyMethod("attachment.setAttribute"),wt.proxyMethod("attachment.getAttributes"),wt.proxyMethod("attachment.setAttributes"),wt.proxyMethod("attachment.isPending"),wt.proxyMethod("attachment.isPreviewable"),wt.proxyMethod("attachment.getURL"),wt.proxyMethod("attachment.getHref"),wt.proxyMethod("attachment.getFilename"),wt.proxyMethod("attachment.getFilesize"),wt.proxyMethod("attachment.getFormattedFilesize"),wt.proxyMethod("attachment.getExtension"),wt.proxyMethod("attachment.getContentType"),wt.proxyMethod("attachment.getFile"),wt.proxyMethod("attachment.setFile"),wt.proxyMethod("attachment.releaseFile"),wt.proxyMethod("attachment.getUploadProgress"),wt.proxyMethod("attachment.setUploadProgress");class Sf extends Dt{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(i).forEach(s=>{this.manageAttachment(s)})}getAttachments(){const i=[];for(const s in this.managedAttachments){const l=this.managedAttachments[s];i.push(l)}return i}manageAttachment(i){return this.managedAttachments[i.id]||(this.managedAttachments[i.id]=new wt(this,i)),this.managedAttachments[i.id]}attachmentIsManaged(i){return i.id in this.managedAttachments}requestRemovalOfAttachment(i){if(this.attachmentIsManaged(i)){var s,l;return(s=this.delegate)===null||s===void 0||(l=s.attachmentManagerDidRequestRemovalOfAttachment)===null||l===void 0?void 0:l.call(s,i)}}unmanageAttachment(i){const s=this.managedAttachments[i.id];return delete this.managedAttachments[i.id],s}}class kf{constructor(i){this.composition=i,this.document=this.composition.document;const s=this.composition.getSelectedRange();this.startPosition=s[0],this.endPosition=s[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}const wf=" ";class Tn extends Dt{constructor(){super(...arguments),this.document=new Ee,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(i){if(!i.isEqualTo(this.document)){var s,l;return this.document=i,this.refreshAttachments(),this.revision++,(s=this.delegate)===null||s===void 0||(l=s.compositionDidChangeDocument)===null||l===void 0?void 0:l.call(s,i)}}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(i){var s,l,h,g;let{document:y,selectedRange:E}=i;return(s=this.delegate)===null||s===void 0||(l=s.compositionWillLoadSnapshot)===null||l===void 0||l.call(s),this.setDocument(y??new Ee),this.setSelection(E??[0,0]),(h=this.delegate)===null||h===void 0||(g=h.compositionDidLoadSnapshot)===null||g===void 0?void 0:g.call(h)}insertText(i){let{updatePosition:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const l=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(i,l));const h=l[0],g=h+i.getLength();return s&&this.setSelection(g),this.notifyDelegateOfInsertionAtRange([h,g])}insertBlock(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Je;const s=new Ee([i]);return this.insertDocument(s)}insertDocument(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Ee;const s=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(i,s));const l=s[0],h=l+i.getLength();return this.setSelection(h),this.notifyDelegateOfInsertionAtRange([l,h])}insertString(i,s){const l=this.getCurrentTextAttributes(),h=Me.textForStringWithAttributes(i,l);return this.insertText(h,s)}insertBlockBreak(){const i=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(i));const s=i[0],l=s+1;return this.setSelection(l),this.notifyDelegateOfInsertionAtRange([s,l])}insertLineBreak(){const i=new kf(this);if(i.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(i.startPosition);if(i.shouldPrependListItem()){const s=new Ee([i.block.copyWithoutText()]);return this.insertDocument(s)}else return i.shouldInsertBlockBreak()?this.insertBlockBreak():i.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():i.shouldBreakFormattedBlock()?this.breakFormattedBlock(i):this.insertString(`
`)}insertHTML(i){const s=Vi.parse(i).getDocument(),l=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(s,l));const h=l[0],g=h+s.getLength()-1;return this.setSelection(g),this.notifyDelegateOfInsertionAtRange([h,g])}replaceHTML(i){const s=Vi.parse(i).getDocument().copyUsingObjectsFromDocument(this.document),l=this.getLocationRange({strict:!1}),h=this.document.rangeFromLocationRange(l);return this.setDocument(s),this.setSelection(h)}insertFile(i){return this.insertFiles([i])}insertFiles(i){const s=[];return Array.from(i).forEach(l=>{var h;if((h=this.delegate)!==null&&h!==void 0&&h.compositionShouldAcceptFile(l)){const g=Wr.attachmentForFile(l);s.push(g)}}),this.insertAttachments(s)}insertAttachment(i){return this.insertAttachments([i])}insertAttachments(i){let s=new Me;return Array.from(i).forEach(l=>{var h;const g=l.getType(),y=(h=o[g])===null||h===void 0?void 0:h.presentation,E=this.getCurrentTextAttributes();y&&(E.presentation=y);const P=Me.textForAttachmentWithAttributes(l,E);s=s.appendText(P)}),this.insertText(s)}shouldManageDeletingInDirection(i){const s=this.getLocationRange();if(ln(s)){if(i==="backward"&&s[0].offset===0||this.shouldManageMovingCursorInDirection(i))return!0}else if(s[0].index!==s[1].index)return!0;return!1}deleteInDirection(i){let{length:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l,h,g;const y=this.getLocationRange();let E=this.getSelectedRange();const P=ln(E);if(P?h=i==="backward"&&y[0].offset===0:g=y[0].index!==y[1].index,h&&this.canDecreaseBlockAttributeLevel()){const M=this.getBlock();if(M.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(E[0]),M.isEmpty())return!1}if(P&&(E=this.getExpandedRangeInDirection(i,{length:s}),i==="backward"&&(l=this.getAttachmentAtRange(E))),l)return this.editAttachment(l),!1;if(this.setDocument(this.document.removeTextAtRange(E)),this.setSelection(E[0]),h||g)return!1}moveTextFromRange(i){const[s]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(i,s)),this.setSelection(s)}removeAttachment(i){const s=this.document.getRangeOfAttachment(i);if(s)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(s)),this.setSelection(s[0])}removeLastBlockAttribute(){const[i,s]=Array.from(this.getSelectedRange()),l=this.document.getBlockAtPosition(s);return this.removeCurrentAttribute(l.getLastAttribute()),this.setSelection(i)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(wf)}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+wf.length]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(i){const s=this.currentAttributes[i];return s!=null&&s!==!1}toggleCurrentAttribute(i){const s=!this.currentAttributes[i];return s?this.setCurrentAttribute(i,s):this.removeCurrentAttribute(i)}canSetCurrentAttribute(i){return kt(i)?this.canSetCurrentBlockAttribute(i):this.canSetCurrentTextAttribute(i)}canSetCurrentTextAttribute(i){const s=this.getSelectedDocument();if(s){for(const l of Array.from(s.getAttachments()))if(!l.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(i){const s=this.getBlock();if(s)return!s.isTerminalBlock()}setCurrentAttribute(i,s){return kt(i)?this.setBlockAttribute(i,s):(this.setTextAttribute(i,s),this.currentAttributes[i]=s,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(i,s,l){var h;const g=this.document.getBlockAtPosition(i),y=(h=kt(g.getLastAttribute()))===null||h===void 0?void 0:h.htmlAttributes;if(g&&y!==null&&y!==void 0&&y.includes(s)){const E=this.document.setHTMLAttributeAtPosition(i,s,l);this.setDocument(E)}}setTextAttribute(i,s){const l=this.getSelectedRange();if(!l)return;const[h,g]=Array.from(l);if(h===g){if(i==="href"){const y=Me.textForStringWithAttributes(s,{href:s});return this.insertText(y)}}else return this.setDocument(this.document.addAttributeAtRange(i,s,l))}setBlockAttribute(i,s){const l=this.getSelectedRange();if(this.canSetCurrentAttribute(i))return this.setDocument(this.document.applyBlockAttributeAtRange(i,s,l)),this.setSelection(l)}removeCurrentAttribute(i){return kt(i)?(this.removeBlockAttribute(i),this.updateCurrentAttributes()):(this.removeTextAttribute(i),delete this.currentAttributes[i],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(i){const s=this.getSelectedRange();if(s)return this.setDocument(this.document.removeAttributeAtRange(i,s))}removeBlockAttribute(i){const s=this.getSelectedRange();if(s)return this.setDocument(this.document.removeAttributeAtRange(i,s))}canDecreaseNestingLevel(){var i;return((i=this.getBlock())===null||i===void 0?void 0:i.getNestingLevel())>0}canIncreaseNestingLevel(){var i;const s=this.getBlock();if(s)if((i=kt(s.getLastNestableAttribute()))!==null&&i!==void 0&&i.listAttribute){const l=this.getPreviousBlock();if(l)return jy(l.getListItemAttributes(),s.getListItemAttributes())}else return s.getNestingLevel()>0}decreaseNestingLevel(){const i=this.getBlock();if(i)return this.setDocument(this.document.replaceBlock(i,i.decreaseNestingLevel()))}increaseNestingLevel(){const i=this.getBlock();if(i)return this.setDocument(this.document.replaceBlock(i,i.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var i;return((i=this.getBlock())===null||i===void 0?void 0:i.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var i;const s=(i=this.getBlock())===null||i===void 0?void 0:i.getLastAttribute();if(s)return this.removeCurrentAttribute(s)}decreaseListLevel(){let[i]=Array.from(this.getSelectedRange());const{index:s}=this.document.locationFromPosition(i);let l=s;const h=this.getBlock().getAttributeLevel();let g=this.document.getBlockAtIndex(l+1);for(;g&&!(!g.isListItem()||g.getAttributeLevel()<=h);)l++,g=this.document.getBlockAtIndex(l+1);i=this.document.positionFromLocation({index:s,offset:0});const y=this.document.positionFromLocation({index:l,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([i,y]))}updateCurrentAttributes(){const i=this.getSelectedRange({ignoreLock:!0});if(i){const s=this.document.getCommonAttributesAtRange(i);if(Array.from(Ol()).forEach(l=>{s[l]||this.canSetCurrentAttribute(l)||(s[l]=!1)}),!zr(s,this.currentAttributes))return this.currentAttributes=s,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return C.call({},this.currentAttributes)}getCurrentTextAttributes(){const i={};for(const s in this.currentAttributes){const l=this.currentAttributes[s];l!==!1&&Bl(s)&&(i[s]=l)}return i}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(i){var s;const l=this.document.locationRangeFromRange(i);return(s=this.delegate)===null||s===void 0?void 0:s.compositionDidRequestChangingSelectionToLocationRange(l)}getSelectedRange(){const i=this.getLocationRange();if(i)return this.document.rangeFromLocationRange(i)}setSelectedRange(i){const s=this.document.locationRangeFromRange(i);return this.getSelectionManager().setLocationRange(s)}getPosition(){const i=this.getLocationRange();if(i)return this.document.positionFromLocation(i[0])}getLocationRange(i){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(i)||tt({index:0,offset:0})}withTargetLocationRange(i,s){let l;this.targetLocationRange=i;try{l=s()}finally{this.targetLocationRange=null}return l}withTargetRange(i,s){const l=this.document.locationRangeFromRange(i);return this.withTargetLocationRange(l,s)}withTargetDOMRange(i,s){const l=this.createLocationRangeFromDOMRange(i,{strict:!1});return this.withTargetLocationRange(l,s)}getExpandedRangeInDirection(i){let{length:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[l,h]=Array.from(this.getSelectedRange());return i==="backward"?s?l-=s:l=this.translateUTF16PositionFromOffset(l,-1):s?h+=s:h=this.translateUTF16PositionFromOffset(h,1),tt([l,h])}shouldManageMovingCursorInDirection(i){if(this.editingAttachment)return!0;const s=this.getExpandedRangeInDirection(i);return this.getAttachmentAtRange(s)!=null}moveCursorInDirection(i){let s,l;if(this.editingAttachment)l=this.document.getRangeOfAttachment(this.editingAttachment);else{const h=this.getSelectedRange();l=this.getExpandedRangeInDirection(i),s=!ms(h,l)}if(i==="backward"?this.setSelectedRange(l[0]):this.setSelectedRange(l[1]),s){const h=this.getAttachmentAtRange(l);if(h)return this.editAttachment(h)}}expandSelectionInDirection(i){let{length:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const l=this.getExpandedRangeInDirection(i,{length:s});return this.setSelectedRange(l)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(i){const s=this.getPosition(),l=this.document.getRangeOfCommonAttributeAtPosition(i,s);return this.setSelectedRange(l)}selectionContainsAttachments(){var i;return((i=this.getSelectedAttachments())===null||i===void 0?void 0:i.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(i){const s=this.document.locationFromPosition(i);if(s)return this.locationIsCursorTarget(s)}positionIsBlockBreak(i){var s;return(s=this.document.getPieceAtPosition(i))===null||s===void 0?void 0:s.isBlockBreak()}getSelectedDocument(){const i=this.getSelectedRange();if(i)return this.document.getDocumentAtRange(i)}getSelectedAttachments(){var i;return(i=this.getSelectedDocument())===null||i===void 0?void 0:i.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const i=this.document.getAttachments(),{added:s,removed:l}=zy(this.attachments,i);return this.attachments=i,Array.from(l).forEach(h=>{var g,y;h.delegate=null,(g=this.delegate)===null||g===void 0||(y=g.compositionDidRemoveAttachment)===null||y===void 0||y.call(g,h)}),(()=>{const h=[];return Array.from(s).forEach(g=>{var y,E;g.delegate=this,h.push((y=this.delegate)===null||y===void 0||(E=y.compositionDidAddAttachment)===null||E===void 0?void 0:E.call(y,g))}),h})()}attachmentDidChangeAttributes(i){var s,l;return this.revision++,(s=this.delegate)===null||s===void 0||(l=s.compositionDidEditAttachment)===null||l===void 0?void 0:l.call(s,i)}attachmentDidChangePreviewURL(i){var s,l;return this.revision++,(s=this.delegate)===null||s===void 0||(l=s.compositionDidChangeAttachmentPreviewURL)===null||l===void 0?void 0:l.call(s,i)}editAttachment(i,s){var l,h;if(i!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=i,(l=this.delegate)===null||l===void 0||(h=l.compositionDidStartEditingAttachment)===null||h===void 0?void 0:h.call(l,this.editingAttachment,s)}stopEditingAttachment(){var i,s;this.editingAttachment&&((i=this.delegate)===null||i===void 0||(s=i.compositionDidStopEditingAttachment)===null||s===void 0||s.call(i,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(i,s){return this.setDocument(this.document.updateAttributesForAttachment(i,s))}removeAttributeForAttachment(i,s){return this.setDocument(this.document.removeAttributeForAttachment(i,s))}breakFormattedBlock(i){let{document:s}=i;const{block:l}=i;let h=i.startPosition,g=[h-1,h];l.getBlockBreakPosition()===i.startLocation.offset?(l.breaksOnReturn()&&i.nextCharacter===`
`?h+=1:s=s.removeTextAtRange(g),g=[h,h]):i.nextCharacter===`
`?i.previousCharacter===`
`?g=[h-1,h+1]:(g=[h,h+1],h+=1):i.startLocation.offset-1!==0&&(h+=1);const y=new Ee([l.removeLastAttribute().copyWithoutText()]);return this.setDocument(s.insertDocumentAtRange(y,g)),this.setSelection(h)}getPreviousBlock(){const i=this.getLocationRange();if(i){const{index:s}=i[0];if(s>0)return this.document.getBlockAtIndex(s-1)}}getBlock(){const i=this.getLocationRange();if(i)return this.document.getBlockAtIndex(i[0].index)}getAttachmentAtRange(i){const s=this.document.getDocumentAtRange(i);if(s.toString()==="".concat(j,`
`))return s.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var i,s;return(i=this.delegate)===null||i===void 0||(s=i.compositionDidChangeCurrentAttributes)===null||s===void 0?void 0:s.call(i,this.currentAttributes)}notifyDelegateOfInsertionAtRange(i){var s,l;return(s=this.delegate)===null||s===void 0||(l=s.compositionDidPerformInsertionAtRange)===null||l===void 0?void 0:l.call(s,i)}translateUTF16PositionFromOffset(i,s){const l=this.document.toUTF16String(),h=l.offsetFromUCS2Offset(i);return l.offsetToUCS2Offset(h+s)}}Tn.proxyMethod("getSelectionManager().getPointRange"),Tn.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),Tn.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),Tn.proxyMethod("getSelectionManager().locationIsCursorTarget"),Tn.proxyMethod("getSelectionManager().selectionIsExpanded"),Tn.proxyMethod("delegate?.getSelectionManager");class ql extends Dt{constructor(i){super(...arguments),this.composition=i,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(i){let{context:s,consolidatable:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const h=this.undoEntries.slice(-1)[0];if(!l||!zb(h,i,s)){const g=this.createEntry({description:i,context:s});this.undoEntries.push(g),this.redoEntries=[]}}undo(){const i=this.undoEntries.pop();if(i){const s=this.createEntry(i);return this.redoEntries.push(s),this.composition.loadSnapshot(i.snapshot)}}redo(){const i=this.redoEntries.pop();if(i){const s=this.createEntry(i);return this.undoEntries.push(s),this.composition.loadSnapshot(i.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:i,context:s}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:i==null?void 0:i.toString(),context:JSON.stringify(s),snapshot:this.composition.getSnapshot()}}}const zb=(c,i,s)=>(c==null?void 0:c.description)===(i==null?void 0:i.toString())&&(c==null?void 0:c.context)===JSON.stringify(s),Kl="attachmentGallery",Wb="presentation",_b="gallery";class Ef{constructor(i){this.document=i.document,this.selectedRange=i.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(i=>this.document=this.document.removeAttributeAtRange(Kl,i))}applyBlockAttribute(){let i=0;this.findRangesOfPieces().forEach(s=>{s[1]-s[0]>1&&(s[0]+=i,s[1]+=i,this.document.getCharacterAtPosition(s[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(s[1]),s[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),s[1]++,i++),s[0]!==0&&this.document.getCharacterAtPosition(s[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(s[0]),s[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),s[0]++,i++),this.document=this.document.applyBlockAttributeAtRange(Kl,!0,s))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(Kl)}findRangesOfPieces(){return this.document.findRangesForTextAttribute(Wb,{withValue:_b})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const Rf=function(c){const i=new Ef(c);return i.perform(),i.getSnapshot()},Vb=[Rf];class Tf{constructor(i,s,l){this.insertFiles=this.insertFiles.bind(this),this.composition=i,this.selectionManager=s,this.element=l,this.undoManager=new ql(this.composition),this.filters=Vb.slice(0)}loadDocument(i){return this.loadSnapshot({document:i,selectedRange:[0,0]})}loadHTML(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const s=Vi.parse(i,{referenceElement:this.element}).getDocument();return this.loadDocument(s)}loadJSON(i){let{document:s,selectedRange:l}=i;return s=Ee.fromJSON(s),this.loadSnapshot({document:s,selectedRange:l})}loadSnapshot(i){return this.undoManager=new ql(this.composition),this.composition.loadSnapshot(i)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(i){return this.composition.deleteInDirection(i)}insertAttachment(i){return this.composition.insertAttachment(i)}insertAttachments(i){return this.composition.insertAttachments(i)}insertDocument(i){return this.composition.insertDocument(i)}insertFile(i){return this.composition.insertFile(i)}insertFiles(i){return this.composition.insertFiles(i)}insertHTML(i){return this.composition.insertHTML(i)}insertString(i){return this.composition.insertString(i)}insertText(i){return this.composition.insertText(i)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(i){const s=this.getDocument().locationRangeFromRange([i,i+1]);return this.selectionManager.getClientRectAtLocationRange(s)}expandSelectionInDirection(i){return this.composition.expandSelectionInDirection(i)}moveCursorInDirection(i){return this.composition.moveCursorInDirection(i)}setSelectedRange(i){return this.composition.setSelectedRange(i)}activateAttribute(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return this.composition.setCurrentAttribute(i,s)}attributeIsActive(i){return this.composition.hasCurrentAttribute(i)}canActivateAttribute(i){return this.composition.canSetCurrentAttribute(i)}deactivateAttribute(i){return this.composition.removeCurrentAttribute(i)}setHTMLAtributeAtPosition(i,s,l){this.composition.setHTMLAtributeAtPosition(i,s,l)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(i){let{context:s,consolidatable:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(i,{context:s,consolidatable:l})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class Lf{constructor(i){this.element=i}findLocationFromContainerAndOffset(i,s){let{strict:l}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},h=0,g=!1;const y={index:0,offset:0},E=this.findAttachmentElementParentForNode(i);E&&(i=E.parentNode,s=V(E));const P=pt(this.element,{usingFilter:Df});for(;P.nextNode();){const M=P.currentNode;if(M===i&&Ke(i)){re(M)||(y.offset+=s);break}else{if(M.parentNode===i){if(h++===s)break}else if(!N(i,M)&&h>0)break;ht(M,{strict:l})?(g&&y.index++,y.offset=0,g=!0):y.offset+=Jl(M)}}return y}findContainerAndOffsetFromLocation(i){let s,l;if(i.index===0&&i.offset===0){for(s=this.element,l=0;s.firstChild;)if(s=s.firstChild,U(s)){l=1;break}return[s,l]}let[h,g]=this.findNodeAndOffsetFromLocation(i);if(h){if(Ke(h))Jl(h)===0?(s=h.parentNode.parentNode,l=V(h.parentNode),re(h,{name:"right"})&&l++):(s=h,l=i.offset-g);else{if(s=h.parentNode,!ht(h.previousSibling)&&!U(s))for(;h===s.lastChild&&(h=s,s=s.parentNode,!U(s)););l=V(h),i.offset!==0&&l++}return[s,l]}}findNodeAndOffsetFromLocation(i){let s,l,h=0;for(const g of this.getSignificantNodesForIndex(i.index)){const y=Jl(g);if(i.offset<=h+y)if(Ke(g)){if(s=g,l=h,i.offset===l&&re(s))break}else s||(s=g,l=h);if(h+=y,h>i.offset)break}return[s,l]}findAttachmentElementParentForNode(i){for(;i&&i!==this.element;){if(Ne(i))return i;i=i.parentNode}}getSignificantNodesForIndex(i){const s=[],l=pt(this.element,{usingFilter:Ub});let h=!1;for(;l.nextNode();){const y=l.currentNode;if(ut(y)){var g;if(g!=null?g++:g=0,g===i)h=!0;else if(h)break}else h&&s.push(y)}return s}}const Jl=function(c){return c.nodeType===Node.TEXT_NODE?re(c)?0:c.textContent.length:rt(c)==="br"||Ne(c)?1:0},Ub=function(c){return $b(c)===NodeFilter.FILTER_ACCEPT?Df(c):NodeFilter.FILTER_REJECT},$b=function(c){return qe(c)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},Df=function(c){return Ne(c.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class Pf{createDOMRangeFromPoint(i){let{x:s,y:l}=i,h;if(document.caretPositionFromPoint){const{offsetNode:g,offset:y}=document.caretPositionFromPoint(s,l);return h=document.createRange(),h.setStart(g,y),h}else{if(document.caretRangeFromPoint)return document.caretRangeFromPoint(s,l);if(document.body.createTextRange){const g=ji();try{const y=document.body.createTextRange();y.moveToPoint(s,l),y.select()}catch{}return h=ji(),Yh(g),h}}}getClientRectsForDOMRange(i){const s=Array.from(i.getClientRects()),l=s[0],h=s[s.length-1];return[l,h]}}class ur extends Dt{constructor(i){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=i,this.locationMapper=new Lf(this.element),this.pointMapper=new Pf,this.lockCount=0,k("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return i.strict===!1?this.createLocationRangeFromDOMRange(ji()):i.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(i){if(this.lockedLocationRange)return;i=tt(i);const s=this.createDOMRangeFromLocationRange(i);s&&(Yh(s),this.updateCurrentLocationRange(i))}setLocationRangeFromPointRange(i){i=tt(i);const s=this.getLocationAtPoint(i[0]),l=this.getLocationAtPoint(i[1]);this.setLocationRange([s,l])}getClientRectAtLocationRange(i){const s=this.createDOMRangeFromLocationRange(i);if(s)return this.getClientRectsForDOMRange(s)[1]}locationIsCursorTarget(i){const s=Array.from(this.findNodeAndOffsetFromLocation(i))[0];return re(s)}lock(){this.lockCount++===0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount===0){const{lockedLocationRange:i}=this;if(this.lockedLocationRange=null,i!=null)return this.setLocationRange(i)}}clearSelection(){var i;return(i=Xh())===null||i===void 0?void 0:i.removeAllRanges()}selectionIsCollapsed(){var i;return((i=ji())===null||i===void 0?void 0:i.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(i,s){if(i==null||!this.domRangeWithinElement(i))return;const l=this.findLocationFromContainerAndOffset(i.startContainer,i.startOffset,s);if(!l)return;const h=i.collapsed?void 0:this.findLocationFromContainerAndOffset(i.endContainer,i.endOffset,s);return tt([l,h])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let i;this.paused=!0;const s=()=>{if(this.paused=!1,clearTimeout(l),Array.from(i).forEach(h=>{h.destroy()}),N(document,this.element))return this.selectionDidChange()},l=setTimeout(s,200);i=["mousemove","keydown"].map(h=>k(h,{onElement:document,withCallback:s}))}selectionDidChange(){if(!this.paused&&!p(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(i){if((i??(i=this.createLocationRangeFromDOMRange(ji())))&&!ms(i,this.currentLocationRange)){var s,l;return this.currentLocationRange=i,(s=this.delegate)===null||s===void 0||(l=s.locationRangeDidChange)===null||l===void 0?void 0:l.call(s,this.currentLocationRange.slice(0))}}createDOMRangeFromLocationRange(i){const s=this.findContainerAndOffsetFromLocation(i[0]),l=ln(i)?s:this.findContainerAndOffsetFromLocation(i[1])||s;if(s!=null&&l!=null){const h=document.createRange();return h.setStart(...Array.from(s||[])),h.setEnd(...Array.from(l||[])),h}}getLocationAtPoint(i){const s=this.createDOMRangeFromPoint(i);if(s){var l;return(l=this.createLocationRangeFromDOMRange(s))===null||l===void 0?void 0:l[0]}}domRangeWithinElement(i){return i.collapsed?N(this.element,i.startContainer):N(this.element,i.startContainer)&&N(this.element,i.endContainer)}}ur.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),ur.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),ur.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),ur.proxyMethod("pointMapper.createDOMRangeFromPoint"),ur.proxyMethod("pointMapper.getClientRectsForDOMRange");var If=Object.freeze({__proto__:null,Attachment:Wr,AttachmentManager:Sf,AttachmentPiece:_r,Block:Je,Composition:Tn,Document:Ee,Editor:Tf,HTMLParser:Vi,HTMLSanitizer:ys,LineBreakInsertion:kf,LocationMapper:Lf,ManagedAttachment:wt,Piece:lr,PointMapper:Pf,SelectionManager:ur,SplittableList:xs,StringPiece:Ul,Text:Me,UndoManager:ql}),Hb=Object.freeze({__proto__:null,ObjectView:ar,AttachmentView:_l,BlockView:lf,DocumentView:bs,PieceView:of,PreviewableAttachmentView:rf,TextView:sf});const{lang:Gl,css:cr,keyNames:qb}=Ni,Ql=function(c){return function(){const i=c.apply(this,arguments);i.do(),this.undos||(this.undos=[]),this.undos.push(i.undo)}};class Of extends Dt{constructor(i,s,l){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),ie(this,"makeElementMutable",Ql(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),ie(this,"addToolbar",Ql(()=>{const g=_({tagName:"div",className:cr.attachmentToolbar,data:{trixMutable:!0},childNodes:_({tagName:"div",className:"trix-button-row",childNodes:_({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:_({tagName:"button",className:"trix-button trix-button--remove",textContent:Gl.remove,attributes:{title:Gl.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&g.appendChild(_({tagName:"div",className:cr.attachmentMetadataContainer,childNodes:_({tagName:"span",className:cr.attachmentMetadata,childNodes:[_({tagName:"span",className:cr.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),_({tagName:"span",className:cr.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),k("click",{onElement:g,withCallback:this.didClickToolbar}),k("click",{onElement:g,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),O("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:g,attachment:this.attachment}}),{do:()=>this.element.appendChild(g),undo:()=>q(g)}})),ie(this,"installCaptionEditor",Ql(()=>{const g=_({tagName:"textarea",className:cr.attachmentCaptionEditor,attributes:{placeholder:Gl.captionPlaceholder},data:{trixMutable:!0}});g.value=this.attachmentPiece.getCaption();const y=g.cloneNode();y.classList.add("trix-autoresize-clone"),y.tabIndex=-1;const E=function(){y.value=g.value,g.style.height=y.scrollHeight+"px"};k("input",{onElement:g,withCallback:E}),k("input",{onElement:g,withCallback:this.didInputCaption}),k("keydown",{onElement:g,withCallback:this.didKeyDownCaption}),k("change",{onElement:g,withCallback:this.didChangeCaption}),k("blur",{onElement:g,withCallback:this.didBlurCaption});const P=this.element.querySelector("figcaption"),M=P.cloneNode();return{do:()=>{if(P.style.display="none",M.appendChild(g),M.appendChild(y),M.classList.add("".concat(cr.attachmentCaption,"--editing")),P.parentElement.insertBefore(M,P),E(),this.options.editCaption)return Fl(()=>g.focus())},undo(){q(M),P.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=i,this.element=s,this.container=l,this.options=h,this.attachment=this.attachmentPiece.attachment,rt(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var i;let s=this.undos.pop();for(this.savePendingCaption();s;)s(),s=this.undos.pop();(i=this.delegate)===null||i===void 0||i.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const g=this.pendingCaption;if(this.pendingCaption=null,g){var i,s;(i=this.delegate)===null||i===void 0||(s=i.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||s===void 0||s.call(i,{caption:g},this.attachment)}else{var l,h;(l=this.delegate)===null||l===void 0||(h=l.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||h===void 0||h.call(l,"caption",this.attachment)}}}didClickToolbar(i){return i.preventDefault(),i.stopPropagation()}didClickActionButton(i){var s;switch(i.target.getAttribute("data-trix-action")){case"remove":return(s=this.delegate)===null||s===void 0?void 0:s.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}}didKeyDownCaption(i){if(qb[i.keyCode]==="return"){var s,l;return i.preventDefault(),this.savePendingCaption(),(s=this.delegate)===null||s===void 0||(l=s.attachmentEditorDidRequestDeselectingAttachment)===null||l===void 0?void 0:l.call(s,this.attachment)}}didInputCaption(i){this.pendingCaption=i.target.value.replace(/\s/g," ").trim()}didChangeCaption(i){return this.savePendingCaption()}didBlurCaption(i){return this.savePendingCaption()}}class Bf extends Dt{constructor(i,s){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=i,this.composition=s,this.documentView=new bs(this.composition.document,{element:this.element}),k("focus",{onElement:this.element,withCallback:this.didFocus}),k("blur",{onElement:this.element,withCallback:this.didBlur}),k("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),k("mousedown",{onElement:this.element,matchingSelector:r,withCallback:this.didClickAttachment}),k("click",{onElement:this.element,matchingSelector:"a".concat(r),preventDefault:!0})}didFocus(i){var s;const l=()=>{if(!this.focused){var h,g;return this.focused=!0,(h=this.delegate)===null||h===void 0||(g=h.compositionControllerDidFocus)===null||g===void 0?void 0:g.call(h)}};return((s=this.blurPromise)===null||s===void 0?void 0:s.then(l))||l()}didBlur(i){this.blurPromise=new Promise(s=>Fl(()=>{if(!p(this.element)){var l,h;this.focused=null,(l=this.delegate)===null||l===void 0||(h=l.compositionControllerDidBlur)===null||h===void 0||h.call(l)}return this.blurPromise=null,s()}))}didClickAttachment(i,s){var l,h;const g=this.findAttachmentForElement(s),y=!!F(i.target,{matchingSelector:"figcaption"});return(l=this.delegate)===null||l===void 0||(h=l.compositionControllerDidSelectAttachment)===null||h===void 0?void 0:h.call(l,g,{editCaption:y})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var i,s;if(this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()){var l,h,g,y;(l=this.delegate)===null||l===void 0||(h=l.compositionControllerWillSyncDocumentView)===null||h===void 0||h.call(l),this.documentView.sync(),(g=this.delegate)===null||g===void 0||(y=g.compositionControllerDidSyncDocumentView)===null||y===void 0||y.call(g)}return(i=this.delegate)===null||i===void 0||(s=i.compositionControllerDidRender)===null||s===void 0?void 0:s.call(i)}rerenderViewForObject(i){return this.invalidateViewForObject(i),this.render()}invalidateViewForObject(i){return this.documentView.invalidateViewForObject(i)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(i,s){var l;if(((l=this.attachmentEditor)===null||l===void 0?void 0:l.attachment)===i)return;const h=this.documentView.findElementForObject(i);if(!h)return;this.uninstallAttachmentEditor();const g=this.composition.document.getAttachmentPieceForAttachment(i);this.attachmentEditor=new Of(g,h,this.element,s),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var i;return(i=this.attachmentEditor)===null||i===void 0?void 0:i.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(i,s){var l,h;return(l=this.delegate)===null||l===void 0||(h=l.compositionControllerWillUpdateAttachment)===null||h===void 0||h.call(l,s),this.composition.updateAttributesForAttachment(i,s)}attachmentEditorDidRequestRemovingAttributeForAttachment(i,s){var l,h;return(l=this.delegate)===null||l===void 0||(h=l.compositionControllerWillUpdateAttachment)===null||h===void 0||h.call(l,s),this.composition.removeAttributeForAttachment(i,s)}attachmentEditorDidRequestRemovalOfAttachment(i){var s,l;return(s=this.delegate)===null||s===void 0||(l=s.compositionControllerDidRequestRemovalOfAttachment)===null||l===void 0?void 0:l.call(s,i)}attachmentEditorDidRequestDeselectingAttachment(i){var s,l;return(s=this.delegate)===null||s===void 0||(l=s.compositionControllerDidRequestDeselectingAttachment)===null||l===void 0?void 0:l.call(s,i)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(i){return this.composition.document.getAttachmentById(parseInt(i.dataset.trixId,10))}}class Ff extends Dt{}const Nf="data-trix-mutable",Kb="[".concat(Nf,"]"),Jb={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class Mf extends Dt{constructor(i){super(i),this.didMutate=this.didMutate.bind(this),this.element=i,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,Jb)}stop(){return this.observer.disconnect()}didMutate(i){if(this.mutations.push(...Array.from(this.findSignificantMutations(i)||[])),this.mutations.length){var s,l;return(s=this.delegate)===null||s===void 0||(l=s.elementDidMutate)===null||l===void 0||l.call(s,this.getMutationSummary()),this.reset()}}reset(){this.mutations=[]}findSignificantMutations(i){return i.filter(s=>this.mutationIsSignificant(s))}mutationIsSignificant(i){if(this.nodeIsMutable(i.target))return!1;for(const s of Array.from(this.nodesModifiedByMutation(i)))if(this.nodeIsSignificant(s))return!0;return!1}nodeIsSignificant(i){return i!==this.element&&!this.nodeIsMutable(i)&&!qe(i)}nodeIsMutable(i){return F(i,{matchingSelector:Kb})}nodesModifiedByMutation(i){const s=[];switch(i.type){case"attributes":i.attributeName!==Nf&&s.push(i.target);break;case"characterData":s.push(i.target.parentNode),s.push(i.target);break;case"childList":s.push(...Array.from(i.addedNodes||[])),s.push(...Array.from(i.removedNodes||[]));break}return s}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:i,deletions:s}=this.getTextChangesFromCharacterData(),l=this.getTextChangesFromChildList();Array.from(l.additions).forEach(E=>{Array.from(i).includes(E)||i.push(E)}),s.push(...Array.from(l.deletions||[]));const h={},g=i.join("");g&&(h.textAdded=g);const y=s.join("");return y&&(h.textDeleted=y),h}getMutationsByType(i){return Array.from(this.mutations).filter(s=>s.type===i)}getTextChangesFromChildList(){let i,s;const l=[],h=[];Array.from(this.getMutationsByType("childList")).forEach(P=>{l.push(...Array.from(P.addedNodes||[])),h.push(...Array.from(P.removedNodes||[]))}),l.length===0&&h.length===1&&ut(h[0])?(i=[],s=[`
`]):(i=Xl(l),s=Xl(h));const y=i.filter((P,M)=>P!==s[M]).map(zi),E=s.filter((P,M)=>P!==i[M]).map(zi);return{additions:y,deletions:E}}getTextChangesFromCharacterData(){let i,s;const l=this.getMutationsByType("characterData");if(l.length){const h=l[0],g=l[l.length-1],y=zi(h.oldValue),E=zi(g.target.data),P=Yy(y,E);i=P.added,s=P.removed}return{additions:i?[i]:[],deletions:s?[s]:[]}}}const Xl=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const i=[];for(const s of Array.from(c))switch(s.nodeType){case Node.TEXT_NODE:i.push(s.data);break;case Node.ELEMENT_NODE:rt(s)==="br"?i.push(`
`):i.push(...Array.from(Xl(s.childNodes)||[]));break}return i};class jf extends vs{constructor(i){super(...arguments),this.file=i}perform(i){const s=new FileReader;return s.onerror=()=>i(!1),s.onload=()=>{s.onerror=null;try{s.abort()}catch{}return i(!0,this.file)},s.readAsArrayBuffer(this.file)}}class Gb{constructor(i){this.element=i}shouldIgnore(i){return m.samsungAndroid?(this.previousEvent=this.event,this.event=i,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode):!1}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&Qb(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var i;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((i=this.event.data)===null||i===void 0?void 0:i.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var i,s;return((i=this.previousEvent)===null||i===void 0?void 0:i.type)==="keydown"&&((s=this.previousEvent)===null||s===void 0?void 0:s.key)==="Unidentified"}}const Qb=(c,i)=>zf(c)===zf(i),Xb=new RegExp("(".concat(j,"|").concat(R,"|").concat(w,"|\\s)+"),"g"),zf=c=>c.replace(Xb," ").trim();class Cs extends Dt{constructor(i){super(...arguments),this.element=i,this.mutationObserver=new Mf(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new Gb(this.element);for(const s in this.constructor.events)k(s,{onElement:this.element,withCallback:this.handlerFor(s)})}elementDidMutate(i){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var i,s;return(i=this.delegate)===null||i===void 0||(s=i.inputControllerDidRequestRender)===null||s===void 0?void 0:s.call(i)}requestReparse(){var i,s;return(i=this.delegate)===null||i===void 0||(s=i.inputControllerDidRequestReparse)===null||s===void 0||s.call(i),this.requestRender()}attachFiles(i){const s=Array.from(i).map(l=>new jf(l));return Promise.all(s).then(l=>{this.handleInput(function(){var h,g;return(h=this.delegate)===null||h===void 0||h.inputControllerWillAttachFiles(),(g=this.responder)===null||g===void 0||g.insertFiles(l),this.requestRender()})})}handlerFor(i){return s=>{s.defaultPrevented||this.handleInput(()=>{if(!p(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(s))return;this.eventName=i,this.constructor.events[i].call(this,s)}})}}handleInput(i){try{var s;(s=this.delegate)===null||s===void 0||s.inputControllerWillHandleInput(),i.call(this)}finally{var l;(l=this.delegate)===null||l===void 0||l.inputControllerDidHandleInput()}}createLinkHTML(i,s){const l=document.createElement("a");return l.href=i,l.textContent=s||i,l.outerHTML}}ie(Cs,"events",{});var Yl,Wf;const{browser:Yb,keyNames:_f}=Ni;let Zb=0;class un extends Cs{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const s in i){const l=i[s];this.inputSummary[s]=l}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),sr.reset()}elementDidMutate(i){if(this.isComposing()){var s,l;return(s=this.delegate)===null||s===void 0||(l=s.inputControllerDidAllowUnhandledInput)===null||l===void 0?void 0:l.call(s)}else return this.handleInput(function(){return this.mutationIsSignificant(i)&&(this.mutationIsExpected(i)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(i){let{textAdded:s,textDeleted:l}=i;if(this.inputSummary.preferDocument)return!0;const h=s!=null?s===this.inputSummary.textAdded:!this.inputSummary.textAdded,g=l!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,y=[`
`,` 
`].includes(s)&&!h,E=l===`
`&&!g;if(y&&!E||E&&!y){const Q=this.getSelectedRange();if(Q){var M;const Pt=y?s.replace(/\n$/,"").length||-1:(s==null?void 0:s.length)||1;if((M=this.responder)!==null&&M!==void 0&&M.positionIsBlockBreak(Q[1]+Pt))return!0}}return h&&g}mutationIsSignificant(i){var s;const l=Object.keys(i).length>0,h=((s=this.compositionInput)===null||s===void 0?void 0:s.getEndData())==="";return l||!h}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new Ln(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(i,s){var l;if(((l=this.responder)===null||l===void 0?void 0:l.deleteInDirection(i))===!1){if(s)return s.preventDefault(),this.requestRender()}else return this.setInputSummary({didDelete:!0})}serializeSelectionToDataTransfer(i){var s;if(!Jy(i))return;const l=(s=this.responder)===null||s===void 0?void 0:s.getSelectedDocument().toSerializableDocument();return i.setData("application/x-trix-document",JSON.stringify(l)),i.setData("text/html",bs.render(l).innerHTML),i.setData("text/plain",l.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(i){const s={};return Array.from((i==null?void 0:i.types)||[]).forEach(l=>{s[l]=!0}),s.Files||s["application/x-trix-document"]||s["text/html"]||s["text/plain"]}getPastedHTMLUsingHiddenElement(i){const s=this.getSelectedRange(),l={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},h=_({style:l,tagName:"div",editable:!0});return document.body.appendChild(h),h.focus(),requestAnimationFrame(()=>{const g=h.innerHTML;return q(h),this.setSelectedRange(s),i(g)})}}ie(un,"events",{keydown(c){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const i=_f[c.keyCode];if(i){var s;let h=this.keys;["ctrl","alt","shift","meta"].forEach(g=>{if(c["".concat(g,"Key")]){var y;g==="ctrl"&&(g="control"),h=(y=h)===null||y===void 0?void 0:y[g]}}),((s=h)===null||s===void 0?void 0:s[i])!=null&&(this.setInputSummary({keyName:i}),sr.reset(),h[i].call(this,c))}if(Kh(c)){const h=String.fromCharCode(c.keyCode).toLowerCase();if(h){var l;const g=["alt","shift"].map(y=>{if(c["".concat(y,"Key")])return y}).filter(y=>y);g.push(h),(l=this.delegate)!==null&&l!==void 0&&l.inputControllerDidReceiveKeyboardCommand(g)&&c.preventDefault()}}},keypress(c){if(this.inputSummary.eventName!=null||c.metaKey||c.ctrlKey&&!c.altKey)return;const i=nA(c);if(i){var s,l;return(s=this.delegate)===null||s===void 0||s.inputControllerWillPerformTyping(),(l=this.responder)===null||l===void 0||l.insertString(i),this.setInputSummary({textAdded:i,didDelete:this.selectionIsExpanded()})}},textInput(c){const{data:i}=c,{textAdded:s}=this.inputSummary;if(s&&s!==i&&s.toUpperCase()===i){var l;const h=this.getSelectedRange();return this.setSelectedRange([h[0],h[1]+s.length]),(l=this.responder)===null||l===void 0||l.insertString(i),this.setInputSummary({textAdded:i}),this.setSelectedRange(h)}},dragenter(c){c.preventDefault()},dragstart(c){var i,s;return this.serializeSelectionToDataTransfer(c.dataTransfer),this.draggedRange=this.getSelectedRange(),(i=this.delegate)===null||i===void 0||(s=i.inputControllerDidStartDrag)===null||s===void 0?void 0:s.call(i)},dragover(c){if(this.draggedRange||this.canAcceptDataTransfer(c.dataTransfer)){c.preventDefault();const l={x:c.clientX,y:c.clientY};if(!zr(l,this.draggingPoint)){var i,s;return this.draggingPoint=l,(i=this.delegate)===null||i===void 0||(s=i.inputControllerDidReceiveDragOverPoint)===null||s===void 0?void 0:s.call(i,this.draggingPoint)}}},dragend(c){var i,s;(i=this.delegate)===null||i===void 0||(s=i.inputControllerDidCancelDrag)===null||s===void 0||s.call(i),this.draggedRange=null,this.draggingPoint=null},drop(c){var i,s;c.preventDefault();const l=(i=c.dataTransfer)===null||i===void 0?void 0:i.files,h=c.dataTransfer.getData("application/x-trix-document"),g={x:c.clientX,y:c.clientY};if((s=this.responder)===null||s===void 0||s.setLocationRangeFromPointRange(g),l!=null&&l.length)this.attachFiles(l);else if(this.draggedRange){var y,E;(y=this.delegate)===null||y===void 0||y.inputControllerWillMoveText(),(E=this.responder)===null||E===void 0||E.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(h){var P;const M=Ee.fromJSONString(h);(P=this.responder)===null||P===void 0||P.insertDocument(M),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(c){var i;if((i=this.responder)!==null&&i!==void 0&&i.selectionIsExpanded()){var s;if(this.serializeSelectionToDataTransfer(c.clipboardData)&&c.preventDefault(),(s=this.delegate)===null||s===void 0||s.inputControllerWillCutText(),this.deleteInDirection("backward"),c.defaultPrevented)return this.requestRender()}},copy(c){var i;(i=this.responder)!==null&&i!==void 0&&i.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(c.clipboardData)&&c.preventDefault()},paste(c){const i=c.clipboardData||c.testClipboardData,s={clipboard:i};if(!i||rA(c)){this.getPastedHTMLUsingHiddenElement(oe=>{var Hr,lu,uu;return s.type="text/html",s.html=oe,(Hr=this.delegate)===null||Hr===void 0||Hr.inputControllerWillPaste(s),(lu=this.responder)===null||lu===void 0||lu.insertHTML(s.html),this.requestRender(),(uu=this.delegate)===null||uu===void 0?void 0:uu.inputControllerDidPaste(s)});return}const l=i.getData("URL"),h=i.getData("text/html"),g=i.getData("public.url-name");if(l){var y,E,P;let oe;s.type="text/html",g?oe=jl(g).trim():oe=l,s.html=this.createLinkHTML(l,oe),(y=this.delegate)===null||y===void 0||y.inputControllerWillPaste(s),this.setInputSummary({textAdded:oe,didDelete:this.selectionIsExpanded()}),(E=this.responder)===null||E===void 0||E.insertHTML(s.html),this.requestRender(),(P=this.delegate)===null||P===void 0||P.inputControllerDidPaste(s)}else if(qh(i)){var M,Q,Pt;s.type="text/plain",s.string=i.getData("text/plain"),(M=this.delegate)===null||M===void 0||M.inputControllerWillPaste(s),this.setInputSummary({textAdded:s.string,didDelete:this.selectionIsExpanded()}),(Q=this.responder)===null||Q===void 0||Q.insertString(s.string),this.requestRender(),(Pt=this.delegate)===null||Pt===void 0||Pt.inputControllerDidPaste(s)}else if(h){var Ft,Ur,Ge;s.type="text/html",s.html=h,(Ft=this.delegate)===null||Ft===void 0||Ft.inputControllerWillPaste(s),(Ur=this.responder)===null||Ur===void 0||Ur.insertHTML(s.html),this.requestRender(),(Ge=this.delegate)===null||Ge===void 0||Ge.inputControllerDidPaste(s)}else if(Array.from(i.types).includes("Files")){var dn,qi;const oe=(dn=i.items)===null||dn===void 0||(dn=dn[0])===null||dn===void 0||(qi=dn.getAsFile)===null||qi===void 0?void 0:qi.call(dn);if(oe){var $r,ws,Es;const Hr=tA(oe);!oe.name&&Hr&&(oe.name="pasted-file-".concat(++Zb,".").concat(Hr)),s.type="File",s.file=oe,($r=this.delegate)===null||$r===void 0||$r.inputControllerWillAttachFiles(),(ws=this.responder)===null||ws===void 0||ws.insertFile(s.file),this.requestRender(),(Es=this.delegate)===null||Es===void 0||Es.inputControllerDidPaste(s)}}c.preventDefault()},compositionstart(c){return this.getCompositionInput().start(c.data)},compositionupdate(c){return this.getCompositionInput().update(c.data)},compositionend(c){return this.getCompositionInput().end(c.data)},beforeinput(c){this.inputSummary.didInput=!0},input(c){return this.inputSummary.didInput=!0,c.stopPropagation()}}),ie(un,"keys",{backspace(c){var i;return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping(),this.deleteInDirection("backward",c)},delete(c){var i;return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping(),this.deleteInDirection("forward",c)},return(c){var i,s;return this.setInputSummary({preferDocument:!0}),(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping(),(s=this.responder)===null||s===void 0?void 0:s.insertLineBreak()},tab(c){var i;if((i=this.responder)!==null&&i!==void 0&&i.canIncreaseNestingLevel()){var s;(s=this.responder)===null||s===void 0||s.increaseNestingLevel(),this.requestRender(),c.preventDefault()}},left(c){if(this.selectionIsInCursorTarget()){var i;return c.preventDefault(),(i=this.responder)===null||i===void 0?void 0:i.moveCursorInDirection("backward")}},right(c){if(this.selectionIsInCursorTarget()){var i;return c.preventDefault(),(i=this.responder)===null||i===void 0?void 0:i.moveCursorInDirection("forward")}},control:{d(c){var i;return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping(),this.deleteInDirection("forward",c)},h(c){var i;return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping(),this.deleteInDirection("backward",c)},o(c){var i,s;return c.preventDefault(),(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping(),(s=this.responder)===null||s===void 0||s.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(c){var i,s;(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping(),(s=this.responder)===null||s===void 0||s.insertString(`
`),this.requestRender(),c.preventDefault()},tab(c){var i;if((i=this.responder)!==null&&i!==void 0&&i.canDecreaseNestingLevel()){var s;(s=this.responder)===null||s===void 0||s.decreaseNestingLevel(),this.requestRender(),c.preventDefault()}},left(c){if(this.selectionIsInCursorTarget())return c.preventDefault(),this.expandSelectionInDirection("backward")},right(c){if(this.selectionIsInCursorTarget())return c.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(c){var i;return this.setInputSummary({preferDocument:!1}),(i=this.delegate)===null||i===void 0?void 0:i.inputControllerWillPerformTyping()}},meta:{backspace(c){var i;return this.setInputSummary({preferDocument:!1}),(i=this.delegate)===null||i===void 0?void 0:i.inputControllerWillPerformTyping()}}}),un.proxyMethod("responder?.getSelectedRange"),un.proxyMethod("responder?.setSelectedRange"),un.proxyMethod("responder?.expandSelectionInDirection"),un.proxyMethod("responder?.selectionIsInCursorTarget"),un.proxyMethod("responder?.selectionIsExpanded");const tA=c=>{var i;return(i=c.type)===null||i===void 0||(i=i.match(/\/(\w+)$/))===null||i===void 0?void 0:i[1]},eA=!!((Yl=(Wf=" ").codePointAt)!==null&&Yl!==void 0&&Yl.call(Wf,0)),nA=function(c){if(c.key&&eA&&c.key.codePointAt(0)===c.keyCode)return c.key;{let i;if(c.which===null?i=c.keyCode:c.which!==0&&c.charCode!==0&&(i=c.charCode),i!=null&&_f[i]!=="escape")return Mi.fromCodepoints([i]).toString()}},rA=function(c){const i=c.clipboardData;if(i)if(i.types.includes("text/html")){for(const s of i.types){const l=/^CorePasteboardFlavorType/.test(s),h=/^dyn\./.test(s)&&i.getData(s);if(l||h)return!0}return!1}else{const s=i.types.includes("com.apple.webarchive"),l=i.types.includes("com.apple.flat-rtfd");return s||l}};class Ln extends Dt{constructor(i){super(...arguments),this.inputController=i,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(i){if(this.data.start=i,this.isSignificant()){var s;if(this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded){var l;(l=this.responder)===null||l===void 0||l.deleteInDirection("left")}this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(s=this.responder)===null||s===void 0?void 0:s.getSelectedRange()}}update(i){if(this.data.update=i,this.isSignificant()){const s=this.selectPlaceholder();s&&(this.forgetPlaceholder(),this.range=s)}}end(i){if(this.data.end=i,this.isSignificant()){if(this.forgetPlaceholder(),this.canApplyToDocument()){var s,l,h,g;return this.setInputSummary({preferDocument:!0,didInput:!1}),(s=this.delegate)===null||s===void 0||s.inputControllerWillPerformTyping(),(l=this.responder)===null||l===void 0||l.setSelectedRange(this.range),(h=this.responder)===null||h===void 0||h.insertString(this.data.end),(g=this.responder)===null||g===void 0?void 0:g.setSelectedRange(this.range[0]+this.data.end.length)}else if(this.data.start!=null||this.data.update!=null)return this.requestReparse(),this.inputController.reset()}else return this.inputController.reset()}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return Yb.composesExistingText?this.inputSummary.didInput:!0}canApplyToDocument(){var i,s;return((i=this.data.start)===null||i===void 0?void 0:i.length)===0&&((s=this.data.end)===null||s===void 0?void 0:s.length)>0&&this.range}}Ln.proxyMethod("inputController.setInputSummary"),Ln.proxyMethod("inputController.requestRender"),Ln.proxyMethod("inputController.requestReparse"),Ln.proxyMethod("responder?.selectionIsExpanded"),Ln.proxyMethod("responder?.insertPlaceholder"),Ln.proxyMethod("responder?.selectPlaceholder"),Ln.proxyMethod("responder?.forgetPlaceholder");class Ui extends Cs{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){if(this.scheduledRender){if(this.composing){var i,s;return(i=this.delegate)===null||i===void 0||(s=i.inputControllerDidAllowUnhandledInput)===null||s===void 0?void 0:s.call(i)}}else return this.reparse()}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var i;if(cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,!this.composing){var s;(s=this.delegate)===null||s===void 0||s.render()}(i=this.afterRender)===null||i===void 0||i.call(this),this.afterRender=null}reparse(){var i;return(i=this.delegate)===null||i===void 0?void 0:i.reparse()}insertString(){var i;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1?arguments[1]:void 0;return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var h;return(h=this.responder)===null||h===void 0?void 0:h.insertString(s,l)})}toggleAttributeIfSupported(i){if(Ol().includes(i)){var s;return(s=this.delegate)===null||s===void 0||s.inputControllerWillPerformFormatting(i),this.withTargetDOMRange(function(){var l;return(l=this.responder)===null||l===void 0?void 0:l.toggleCurrentAttribute(i)})}}activateAttributeIfSupported(i,s){if(Ol().includes(i)){var l;return(l=this.delegate)===null||l===void 0||l.inputControllerWillPerformFormatting(i),this.withTargetDOMRange(function(){var h;return(h=this.responder)===null||h===void 0?void 0:h.setCurrentAttribute(i,s)})}}deleteInDirection(i){let{recordUndoEntry:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};if(s){var l;(l=this.delegate)===null||l===void 0||l.inputControllerWillPerformTyping()}const h=()=>{var y;return(y=this.responder)===null||y===void 0?void 0:y.deleteInDirection(i)},g=this.getTargetDOMRange({minLength:this.composing?1:2});return g?this.withTargetDOMRange(g,h):h()}withTargetDOMRange(i,s){if(typeof i=="function"&&(s=i,i=this.getTargetDOMRange()),i){var l;return(l=this.responder)===null||l===void 0?void 0:l.withTargetDOMRange(i,s.bind(this))}else return sr.reset(),s.call(this)}getTargetDOMRange(){var i,s;let{minLength:l}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const h=(i=(s=this.event).getTargetRanges)===null||i===void 0?void 0:i.call(s);if(h&&h.length){const g=iA(h[0]);if(l===0||g.toString().length>=l)return g}}withEvent(i,s){let l;this.event=i;try{l=s.call(this)}finally{this.event=null}return l}}ie(Ui,"events",{keydown(c){if(Kh(c)){var i;const s=aA(c);(i=this.delegate)!==null&&i!==void 0&&i.inputControllerDidReceiveKeyboardCommand(s)&&c.preventDefault()}else{let s=c.key;c.altKey&&(s+="+Alt"),c.shiftKey&&(s+="+Shift");const l=this.constructor.keys[s];if(l)return this.withEvent(c,l)}},paste(c){var i;let s;const l=(i=c.clipboardData)===null||i===void 0?void 0:i.getData("URL");if(Vf(c))return c.preventDefault(),this.attachFiles(c.clipboardData.files);if(sA(c)){var h,g,y;return c.preventDefault(),s={type:"text/plain",string:c.clipboardData.getData("text/plain")},(h=this.delegate)===null||h===void 0||h.inputControllerWillPaste(s),(g=this.responder)===null||g===void 0||g.insertString(s.string),this.render(),(y=this.delegate)===null||y===void 0?void 0:y.inputControllerDidPaste(s)}else if(l){var E,P,M;return c.preventDefault(),s={type:"text/html",html:this.createLinkHTML(l)},(E=this.delegate)===null||E===void 0||E.inputControllerWillPaste(s),(P=this.responder)===null||P===void 0||P.insertHTML(s.html),this.render(),(M=this.delegate)===null||M===void 0?void 0:M.inputControllerDidPaste(s)}},beforeinput(c){const i=this.constructor.inputTypes[c.inputType],s=Gy(c);i&&(this.withEvent(c,i),s||this.scheduleRender()),s&&this.render()},input(c){sr.reset()},dragstart(c){var i;if((i=this.responder)!==null&&i!==void 0&&i.selectionContainsAttachments()){var s;c.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(s=this.responder)===null||s===void 0?void 0:s.getSelectedRange(),point:tu(c)}}},dragenter(c){Zl(c)&&c.preventDefault()},dragover(c){if(this.dragging){c.preventDefault();const s=tu(c);if(!zr(s,this.dragging.point)){var i;return this.dragging.point=s,(i=this.responder)===null||i===void 0?void 0:i.setLocationRangeFromPointRange(s)}}else Zl(c)&&c.preventDefault()},drop(c){if(this.dragging){var i,s;return c.preventDefault(),(i=this.delegate)===null||i===void 0||i.inputControllerWillMoveText(),(s=this.responder)===null||s===void 0||s.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender()}else if(Zl(c)){var l;c.preventDefault();const h=tu(c);return(l=this.responder)===null||l===void 0||l.setLocationRangeFromPointRange(h),this.attachFiles(c.dataTransfer.files)}},dragend(){if(this.dragging){var c;(c=this.responder)===null||c===void 0||c.setSelectedRange(this.dragging.range),this.dragging=null}},compositionend(c){this.composing&&(this.composing=!1,m.recentAndroid||this.scheduleRender())}}),ie(Ui,"keys",{ArrowLeft(){var c;if((c=this.responder)!==null&&c!==void 0&&c.shouldManageMovingCursorInDirection("backward")){var i;return this.event.preventDefault(),(i=this.responder)===null||i===void 0?void 0:i.moveCursorInDirection("backward")}},ArrowRight(){var c;if((c=this.responder)!==null&&c!==void 0&&c.shouldManageMovingCursorInDirection("forward")){var i;return this.event.preventDefault(),(i=this.responder)===null||i===void 0?void 0:i.moveCursorInDirection("forward")}},Backspace(){var c;if((c=this.responder)!==null&&c!==void 0&&c.shouldManageDeletingInDirection("backward")){var i,s;return this.event.preventDefault(),(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping(),(s=this.responder)===null||s===void 0||s.deleteInDirection("backward"),this.render()}},Tab(){var c;if((c=this.responder)!==null&&c!==void 0&&c.canIncreaseNestingLevel()){var i;return this.event.preventDefault(),(i=this.responder)===null||i===void 0||i.increaseNestingLevel(),this.render()}},"Tab+Shift"(){var c;if((c=this.responder)!==null&&c!==void 0&&c.canDecreaseNestingLevel()){var i;return this.event.preventDefault(),(i=this.responder)===null||i===void 0||i.decreaseNestingLevel(),this.render()}}}),ie(Ui,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var c;this.deleteByDragRange=(c=this.responder)===null||c===void 0?void 0:c.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var c;if((c=this.responder)!==null&&c!==void 0&&c.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var c;if((c=this.responder)!==null&&c!==void 0&&c.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const s in(c=this.responder)===null||c===void 0?void 0:c.getCurrentAttributes()){var c,i;(i=this.responder)===null||i===void 0||i.removeCurrentAttribute(s)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerWillPerformRedo()},historyUndo(){var c;return(c=this.delegate)===null||c===void 0?void 0:c.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const c=this.deleteByDragRange;if(c){var i;return this.deleteByDragRange=null,(i=this.delegate)===null||i===void 0||i.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var s;return(s=this.responder)===null||s===void 0?void 0:s.moveTextFromRange(c)})}},insertFromPaste(){const{dataTransfer:c}=this.event,i={dataTransfer:c},s=c.getData("URL"),l=c.getData("text/html");if(s){var h;let P;this.event.preventDefault(),i.type="text/html";const M=c.getData("public.url-name");M?P=jl(M).trim():P=s,i.html=this.createLinkHTML(s,P),(h=this.delegate)===null||h===void 0||h.inputControllerWillPaste(i),this.withTargetDOMRange(function(){var Q;return(Q=this.responder)===null||Q===void 0?void 0:Q.insertHTML(i.html)}),this.afterRender=()=>{var Q;return(Q=this.delegate)===null||Q===void 0?void 0:Q.inputControllerDidPaste(i)}}else if(qh(c)){var g;i.type="text/plain",i.string=c.getData("text/plain"),(g=this.delegate)===null||g===void 0||g.inputControllerWillPaste(i),this.withTargetDOMRange(function(){var P;return(P=this.responder)===null||P===void 0?void 0:P.insertString(i.string)}),this.afterRender=()=>{var P;return(P=this.delegate)===null||P===void 0?void 0:P.inputControllerDidPaste(i)}}else if(oA(this.event)){var y;i.type="File",i.file=c.files[0],(y=this.delegate)===null||y===void 0||y.inputControllerWillPaste(i),this.withTargetDOMRange(function(){var P;return(P=this.responder)===null||P===void 0?void 0:P.insertFile(i.file)}),this.afterRender=()=>{var P;return(P=this.delegate)===null||P===void 0?void 0:P.inputControllerDidPaste(i)}}else if(l){var E;this.event.preventDefault(),i.type="text/html",i.html=l,(E=this.delegate)===null||E===void 0||E.inputControllerWillPaste(i),this.withTargetDOMRange(function(){var P;return(P=this.responder)===null||P===void 0?void 0:P.insertHTML(i.html)}),this.afterRender=()=>{var P;return(P=this.delegate)===null||P===void 0?void 0:P.inputControllerDidPaste(i)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var c;return(c=this.delegate)===null||c===void 0||c.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.insertLineBreak()})},insertReplacementText(){const c=this.event.dataTransfer.getData("text/plain"),i=this.event.getTargetRanges()[0];this.withTargetDOMRange(i,()=>{this.insertString(c,{updatePosition:!1})})},insertText(){var c;return this.insertString(this.event.data||((c=this.event.dataTransfer)===null||c===void 0?void 0:c.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const iA=function(c){const i=document.createRange();return i.setStart(c.startContainer,c.startOffset),i.setEnd(c.endContainer,c.endOffset),i},Zl=c=>{var i;return Array.from(((i=c.dataTransfer)===null||i===void 0?void 0:i.types)||[]).includes("Files")},oA=c=>{var i;return((i=c.dataTransfer.files)===null||i===void 0?void 0:i[0])&&!Vf(c)&&!Ky(c)},Vf=function(c){const i=c.clipboardData;if(i)return Array.from(i.types).filter(l=>l.match(/file/i)).length===i.types.length&&i.files.length>=1},sA=function(c){const i=c.clipboardData;if(i)return i.types.includes("text/plain")&&i.types.length===1},aA=function(c){const i=[];return c.altKey&&i.push("alt"),c.shiftKey&&i.push("shift"),i.push(c.key),i},tu=c=>({x:c.clientX,y:c.clientY}),eu="[data-trix-attribute]",nu="[data-trix-action]",lA="".concat(eu,", ").concat(nu),Ss="[data-trix-dialog]",uA="".concat(Ss,"[data-trix-active]"),cA="".concat(Ss," [data-trix-method]"),Uf="".concat(Ss," [data-trix-input]"),$f=(c,i)=>(i||(i=Vr(c)),c.querySelector("[data-trix-input][name='".concat(i,"']"))),Hf=c=>c.getAttribute("data-trix-action"),Vr=c=>c.getAttribute("data-trix-attribute")||c.getAttribute("data-trix-dialog-attribute"),dA=c=>c.getAttribute("data-trix-dialog");class qf extends Dt{constructor(i){super(i),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=i,this.attributes={},this.actions={},this.resetDialogInputs(),k("mousedown",{onElement:this.element,matchingSelector:nu,withCallback:this.didClickActionButton}),k("mousedown",{onElement:this.element,matchingSelector:eu,withCallback:this.didClickAttributeButton}),k("click",{onElement:this.element,matchingSelector:lA,preventDefault:!0}),k("click",{onElement:this.element,matchingSelector:cA,withCallback:this.didClickDialogButton}),k("keydown",{onElement:this.element,matchingSelector:Uf,withCallback:this.didKeyDownDialogInput})}didClickActionButton(i,s){var l;(l=this.delegate)===null||l===void 0||l.toolbarDidClickButton(),i.preventDefault();const h=Hf(s);if(this.getDialog(h))return this.toggleDialog(h);var g;return(g=this.delegate)===null||g===void 0?void 0:g.toolbarDidInvokeAction(h,s)}didClickAttributeButton(i,s){var l;(l=this.delegate)===null||l===void 0||l.toolbarDidClickButton(),i.preventDefault();const h=Vr(s);if(this.getDialog(h))this.toggleDialog(h);else{var g;(g=this.delegate)===null||g===void 0||g.toolbarDidToggleAttribute(h)}return this.refreshAttributeButtons()}didClickDialogButton(i,s){const l=F(s,{matchingSelector:Ss}),h=s.getAttribute("data-trix-method");return this[h].call(this,l)}didKeyDownDialogInput(i,s){if(i.keyCode===13){i.preventDefault();const l=s.getAttribute("name"),h=this.getDialog(l);this.setAttribute(h)}if(i.keyCode===27)return i.preventDefault(),this.hideDialog()}updateActions(i){return this.actions=i,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((i,s)=>{i.disabled=this.actions[s]===!1})}eachActionButton(i){return Array.from(this.element.querySelectorAll(nu)).map(s=>i(s,Hf(s)))}updateAttributes(i){return this.attributes=i,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((i,s)=>(i.disabled=this.attributes[s]===!1,this.attributes[s]||this.dialogIsVisible(s)?(i.setAttribute("data-trix-active",""),i.classList.add("trix-active")):(i.removeAttribute("data-trix-active"),i.classList.remove("trix-active"))))}eachAttributeButton(i){return Array.from(this.element.querySelectorAll(eu)).map(s=>i(s,Vr(s)))}applyKeyboardCommand(i){const s=JSON.stringify(i.sort());for(const l of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const h=l.getAttribute("data-trix-key").split("+");if(JSON.stringify(h.sort())===s)return O("mousedown",{onElement:l}),!0}return!1}dialogIsVisible(i){const s=this.getDialog(i);if(s)return s.hasAttribute("data-trix-active")}toggleDialog(i){return this.dialogIsVisible(i)?this.hideDialog():this.showDialog(i)}showDialog(i){var s,l;this.hideDialog(),(s=this.delegate)===null||s===void 0||s.toolbarWillShowDialog();const h=this.getDialog(i);h.setAttribute("data-trix-active",""),h.classList.add("trix-active"),Array.from(h.querySelectorAll("input[disabled]")).forEach(y=>{y.removeAttribute("disabled")});const g=Vr(h);if(g){const y=$f(h,i);y&&(y.value=this.attributes[g]||"",y.select())}return(l=this.delegate)===null||l===void 0?void 0:l.toolbarDidShowDialog(i)}setAttribute(i){const s=Vr(i),l=$f(i,s);if(l.willValidate&&!l.checkValidity())return l.setAttribute("data-trix-validate",""),l.classList.add("trix-validate"),l.focus();var h;return(h=this.delegate)===null||h===void 0||h.toolbarDidUpdateAttribute(s,l.value),this.hideDialog()}removeAttribute(i){var s;const l=Vr(i);return(s=this.delegate)===null||s===void 0||s.toolbarDidRemoveAttribute(l),this.hideDialog()}hideDialog(){const i=this.element.querySelector(uA);if(i){var s;return i.removeAttribute("data-trix-active"),i.classList.remove("trix-active"),this.resetDialogInputs(),(s=this.delegate)===null||s===void 0?void 0:s.toolbarDidHideDialog(dA(i))}}resetDialogInputs(){Array.from(this.element.querySelectorAll(Uf)).forEach(i=>{i.setAttribute("disabled","disabled"),i.removeAttribute("data-trix-validate"),i.classList.remove("trix-validate")})}getDialog(i){return this.element.querySelector("[data-trix-dialog=".concat(i,"]"))}}const hA=(c,i)=>ms(c.selectedRange,i.selectedRange)&&c.document.isEqualTo(i.document);class $i extends Ff{constructor(i){let{editorElement:s,document:l,html:h}=i;super(...arguments),this.editorElement=s,this.selectionManager=new ur(this.editorElement),this.selectionManager.delegate=this,this.composition=new Tn,this.composition.delegate=this,this.attachmentManager=new Sf(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=kl.getLevel()===2?new Ui(this.editorElement):new un(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new Bf(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new qf(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new Tf(this.composition,this.selectionManager,this.editorElement),l?this.editor.loadDocument(l):this.editor.loadHTML(h)}registerSelectionManager(){return sr.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return sr.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(i){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(i){return this.currentAttributes=i,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(i){this.pasting&&(this.pastedRange=i)}compositionShouldAcceptFile(i){return this.notifyEditorElement("file-accept",{file:i})}compositionDidAddAttachment(i){const s=this.attachmentManager.manageAttachment(i);return this.notifyEditorElement("attachment-add",{attachment:s})}compositionDidEditAttachment(i){this.compositionController.rerenderViewForObject(i);const s=this.attachmentManager.manageAttachment(i);return this.notifyEditorElement("attachment-edit",{attachment:s}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(i){return this.compositionController.invalidateViewForObject(i),this.notifyEditorElement("change")}compositionDidRemoveAttachment(i){const s=this.attachmentManager.unmanageAttachment(i);return this.notifyEditorElement("attachment-remove",{attachment:s})}compositionDidStartEditingAttachment(i,s){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(i),this.compositionController.installAttachmentEditorForAttachment(i,s),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(i){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(i){if(!(this.loadingSnapshot&&!this.isFocused())&&(this.requestedLocationRange=i,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,!this.handlingInput))return this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(i){return this.removeAttachment(i)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(i,s){return this.toolbarController.hideDialog(),this.composition.editAttachment(i,s)}compositionControllerDidRequestDeselectingAttachment(i){const s=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(i);return this.selectionManager.setLocationRange(s[1])}compositionControllerWillUpdateAttachment(i){return this.editor.recordUndoEntry("Edit Attachment",{context:i.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(i){return this.removeAttachment(i)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(i){return this.recordFormattingUndoEntry(i)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(i){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:i})}inputControllerDidPaste(i){return i.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:i})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(i){return this.toolbarController.applyKeyboardCommand(i)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(i){return this.selectionManager.setLocationRangeFromPointRange(i)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(i){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!ms(this.attachmentLocationRange,i)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(i,s){return this.invokeAction(i,s)}toolbarDidToggleAttribute(i){if(this.recordFormattingUndoEntry(i),this.composition.toggleCurrentAttribute(i),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(i,s){if(this.recordFormattingUndoEntry(i),this.composition.setCurrentAttribute(i,s),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(i){if(this.recordFormattingUndoEntry(i),this.composition.removeCurrentAttribute(i),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(i){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(i){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:i})}toolbarDidHideDialog(i){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:i})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(i){if(this.actionIsExternal(i))return!0;var s;return!!((s=this.actions[i])!==null&&s!==void 0&&(s=s.test)!==null&&s!==void 0&&s.call(this))}invokeAction(i,s){if(this.actionIsExternal(i))return this.notifyEditorElement("action-invoke",{actionName:i,invokingElement:s});var l;return(l=this.actions[i])===null||l===void 0||(l=l.perform)===null||l===void 0?void 0:l.call(this)}actionIsExternal(i){return/^x-./.test(i)}getCurrentActions(){const i={};for(const s in this.actions)i[s]=this.canInvokeAction(s);return i}updateCurrentActions(){const i=this.getCurrentActions();if(!zr(i,this.currentActions))return this.currentActions=i,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let i=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(s=>{const{document:l,selectedRange:h}=i;i=s.call(this.editor,i)||{},i.document||(i.document=l),i.selectedRange||(i.selectedRange=h)}),!hA(i,this.composition.getSnapshot()))return this.composition.loadSnapshot(i)}updateInputElement(){const i=this.compositionController.getSerializableElement(),s=Mb(i,"text/html");return this.editorElement.setFormValue(s)}notifyEditorElement(i,s){switch(i){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement();break}return this.editorElement.notify(i,s)}removeAttachment(i){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(i),this.render()}recordFormattingUndoEntry(i){const s=kt(i),l=this.selectionManager.getLocationRange();if(s||!ln(l))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return[this.getLocationContext(),this.getTimeContext(),...Array.from(s)]}getLocationContext(){const i=this.selectionManager.getLocationRange();return ln(i)?i[0].index:i}getTimeContext(){return wl.interval>0?Math.floor(new Date().getTime()/wl.interval):0}isFocused(){var i;return this.editorElement===((i=this.editorElement.ownerDocument)===null||i===void 0?void 0:i.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}ie($i,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test(){return!0},perform(){return kl.pickFiles(this.editor.insertFiles)}}}),$i.proxyMethod("getSelectionManager().setLocationRange"),$i.proxyMethod("getSelectionManager().getLocationRange");var fA=Object.freeze({__proto__:null,AttachmentEditorController:Of,CompositionController:Bf,Controller:Ff,EditorController:$i,InputController:Cs,Level0InputController:un,Level2InputController:Ui,ToolbarController:qf}),gA=Object.freeze({__proto__:null,MutationObserver:Mf,SelectionChangeObserver:Qh}),mA=Object.freeze({__proto__:null,FileVerificationOperation:jf,ImagePreloadOperation:ff});Uh("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class Kf extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=Wh.getDefaultHTML())}}let pA=0;const vA=function(c){if(!document.querySelector(":focus")&&c.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===c)return c.focus()},yA=function(c){if(!c.hasAttribute("contenteditable"))return c.setAttribute("contenteditable",""),D("focus",{onElement:c,withCallback(){return bA(c)}})},bA=function(c){return AA(c),xA()},AA=function(c){var i,s;if((i=(s=document).queryCommandSupported)!==null&&i!==void 0&&i.call(s,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),k("mscontrolselect",{onElement:c,preventDefault:!0})},xA=function(c){var i,s;if((i=(s=document).queryCommandSupported)!==null&&i!==void 0&&i.call(s,"DefaultParagraphSeparator")){const{tagName:l}=a.default;if(["div","p"].includes(l))return document.execCommand("DefaultParagraphSeparator",!1,l)}},CA=function(c){if(!c.hasAttribute("role"))return c.setAttribute("role","textbox")},SA=function(c){if(c.hasAttribute("aria-label")||c.hasAttribute("aria-labelledby"))return;const i=function(){const l=Array.from(c.labels).map(h=>{if(!h.contains(c))return h.textContent}).filter(h=>h).join(" ");return l?c.setAttribute("aria-label",l):c.removeAttribute("aria-label")};return i(),k("focus",{onElement:c,withCallback:i})},Jf=function(){return m.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"}}();Uh("trix-editor",`%t {
    display: block;
}

%t:empty::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(r,` figcaption textarea {
    resize: none;
}

%t `).concat(r,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(r,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(Jf.display,` !important;
    width: `).concat(Jf.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));var cn=new WeakMap,Hi=new WeakSet;class kA{constructor(i){pb(this,Hi),_i(this,cn,{writable:!0,value:void 0}),this.element=i,Vl(this,cn,i.attachInternals())}connectedCallback(){As(this,Hi,ks).call(this)}disconnectedCallback(){}get labels(){return st(this,cn).labels}get disabled(){var i;return(i=this.element.inputElement)===null||i===void 0?void 0:i.disabled}set disabled(i){this.element.toggleAttribute("disabled",i)}get required(){return this.element.hasAttribute("required")}set required(i){this.element.toggleAttribute("required",i),As(this,Hi,ks).call(this)}get validity(){return st(this,cn).validity}get validationMessage(){return st(this,cn).validationMessage}get willValidate(){return st(this,cn).willValidate}setFormValue(i){As(this,Hi,ks).call(this)}checkValidity(){return st(this,cn).checkValidity()}reportValidity(){return st(this,cn).reportValidity()}setCustomValidity(i){As(this,Hi,ks).call(this,i)}}function ks(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{required:i,value:s}=this.element,l=i&&!s,h=!!c,g=_("input",{required:i}),y=c||g.validationMessage;st(this,cn).setValidity({valueMissing:l,customError:h},y)}var ru=new WeakMap,iu=new WeakMap,ou=new WeakMap;class wA{constructor(i){_i(this,ru,{writable:!0,value:void 0}),_i(this,iu,{writable:!0,value:s=>{s.defaultPrevented||s.target===this.element.form&&this.element.reset()}}),_i(this,ou,{writable:!0,value:s=>{if(s.defaultPrevented||this.element.contains(s.target))return;const l=F(s.target,{matchingSelector:"label"});l&&Array.from(this.labels).includes(l)&&this.element.focus()}}),this.element=i}connectedCallback(){Vl(this,ru,SA(this.element)),window.addEventListener("reset",st(this,iu),!1),window.addEventListener("click",st(this,ou),!1)}disconnectedCallback(){var i;(i=st(this,ru))===null||i===void 0||i.destroy(),window.removeEventListener("reset",st(this,iu),!1),window.removeEventListener("click",st(this,ou),!1)}get labels(){const i=[];this.element.id&&this.element.ownerDocument&&i.push(...Array.from(this.element.ownerDocument.querySelectorAll("label[for='".concat(this.element.id,"']"))||[]));const s=F(this.element,{matchingSelector:"label"});return s&&[this.element,null].includes(s.control)&&i.push(s),i}get disabled(){return console.warn("This browser does not support the [disabled] attribute for trix-editor elements."),!1}set disabled(i){console.warn("This browser does not support the [disabled] attribute for trix-editor elements.")}get required(){return console.warn("This browser does not support the [required] attribute for trix-editor elements."),!1}set required(i){console.warn("This browser does not support the [required] attribute for trix-editor elements.")}get validity(){return console.warn("This browser does not support the validity property for trix-editor elements."),null}get validationMessage(){return console.warn("This browser does not support the validationMessage property for trix-editor elements."),""}get willValidate(){return console.warn("This browser does not support the willValidate property for trix-editor elements."),!1}setFormValue(i){}checkValidity(){return console.warn("This browser does not support checkValidity() for trix-editor elements."),!0}reportValidity(){return console.warn("This browser does not support reportValidity() for trix-editor elements."),!0}setCustomValidity(i){console.warn("This browser does not support setCustomValidity(validationMessage) for trix-editor elements.")}}var $t=new WeakMap;class su extends HTMLElement{constructor(){super(),_i(this,$t,{writable:!0,value:void 0}),Vl(this,$t,this.constructor.formAssociated?new kA(this):new wA(this))}get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++pA),this.trixId)}get labels(){return st(this,$t).labels}get disabled(){return st(this,$t).disabled}set disabled(i){st(this,$t).disabled=i}get required(){return st(this,$t).required}set required(i){st(this,$t).required=i}get validity(){return st(this,$t).validity}get validationMessage(){return st(this,$t).validationMessage}get willValidate(){return st(this,$t).willValidate}get type(){return this.localName}get toolbarElement(){if(this.hasAttribute("toolbar")){var i;return(i=this.ownerDocument)===null||i===void 0?void 0:i.getElementById(this.getAttribute("toolbar"))}else if(this.parentNode){const s="trix-toolbar-".concat(this.trixId);this.setAttribute("toolbar",s);const l=_("trix-toolbar",{id:s});return this.parentNode.insertBefore(l,this),l}else return}get form(){var i;return(i=this.inputElement)===null||i===void 0?void 0:i.form}get inputElement(){if(this.hasAttribute("input")){var i;return(i=this.ownerDocument)===null||i===void 0?void 0:i.getElementById(this.getAttribute("input"))}else if(this.parentNode){const s="trix-input-".concat(this.trixId);this.setAttribute("input",s);const l=_("input",{type:"hidden",id:s});return this.parentNode.insertBefore(l,this.nextElementSibling),l}else return}get editor(){var i;return(i=this.editorController)===null||i===void 0?void 0:i.editor}get name(){var i;return(i=this.inputElement)===null||i===void 0?void 0:i.name}get value(){var i;return(i=this.inputElement)===null||i===void 0?void 0:i.value}set value(i){var s;this.defaultValue=i,(s=this.editor)===null||s===void 0||s.loadHTML(this.defaultValue)}notify(i,s){if(this.editorController)return O("trix-".concat(i),{onElement:this,attributes:s})}setFormValue(i){this.inputElement&&(this.inputElement.value=i,st(this,$t).setFormValue(i))}connectedCallback(){this.hasAttribute("data-trix-internal")||(yA(this),CA(this),this.editorController||(O("trix-before-initialize",{onElement:this}),this.editorController=new $i({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>O("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),st(this,$t).connectedCallback(),vA(this))}disconnectedCallback(){var i;(i=this.editorController)===null||i===void 0||i.unregisterSelectionManager(),st(this,$t).disconnectedCallback()}checkValidity(){return st(this,$t).checkValidity()}reportValidity(){return st(this,$t).reportValidity()}setCustomValidity(i){st(this,$t).setCustomValidity(i)}formDisabledCallback(i){this.inputElement&&(this.inputElement.disabled=i),this.toggleAttribute("contenteditable",!i)}formResetCallback(){this.reset()}reset(){this.value=this.defaultValue}}ie(su,"formAssociated","ElementInternals"in window);var EA=Object.freeze({__proto__:null,TrixEditorElement:su,TrixToolbarElement:Kf}),RA=Object.freeze({__proto__:null,Filter:Ef,attachmentGalleryFilter:Rf});const au={VERSION:n,config:Ni,core:jb,models:If,views:Hb,controllers:fA,observers:gA,operations:mA,elements:EA,filters:RA};Object.assign(au,If);function TA(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",Kf),customElements.get("trix-editor")||customElements.define("trix-editor",su)}return window.Trix=au,setTimeout(TA,0),au})})(ZE);const tR=()=>{const[e,t]=mt.useState(localStorage.getItem("diciq-note")),n=mt.useRef();return mt.useEffect(()=>{yd.config.textAttributes.fontSize={styleProperty:"font-size",inheritable:1},n.current.addEventListener("trix-change",r=>{t(r.target.innerHTML),localStorage.setItem("diciq-note",r.target.innerHTML)})},[n]),me.jsxs("main",{children:[me.jsx("input",{type:"text",hidden:!0,value:e,id:"editor-input",readOnly:!0}),me.jsx(Rm,{sx:{marginBottom:2},children:me.jsx("trix-editor",{ref:n,toolbar:"app-editor-toolbar",input:"editor-input",style:{height:"80vh",overflowY:"auto"}})}),me.jsx(Rm,{elevation:10,sx:{padding:4,borderRadius:4},children:me.jsx("trix-toolbar",{id:"app-editor-toolbar"})})]})};function eR(){return me.jsx(Cw,{display:"flex",sx:{height:{sm:"100vh",md:"100vh",lg:"100%"}},flexDirection:"column",justifyContent:"center",padding:2,children:me.jsx(tR,{})})}const nR=Eh({});h0(document.getElementById("root")).render(me.jsx(mt.StrictMode,{children:me.jsx(tS,{theme:nR,children:me.jsx(eR,{})})}));
